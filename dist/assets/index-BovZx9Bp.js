(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();function Xg(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Vd={exports:{}},ya={},Md={exports:{}},be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var km;function f_(){if(km)return be;km=1;var i=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),d=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),w=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),C=Symbol.iterator;function j(O){return O===null||typeof O!="object"?null:(O=C&&O[C]||O["@@iterator"],typeof O=="function"?O:null)}var $={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Y=Object.assign,Z={};function q(O,H,ce){this.props=O,this.context=H,this.refs=Z,this.updater=ce||$}q.prototype.isReactComponent={},q.prototype.setState=function(O,H){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,H,"setState")},q.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function ye(){}ye.prototype=q.prototype;function ve(O,H,ce){this.props=O,this.context=H,this.refs=Z,this.updater=ce||$}var _e=ve.prototype=new ye;_e.constructor=ve,Y(_e,q.prototype),_e.isPureReactComponent=!0;var Ne=Array.isArray,Ke=Object.prototype.hasOwnProperty,Se={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function T(O,H,ce){var Ae,Re={},Pe=null,Fe=null;if(H!=null)for(Ae in H.ref!==void 0&&(Fe=H.ref),H.key!==void 0&&(Pe=""+H.key),H)Ke.call(H,Ae)&&!N.hasOwnProperty(Ae)&&(Re[Ae]=H[Ae]);var Oe=arguments.length-2;if(Oe===1)Re.children=ce;else if(1<Oe){for(var He=Array(Oe),mt=0;mt<Oe;mt++)He[mt]=arguments[mt+2];Re.children=He}if(O&&O.defaultProps)for(Ae in Oe=O.defaultProps,Oe)Re[Ae]===void 0&&(Re[Ae]=Oe[Ae]);return{$$typeof:i,type:O,key:Pe,ref:Fe,props:Re,_owner:Se.current}}function S(O,H){return{$$typeof:i,type:O.type,key:H,ref:O.ref,props:O.props,_owner:O._owner}}function R(O){return typeof O=="object"&&O!==null&&O.$$typeof===i}function b(O){var H={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ce){return H[ce]})}var D=/\/+/g;function k(O,H){return typeof O=="object"&&O!==null&&O.key!=null?b(""+O.key):H.toString(36)}function Qe(O,H,ce,Ae,Re){var Pe=typeof O;(Pe==="undefined"||Pe==="boolean")&&(O=null);var Fe=!1;if(O===null)Fe=!0;else switch(Pe){case"string":case"number":Fe=!0;break;case"object":switch(O.$$typeof){case i:case e:Fe=!0}}if(Fe)return Fe=O,Re=Re(Fe),O=Ae===""?"."+k(Fe,0):Ae,Ne(Re)?(ce="",O!=null&&(ce=O.replace(D,"$&/")+"/"),Qe(Re,H,ce,"",function(mt){return mt})):Re!=null&&(R(Re)&&(Re=S(Re,ce+(!Re.key||Fe&&Fe.key===Re.key?"":(""+Re.key).replace(D,"$&/")+"/")+O)),H.push(Re)),1;if(Fe=0,Ae=Ae===""?".":Ae+":",Ne(O))for(var Oe=0;Oe<O.length;Oe++){Pe=O[Oe];var He=Ae+k(Pe,Oe);Fe+=Qe(Pe,H,ce,He,Re)}else if(He=j(O),typeof He=="function")for(O=He.call(O),Oe=0;!(Pe=O.next()).done;)Pe=Pe.value,He=Ae+k(Pe,Oe++),Fe+=Qe(Pe,H,ce,He,Re);else if(Pe==="object")throw H=String(O),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.");return Fe}function _t(O,H,ce){if(O==null)return O;var Ae=[],Re=0;return Qe(O,Ae,"","",function(Pe){return H.call(ce,Pe,Re++)}),Ae}function dt(O){if(O._status===-1){var H=O._result;H=H(),H.then(function(ce){(O._status===0||O._status===-1)&&(O._status=1,O._result=ce)},function(ce){(O._status===0||O._status===-1)&&(O._status=2,O._result=ce)}),O._status===-1&&(O._status=0,O._result=H)}if(O._status===1)return O._result.default;throw O._result}var ze={current:null},ee={transition:null},de={ReactCurrentDispatcher:ze,ReactCurrentBatchConfig:ee,ReactCurrentOwner:Se};function ne(){throw Error("act(...) is not supported in production builds of React.")}return be.Children={map:_t,forEach:function(O,H,ce){_t(O,function(){H.apply(this,arguments)},ce)},count:function(O){var H=0;return _t(O,function(){H++}),H},toArray:function(O){return _t(O,function(H){return H})||[]},only:function(O){if(!R(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},be.Component=q,be.Fragment=t,be.Profiler=o,be.PureComponent=ve,be.StrictMode=s,be.Suspense=g,be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=de,be.act=ne,be.cloneElement=function(O,H,ce){if(O==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+O+".");var Ae=Y({},O.props),Re=O.key,Pe=O.ref,Fe=O._owner;if(H!=null){if(H.ref!==void 0&&(Pe=H.ref,Fe=Se.current),H.key!==void 0&&(Re=""+H.key),O.type&&O.type.defaultProps)var Oe=O.type.defaultProps;for(He in H)Ke.call(H,He)&&!N.hasOwnProperty(He)&&(Ae[He]=H[He]===void 0&&Oe!==void 0?Oe[He]:H[He])}var He=arguments.length-2;if(He===1)Ae.children=ce;else if(1<He){Oe=Array(He);for(var mt=0;mt<He;mt++)Oe[mt]=arguments[mt+2];Ae.children=Oe}return{$$typeof:i,type:O.type,key:Re,ref:Pe,props:Ae,_owner:Fe}},be.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},O.Provider={$$typeof:u,_context:O},O.Consumer=O},be.createElement=T,be.createFactory=function(O){var H=T.bind(null,O);return H.type=O,H},be.createRef=function(){return{current:null}},be.forwardRef=function(O){return{$$typeof:m,render:O}},be.isValidElement=R,be.lazy=function(O){return{$$typeof:x,_payload:{_status:-1,_result:O},_init:dt}},be.memo=function(O,H){return{$$typeof:w,type:O,compare:H===void 0?null:H}},be.startTransition=function(O){var H=ee.transition;ee.transition={};try{O()}finally{ee.transition=H}},be.unstable_act=ne,be.useCallback=function(O,H){return ze.current.useCallback(O,H)},be.useContext=function(O){return ze.current.useContext(O)},be.useDebugValue=function(){},be.useDeferredValue=function(O){return ze.current.useDeferredValue(O)},be.useEffect=function(O,H){return ze.current.useEffect(O,H)},be.useId=function(){return ze.current.useId()},be.useImperativeHandle=function(O,H,ce){return ze.current.useImperativeHandle(O,H,ce)},be.useInsertionEffect=function(O,H){return ze.current.useInsertionEffect(O,H)},be.useLayoutEffect=function(O,H){return ze.current.useLayoutEffect(O,H)},be.useMemo=function(O,H){return ze.current.useMemo(O,H)},be.useReducer=function(O,H,ce){return ze.current.useReducer(O,H,ce)},be.useRef=function(O){return ze.current.useRef(O)},be.useState=function(O){return ze.current.useState(O)},be.useSyncExternalStore=function(O,H,ce){return ze.current.useSyncExternalStore(O,H,ce)},be.useTransition=function(){return ze.current.useTransition()},be.version="18.3.1",be}var Sm;function Ph(){return Sm||(Sm=1,Md.exports=f_()),Md.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Am;function p_(){if(Am)return ya;Am=1;var i=Ph(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function d(m,g,w){var x,C={},j=null,$=null;w!==void 0&&(j=""+w),g.key!==void 0&&(j=""+g.key),g.ref!==void 0&&($=g.ref);for(x in g)s.call(g,x)&&!u.hasOwnProperty(x)&&(C[x]=g[x]);if(m&&m.defaultProps)for(x in g=m.defaultProps,g)C[x]===void 0&&(C[x]=g[x]);return{$$typeof:e,type:m,key:j,ref:$,props:C,_owner:o.current}}return ya.Fragment=t,ya.jsx=d,ya.jsxs=d,ya}var Cm;function m_(){return Cm||(Cm=1,Vd.exports=p_()),Vd.exports}var v=m_(),Te=Ph();const g_=Xg(Te);var du={},Ld={exports:{}},un={},jd={exports:{}},Fd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rm;function y_(){return Rm||(Rm=1,(function(i){function e(ee,de){var ne=ee.length;ee.push(de);e:for(;0<ne;){var O=ne-1>>>1,H=ee[O];if(0<o(H,de))ee[O]=de,ee[ne]=H,ne=O;else break e}}function t(ee){return ee.length===0?null:ee[0]}function s(ee){if(ee.length===0)return null;var de=ee[0],ne=ee.pop();if(ne!==de){ee[0]=ne;e:for(var O=0,H=ee.length,ce=H>>>1;O<ce;){var Ae=2*(O+1)-1,Re=ee[Ae],Pe=Ae+1,Fe=ee[Pe];if(0>o(Re,ne))Pe<H&&0>o(Fe,Re)?(ee[O]=Fe,ee[Pe]=ne,O=Pe):(ee[O]=Re,ee[Ae]=ne,O=Ae);else if(Pe<H&&0>o(Fe,ne))ee[O]=Fe,ee[Pe]=ne,O=Pe;else break e}}return de}function o(ee,de){var ne=ee.sortIndex-de.sortIndex;return ne!==0?ne:ee.id-de.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var d=Date,m=d.now();i.unstable_now=function(){return d.now()-m}}var g=[],w=[],x=1,C=null,j=3,$=!1,Y=!1,Z=!1,q=typeof setTimeout=="function"?setTimeout:null,ye=typeof clearTimeout=="function"?clearTimeout:null,ve=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _e(ee){for(var de=t(w);de!==null;){if(de.callback===null)s(w);else if(de.startTime<=ee)s(w),de.sortIndex=de.expirationTime,e(g,de);else break;de=t(w)}}function Ne(ee){if(Z=!1,_e(ee),!Y)if(t(g)!==null)Y=!0,dt(Ke);else{var de=t(w);de!==null&&ze(Ne,de.startTime-ee)}}function Ke(ee,de){Y=!1,Z&&(Z=!1,ye(T),T=-1),$=!0;var ne=j;try{for(_e(de),C=t(g);C!==null&&(!(C.expirationTime>de)||ee&&!b());){var O=C.callback;if(typeof O=="function"){C.callback=null,j=C.priorityLevel;var H=O(C.expirationTime<=de);de=i.unstable_now(),typeof H=="function"?C.callback=H:C===t(g)&&s(g),_e(de)}else s(g);C=t(g)}if(C!==null)var ce=!0;else{var Ae=t(w);Ae!==null&&ze(Ne,Ae.startTime-de),ce=!1}return ce}finally{C=null,j=ne,$=!1}}var Se=!1,N=null,T=-1,S=5,R=-1;function b(){return!(i.unstable_now()-R<S)}function D(){if(N!==null){var ee=i.unstable_now();R=ee;var de=!0;try{de=N(!0,ee)}finally{de?k():(Se=!1,N=null)}}else Se=!1}var k;if(typeof ve=="function")k=function(){ve(D)};else if(typeof MessageChannel<"u"){var Qe=new MessageChannel,_t=Qe.port2;Qe.port1.onmessage=D,k=function(){_t.postMessage(null)}}else k=function(){q(D,0)};function dt(ee){N=ee,Se||(Se=!0,k())}function ze(ee,de){T=q(function(){ee(i.unstable_now())},de)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(ee){ee.callback=null},i.unstable_continueExecution=function(){Y||$||(Y=!0,dt(Ke))},i.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<ee?Math.floor(1e3/ee):5},i.unstable_getCurrentPriorityLevel=function(){return j},i.unstable_getFirstCallbackNode=function(){return t(g)},i.unstable_next=function(ee){switch(j){case 1:case 2:case 3:var de=3;break;default:de=j}var ne=j;j=de;try{return ee()}finally{j=ne}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(ee,de){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var ne=j;j=ee;try{return de()}finally{j=ne}},i.unstable_scheduleCallback=function(ee,de,ne){var O=i.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?O+ne:O):ne=O,ee){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=ne+H,ee={id:x++,callback:de,priorityLevel:ee,startTime:ne,expirationTime:H,sortIndex:-1},ne>O?(ee.sortIndex=ne,e(w,ee),t(g)===null&&ee===t(w)&&(Z?(ye(T),T=-1):Z=!0,ze(Ne,ne-O))):(ee.sortIndex=H,e(g,ee),Y||$||(Y=!0,dt(Ke))),ee},i.unstable_shouldYield=b,i.unstable_wrapCallback=function(ee){var de=j;return function(){var ne=j;j=de;try{return ee.apply(this,arguments)}finally{j=ne}}}})(Fd)),Fd}var Pm;function v_(){return Pm||(Pm=1,jd.exports=y_()),jd.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nm;function __(){if(Nm)return un;Nm=1;var i=Ph(),e=v_();function t(n){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+n,a=1;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function u(n,r){d(n,r),d(n+"Capture",r)}function d(n,r){for(o[n]=r,n=0;n<r.length;n++)s.add(r[n])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,w=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,x={},C={};function j(n){return g.call(C,n)?!0:g.call(x,n)?!1:w.test(n)?C[n]=!0:(x[n]=!0,!1)}function $(n,r,a,c){if(a!==null&&a.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function Y(n,r,a,c){if(r===null||typeof r>"u"||$(n,r,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function Z(n,r,a,c,h,p,_){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=c,this.attributeNamespace=h,this.mustUseProperty=a,this.propertyName=n,this.type=r,this.sanitizeURL=p,this.removeEmptyString=_}var q={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){q[n]=new Z(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var r=n[0];q[r]=new Z(r,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){q[n]=new Z(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){q[n]=new Z(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){q[n]=new Z(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){q[n]=new Z(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){q[n]=new Z(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){q[n]=new Z(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){q[n]=new Z(n,5,!1,n.toLowerCase(),null,!1,!1)});var ye=/[\-:]([a-z])/g;function ve(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var r=n.replace(ye,ve);q[r]=new Z(r,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var r=n.replace(ye,ve);q[r]=new Z(r,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var r=n.replace(ye,ve);q[r]=new Z(r,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){q[n]=new Z(n,1,!1,n.toLowerCase(),null,!1,!1)}),q.xlinkHref=new Z("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){q[n]=new Z(n,1,!1,n.toLowerCase(),null,!0,!0)});function _e(n,r,a,c){var h=q.hasOwnProperty(r)?q[r]:null;(h!==null?h.type!==0:c||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(Y(r,a,h,c)&&(a=null),c||h===null?j(r)&&(a===null?n.removeAttribute(r):n.setAttribute(r,""+a)):h.mustUseProperty?n[h.propertyName]=a===null?h.type===3?!1:"":a:(r=h.attributeName,c=h.attributeNamespace,a===null?n.removeAttribute(r):(h=h.type,a=h===3||h===4&&a===!0?"":""+a,c?n.setAttributeNS(c,r,a):n.setAttribute(r,a))))}var Ne=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ke=Symbol.for("react.element"),Se=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),b=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),Qe=Symbol.for("react.suspense_list"),_t=Symbol.for("react.memo"),dt=Symbol.for("react.lazy"),ze=Symbol.for("react.offscreen"),ee=Symbol.iterator;function de(n){return n===null||typeof n!="object"?null:(n=ee&&n[ee]||n["@@iterator"],typeof n=="function"?n:null)}var ne=Object.assign,O;function H(n){if(O===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);O=r&&r[1]||""}return`
`+O+n}var ce=!1;function Ae(n,r){if(!n||ce)return"";ce=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(F){var c=F}Reflect.construct(n,[],r)}else{try{r.call()}catch(F){c=F}n.call(r.prototype)}else{try{throw Error()}catch(F){c=F}n()}}catch(F){if(F&&c&&typeof F.stack=="string"){for(var h=F.stack.split(`
`),p=c.stack.split(`
`),_=h.length-1,I=p.length-1;1<=_&&0<=I&&h[_]!==p[I];)I--;for(;1<=_&&0<=I;_--,I--)if(h[_]!==p[I]){if(_!==1||I!==1)do if(_--,I--,0>I||h[_]!==p[I]){var A=`
`+h[_].replace(" at new "," at ");return n.displayName&&A.includes("<anonymous>")&&(A=A.replace("<anonymous>",n.displayName)),A}while(1<=_&&0<=I);break}}}finally{ce=!1,Error.prepareStackTrace=a}return(n=n?n.displayName||n.name:"")?H(n):""}function Re(n){switch(n.tag){case 5:return H(n.type);case 16:return H("Lazy");case 13:return H("Suspense");case 19:return H("SuspenseList");case 0:case 2:case 15:return n=Ae(n.type,!1),n;case 11:return n=Ae(n.type.render,!1),n;case 1:return n=Ae(n.type,!0),n;default:return""}}function Pe(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case N:return"Fragment";case Se:return"Portal";case S:return"Profiler";case T:return"StrictMode";case k:return"Suspense";case Qe:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case b:return(n.displayName||"Context")+".Consumer";case R:return(n._context.displayName||"Context")+".Provider";case D:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case _t:return r=n.displayName||null,r!==null?r:Pe(n.type)||"Memo";case dt:r=n._payload,n=n._init;try{return Pe(n(r))}catch{}}return null}function Fe(n){var r=n.type;switch(n.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=r.render,n=n.displayName||n.name||"",r.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Pe(r);case 8:return r===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function Oe(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function He(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function mt(n){var r=He(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),c=""+n[r];if(!n.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,p=a.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return h.call(this)},set:function(_){c=""+_,p.call(this,_)}}),Object.defineProperty(n,r,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(_){c=""+_},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function Zt(n){n._valueTracker||(n._valueTracker=mt(n))}function Xr(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var a=r.getValue(),c="";return n&&(c=He(n)?n.checked?"true":"false":n.value),n=c,n!==a?(r.setValue(n),!0):!1}function cn(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function dn(n,r){var a=r.checked;return ne({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??n._wrapperState.initialChecked})}function er(n,r){var a=r.defaultValue==null?"":r.defaultValue,c=r.checked!=null?r.checked:r.defaultChecked;a=Oe(r.value!=null?r.value:a),n._wrapperState={initialChecked:c,initialValue:a,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function Jr(n,r){r=r.checked,r!=null&&_e(n,"checked",r,!1)}function Zr(n,r){Jr(n,r);var a=Oe(r.value),c=r.type;if(a!=null)c==="number"?(a===0&&n.value===""||n.value!=a)&&(n.value=""+a):n.value!==""+a&&(n.value=""+a);else if(c==="submit"||c==="reset"){n.removeAttribute("value");return}r.hasOwnProperty("value")?_r(n,r.type,a):r.hasOwnProperty("defaultValue")&&_r(n,r.type,Oe(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(n.defaultChecked=!!r.defaultChecked)}function Wi(n,r,a){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var c=r.type;if(!(c!=="submit"&&c!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+n._wrapperState.initialValue,a||r===n.value||(n.value=r),n.defaultValue=r}a=n.name,a!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,a!==""&&(n.name=a)}function _r(n,r,a){(r!=="number"||cn(n.ownerDocument)!==n)&&(a==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+a&&(n.defaultValue=""+a))}var Vn=Array.isArray;function Mn(n,r,a,c){if(n=n.options,r){r={};for(var h=0;h<a.length;h++)r["$"+a[h]]=!0;for(a=0;a<n.length;a++)h=r.hasOwnProperty("$"+n[a].value),n[a].selected!==h&&(n[a].selected=h),h&&c&&(n[a].defaultSelected=!0)}else{for(a=""+Oe(a),r=null,h=0;h<n.length;h++){if(n[h].value===a){n[h].selected=!0,c&&(n[h].defaultSelected=!0);return}r!==null||n[h].disabled||(r=n[h])}r!==null&&(r.selected=!0)}}function ei(n,r){if(r.dangerouslySetInnerHTML!=null)throw Error(t(91));return ne({},r,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function wr(n,r){var a=r.value;if(a==null){if(a=r.children,r=r.defaultValue,a!=null){if(r!=null)throw Error(t(92));if(Vn(a)){if(1<a.length)throw Error(t(93));a=a[0]}r=a}r==null&&(r=""),a=r}n._wrapperState={initialValue:Oe(a)}}function tr(n,r){var a=Oe(r.value),c=Oe(r.defaultValue);a!=null&&(a=""+a,a!==n.value&&(n.value=a),r.defaultValue==null&&n.defaultValue!==a&&(n.defaultValue=a)),c!=null&&(n.defaultValue=""+c)}function ti(n){var r=n.textContent;r===n._wrapperState.initialValue&&r!==""&&r!==null&&(n.value=r)}function ht(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function at(n,r){return n==null||n==="http://www.w3.org/1999/xhtml"?ht(r):n==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Ln,Ft=(function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,a,c,h){MSApp.execUnsafeLocalFunction(function(){return n(r,a,c,h)})}:n})(function(n,r){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=r;else{for(Ln=Ln||document.createElement("div"),Ln.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=Ln.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;r.firstChild;)n.appendChild(r.firstChild)}});function nr(n,r){if(r){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=r;return}}n.textContent=r}var kt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Er=["Webkit","ms","Moz","O"];Object.keys(kt).forEach(function(n){Er.forEach(function(r){r=r+n.charAt(0).toUpperCase()+n.substring(1),kt[r]=kt[n]})});function qi(n,r,a){return r==null||typeof r=="boolean"||r===""?"":a||typeof r!="number"||r===0||kt.hasOwnProperty(n)&&kt[n]?(""+r).trim():r+"px"}function Ki(n,r){n=n.style;for(var a in r)if(r.hasOwnProperty(a)){var c=a.indexOf("--")===0,h=qi(a,r[a],c);a==="float"&&(a="cssFloat"),c?n.setProperty(a,h):n[a]=h}}var Gi=ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qi(n,r){if(r){if(Gi[n]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(t(137,n));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(t(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(t(61))}if(r.style!=null&&typeof r.style!="object")throw Error(t(62))}}function jn(n,r){if(n.indexOf("-")===-1)return typeof r.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xr=null;function ni(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var ri=null,en=null,xn=null;function ii(n){if(n=na(n)){if(typeof ri!="function")throw Error(t(280));var r=n.stateNode;r&&(r=Sl(r),ri(n.stateNode,n.type,r))}}function Tn(n){en?xn?xn.push(n):xn=[n]:en=n}function Yi(){if(en){var n=en,r=xn;if(xn=en=null,ii(n),r)for(n=0;n<r.length;n++)ii(r[n])}}function Tr(n,r){return n(r)}function si(){}var Fn=!1;function Xi(n,r,a){if(Fn)return n(r,a);Fn=!0;try{return Tr(n,r,a)}finally{Fn=!1,(en!==null||xn!==null)&&(si(),Yi())}}function rt(n,r){var a=n.stateNode;if(a===null)return null;var c=Sl(a);if(c===null)return null;a=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(t(231,r,typeof a));return a}var oi=!1;if(m)try{var hn={};Object.defineProperty(hn,"passive",{get:function(){oi=!0}}),window.addEventListener("test",hn,hn),window.removeEventListener("test",hn,hn)}catch{oi=!1}function Ir(n,r,a,c,h,p,_,I,A){var F=Array.prototype.slice.call(arguments,3);try{r.apply(a,F)}catch(K){this.onError(K)}}var kr=!1,ai=null,fn=!1,Ji=null,z={onError:function(n){kr=!0,ai=n}};function B(n,r,a,c,h,p,_,I,A){kr=!1,ai=null,Ir.apply(z,arguments)}function ue(n,r,a,c,h,p,_,I,A){if(B.apply(this,arguments),kr){if(kr){var F=ai;kr=!1,ai=null}else throw Error(t(198));fn||(fn=!0,Ji=F)}}function Ee(n){var r=n,a=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(a=r.return),n=r.return;while(n)}return r.tag===3?a:null}function lt(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function et(n){if(Ee(n)!==n)throw Error(t(188))}function Un(n){var r=n.alternate;if(!r){if(r=Ee(n),r===null)throw Error(t(188));return r!==n?null:n}for(var a=n,c=r;;){var h=a.return;if(h===null)break;var p=h.alternate;if(p===null){if(c=h.return,c!==null){a=c;continue}break}if(h.child===p.child){for(p=h.child;p;){if(p===a)return et(h),n;if(p===c)return et(h),r;p=p.sibling}throw Error(t(188))}if(a.return!==c.return)a=h,c=p;else{for(var _=!1,I=h.child;I;){if(I===a){_=!0,a=h,c=p;break}if(I===c){_=!0,c=h,a=p;break}I=I.sibling}if(!_){for(I=p.child;I;){if(I===a){_=!0,a=p,c=h;break}if(I===c){_=!0,c=p,a=h;break}I=I.sibling}if(!_)throw Error(t(189))}}if(a.alternate!==c)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?n:r}function Sr(n){return n=Un(n),n!==null?li(n):null}function li(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var r=li(n);if(r!==null)return r;n=n.sibling}return null}var Ds=e.unstable_scheduleCallback,jo=e.unstable_cancelCallback,Za=e.unstable_shouldYield,cc=e.unstable_requestPaint,Ye=e.unstable_now,el=e.unstable_getCurrentPriorityLevel,Zi=e.unstable_ImmediatePriority,ui=e.unstable_UserBlockingPriority,In=e.unstable_NormalPriority,Fo=e.unstable_LowPriority,tl=e.unstable_IdlePriority,es=null,pn=null;function nl(n){if(pn&&typeof pn.onCommitFiberRoot=="function")try{pn.onCommitFiberRoot(es,n,void 0,(n.current.flags&128)===128)}catch{}}var Gt=Math.clz32?Math.clz32:il,Uo=Math.log,rl=Math.LN2;function il(n){return n>>>=0,n===0?32:31-(Uo(n)/rl|0)|0}var Os=64,Vs=4194304;function ci(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function ts(n,r){var a=n.pendingLanes;if(a===0)return 0;var c=0,h=n.suspendedLanes,p=n.pingedLanes,_=a&268435455;if(_!==0){var I=_&~h;I!==0?c=ci(I):(p&=_,p!==0&&(c=ci(p)))}else _=a&~h,_!==0?c=ci(_):p!==0&&(c=ci(p));if(c===0)return 0;if(r!==0&&r!==c&&(r&h)===0&&(h=c&-c,p=r&-r,h>=p||h===16&&(p&4194240)!==0))return r;if((c&4)!==0&&(c|=a&16),r=n.entangledLanes,r!==0)for(n=n.entanglements,r&=c;0<r;)a=31-Gt(r),h=1<<a,c|=n[a],r&=~h;return c}function dc(n,r){switch(n){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ar(n,r){for(var a=n.suspendedLanes,c=n.pingedLanes,h=n.expirationTimes,p=n.pendingLanes;0<p;){var _=31-Gt(p),I=1<<_,A=h[_];A===-1?((I&a)===0||(I&c)!==0)&&(h[_]=dc(I,r)):A<=r&&(n.expiredLanes|=I),p&=~I}}function mn(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function ns(){var n=Os;return Os<<=1,(Os&4194240)===0&&(Os=64),n}function di(n){for(var r=[],a=0;31>a;a++)r.push(n);return r}function hi(n,r,a){n.pendingLanes|=r,r!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,r=31-Gt(r),n[r]=a}function Ge(n,r){var a=n.pendingLanes&~r;n.pendingLanes=r,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=r,n.mutableReadLanes&=r,n.entangledLanes&=r,r=n.entanglements;var c=n.eventTimes;for(n=n.expirationTimes;0<a;){var h=31-Gt(a),p=1<<h;r[h]=0,c[h]=-1,n[h]=-1,a&=~p}}function fi(n,r){var a=n.entangledLanes|=r;for(n=n.entanglements;a;){var c=31-Gt(a),h=1<<c;h&r|n[c]&r&&(n[c]|=r),a&=~h}}var Ve=0;function pi(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var sl,Ms,ol,al,ll,zo=!1,rr=[],Nt=null,zn=null,Bn=null,mi=new Map,kn=new Map,ir=[],hc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ul(n,r){switch(n){case"focusin":case"focusout":Nt=null;break;case"dragenter":case"dragleave":zn=null;break;case"mouseover":case"mouseout":Bn=null;break;case"pointerover":case"pointerout":mi.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":kn.delete(r.pointerId)}}function tn(n,r,a,c,h,p){return n===null||n.nativeEvent!==p?(n={blockedOn:r,domEventName:a,eventSystemFlags:c,nativeEvent:p,targetContainers:[h]},r!==null&&(r=na(r),r!==null&&Ms(r)),n):(n.eventSystemFlags|=c,r=n.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),n)}function fc(n,r,a,c,h){switch(r){case"focusin":return Nt=tn(Nt,n,r,a,c,h),!0;case"dragenter":return zn=tn(zn,n,r,a,c,h),!0;case"mouseover":return Bn=tn(Bn,n,r,a,c,h),!0;case"pointerover":var p=h.pointerId;return mi.set(p,tn(mi.get(p)||null,n,r,a,c,h)),!0;case"gotpointercapture":return p=h.pointerId,kn.set(p,tn(kn.get(p)||null,n,r,a,c,h)),!0}return!1}function cl(n){var r=as(n.target);if(r!==null){var a=Ee(r);if(a!==null){if(r=a.tag,r===13){if(r=lt(a),r!==null){n.blockedOn=r,ll(n.priority,function(){ol(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Cr(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var a=Ls(n.domEventName,n.eventSystemFlags,r[0],n.nativeEvent);if(a===null){a=n.nativeEvent;var c=new a.constructor(a.type,a);xr=c,a.target.dispatchEvent(c),xr=null}else return r=na(a),r!==null&&Ms(r),n.blockedOn=a,!1;r.shift()}return!0}function rs(n,r,a){Cr(n)&&a.delete(r)}function dl(){zo=!1,Nt!==null&&Cr(Nt)&&(Nt=null),zn!==null&&Cr(zn)&&(zn=null),Bn!==null&&Cr(Bn)&&(Bn=null),mi.forEach(rs),kn.forEach(rs)}function $n(n,r){n.blockedOn===r&&(n.blockedOn=null,zo||(zo=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,dl)))}function Hn(n){function r(h){return $n(h,n)}if(0<rr.length){$n(rr[0],n);for(var a=1;a<rr.length;a++){var c=rr[a];c.blockedOn===n&&(c.blockedOn=null)}}for(Nt!==null&&$n(Nt,n),zn!==null&&$n(zn,n),Bn!==null&&$n(Bn,n),mi.forEach(r),kn.forEach(r),a=0;a<ir.length;a++)c=ir[a],c.blockedOn===n&&(c.blockedOn=null);for(;0<ir.length&&(a=ir[0],a.blockedOn===null);)cl(a),a.blockedOn===null&&ir.shift()}var Rr=Ne.ReactCurrentBatchConfig,gi=!0;function tt(n,r,a,c){var h=Ve,p=Rr.transition;Rr.transition=null;try{Ve=1,Bo(n,r,a,c)}finally{Ve=h,Rr.transition=p}}function pc(n,r,a,c){var h=Ve,p=Rr.transition;Rr.transition=null;try{Ve=4,Bo(n,r,a,c)}finally{Ve=h,Rr.transition=p}}function Bo(n,r,a,c){if(gi){var h=Ls(n,r,a,c);if(h===null)kc(n,r,c,is,a),ul(n,c);else if(fc(h,n,r,a,c))c.stopPropagation();else if(ul(n,c),r&4&&-1<hc.indexOf(n)){for(;h!==null;){var p=na(h);if(p!==null&&sl(p),p=Ls(n,r,a,c),p===null&&kc(n,r,c,is,a),p===h)break;h=p}h!==null&&c.stopPropagation()}else kc(n,r,c,null,a)}}var is=null;function Ls(n,r,a,c){if(is=null,n=ni(c),n=as(n),n!==null)if(r=Ee(n),r===null)n=null;else if(a=r.tag,a===13){if(n=lt(r),n!==null)return n;n=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null);return is=n,null}function $o(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(el()){case Zi:return 1;case ui:return 4;case In:case Fo:return 16;case tl:return 536870912;default:return 16}default:return 16}}var gn=null,js=null,nn=null;function Ho(){if(nn)return nn;var n,r=js,a=r.length,c,h="value"in gn?gn.value:gn.textContent,p=h.length;for(n=0;n<a&&r[n]===h[n];n++);var _=a-n;for(c=1;c<=_&&r[a-c]===h[p-c];c++);return nn=h.slice(n,1<c?1-c:void 0)}function Fs(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function sr(){return!0}function Wo(){return!1}function bt(n){function r(a,c,h,p,_){this._reactName=a,this._targetInst=h,this.type=c,this.nativeEvent=p,this.target=_,this.currentTarget=null;for(var I in n)n.hasOwnProperty(I)&&(a=n[I],this[I]=a?a(p):p[I]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?sr:Wo,this.isPropagationStopped=Wo,this}return ne(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=sr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=sr)},persist:function(){},isPersistent:sr}),r}var Wn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Us=bt(Wn),or=ne({},Wn,{view:0,detail:0}),mc=bt(or),zs,Pr,yi,ss=ne({},or,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ar,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==yi&&(yi&&n.type==="mousemove"?(zs=n.screenX-yi.screenX,Pr=n.screenY-yi.screenY):Pr=zs=0,yi=n),zs)},movementY:function(n){return"movementY"in n?n.movementY:Pr}}),Bs=bt(ss),qo=ne({},ss,{dataTransfer:0}),hl=bt(qo),$s=ne({},or,{relatedTarget:0}),Hs=bt($s),fl=ne({},Wn,{animationName:0,elapsedTime:0,pseudoElement:0}),Nr=bt(fl),pl=ne({},Wn,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),ml=bt(pl),gl=ne({},Wn,{data:0}),Ko=bt(gl),Ws={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vl(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=yl[n])?!!r[n]:!1}function ar(){return vl}var l=ne({},or,{key:function(n){if(n.key){var r=Ws[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=Fs(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Qt[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ar,charCode:function(n){return n.type==="keypress"?Fs(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Fs(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),f=bt(l),y=ne({},ss,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),E=bt(y),V=ne({},or,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ar}),U=bt(V),te=ne({},Wn,{propertyName:0,elapsedTime:0,pseudoElement:0}),We=bt(te),wt=ne({},ss,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Le=bt(wt),St=[9,13,27,32],gt=m&&"CompositionEvent"in window,Sn=null;m&&"documentMode"in document&&(Sn=document.documentMode);var yn=m&&"TextEvent"in window&&!Sn,os=m&&(!gt||Sn&&8<Sn&&11>=Sn),qs=" ",_f=!1;function wf(n,r){switch(n){case"keyup":return St.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ef(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ks=!1;function cv(n,r){switch(n){case"compositionend":return Ef(r);case"keypress":return r.which!==32?null:(_f=!0,qs);case"textInput":return n=r.data,n===qs&&_f?null:n;default:return null}}function dv(n,r){if(Ks)return n==="compositionend"||!gt&&wf(n,r)?(n=Ho(),nn=js=gn=null,Ks=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return os&&r.locale!=="ko"?null:r.data;default:return null}}var hv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xf(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!hv[n.type]:r==="textarea"}function Tf(n,r,a,c){Tn(c),r=Tl(r,"onChange"),0<r.length&&(a=new Us("onChange","change",null,a,c),n.push({event:a,listeners:r}))}var Go=null,Qo=null;function fv(n){zf(n,0)}function _l(n){var r=Js(n);if(Xr(r))return n}function pv(n,r){if(n==="change")return r}var If=!1;if(m){var gc;if(m){var yc="oninput"in document;if(!yc){var kf=document.createElement("div");kf.setAttribute("oninput","return;"),yc=typeof kf.oninput=="function"}gc=yc}else gc=!1;If=gc&&(!document.documentMode||9<document.documentMode)}function Sf(){Go&&(Go.detachEvent("onpropertychange",Af),Qo=Go=null)}function Af(n){if(n.propertyName==="value"&&_l(Qo)){var r=[];Tf(r,Qo,n,ni(n)),Xi(fv,r)}}function mv(n,r,a){n==="focusin"?(Sf(),Go=r,Qo=a,Go.attachEvent("onpropertychange",Af)):n==="focusout"&&Sf()}function gv(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return _l(Qo)}function yv(n,r){if(n==="click")return _l(r)}function vv(n,r){if(n==="input"||n==="change")return _l(r)}function _v(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var qn=typeof Object.is=="function"?Object.is:_v;function Yo(n,r){if(qn(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var a=Object.keys(n),c=Object.keys(r);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var h=a[c];if(!g.call(r,h)||!qn(n[h],r[h]))return!1}return!0}function Cf(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Rf(n,r){var a=Cf(n);n=0;for(var c;a;){if(a.nodeType===3){if(c=n+a.textContent.length,n<=r&&c>=r)return{node:a,offset:r-n};n=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Cf(a)}}function Pf(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?Pf(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function Nf(){for(var n=window,r=cn();r instanceof n.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)n=r.contentWindow;else break;r=cn(n.document)}return r}function vc(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}function wv(n){var r=Nf(),a=n.focusedElem,c=n.selectionRange;if(r!==a&&a&&a.ownerDocument&&Pf(a.ownerDocument.documentElement,a)){if(c!==null&&vc(a)){if(r=c.start,n=c.end,n===void 0&&(n=r),"selectionStart"in a)a.selectionStart=r,a.selectionEnd=Math.min(n,a.value.length);else if(n=(r=a.ownerDocument||document)&&r.defaultView||window,n.getSelection){n=n.getSelection();var h=a.textContent.length,p=Math.min(c.start,h);c=c.end===void 0?p:Math.min(c.end,h),!n.extend&&p>c&&(h=c,c=p,p=h),h=Rf(a,p);var _=Rf(a,c);h&&_&&(n.rangeCount!==1||n.anchorNode!==h.node||n.anchorOffset!==h.offset||n.focusNode!==_.node||n.focusOffset!==_.offset)&&(r=r.createRange(),r.setStart(h.node,h.offset),n.removeAllRanges(),p>c?(n.addRange(r),n.extend(_.node,_.offset)):(r.setEnd(_.node,_.offset),n.addRange(r)))}}for(r=[],n=a;n=n.parentNode;)n.nodeType===1&&r.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<r.length;a++)n=r[a],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var Ev=m&&"documentMode"in document&&11>=document.documentMode,Gs=null,_c=null,Xo=null,wc=!1;function bf(n,r,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;wc||Gs==null||Gs!==cn(c)||(c=Gs,"selectionStart"in c&&vc(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Xo&&Yo(Xo,c)||(Xo=c,c=Tl(_c,"onSelect"),0<c.length&&(r=new Us("onSelect","select",null,r,a),n.push({event:r,listeners:c}),r.target=Gs)))}function wl(n,r){var a={};return a[n.toLowerCase()]=r.toLowerCase(),a["Webkit"+n]="webkit"+r,a["Moz"+n]="moz"+r,a}var Qs={animationend:wl("Animation","AnimationEnd"),animationiteration:wl("Animation","AnimationIteration"),animationstart:wl("Animation","AnimationStart"),transitionend:wl("Transition","TransitionEnd")},Ec={},Df={};m&&(Df=document.createElement("div").style,"AnimationEvent"in window||(delete Qs.animationend.animation,delete Qs.animationiteration.animation,delete Qs.animationstart.animation),"TransitionEvent"in window||delete Qs.transitionend.transition);function El(n){if(Ec[n])return Ec[n];if(!Qs[n])return n;var r=Qs[n],a;for(a in r)if(r.hasOwnProperty(a)&&a in Df)return Ec[n]=r[a];return n}var Of=El("animationend"),Vf=El("animationiteration"),Mf=El("animationstart"),Lf=El("transitionend"),jf=new Map,Ff="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vi(n,r){jf.set(n,r),u(r,[n])}for(var xc=0;xc<Ff.length;xc++){var Tc=Ff[xc],xv=Tc.toLowerCase(),Tv=Tc[0].toUpperCase()+Tc.slice(1);vi(xv,"on"+Tv)}vi(Of,"onAnimationEnd"),vi(Vf,"onAnimationIteration"),vi(Mf,"onAnimationStart"),vi("dblclick","onDoubleClick"),vi("focusin","onFocus"),vi("focusout","onBlur"),vi(Lf,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Iv=new Set("cancel close invalid load scroll toggle".split(" ").concat(Jo));function Uf(n,r,a){var c=n.type||"unknown-event";n.currentTarget=a,ue(c,r,void 0,n),n.currentTarget=null}function zf(n,r){r=(r&4)!==0;for(var a=0;a<n.length;a++){var c=n[a],h=c.event;c=c.listeners;e:{var p=void 0;if(r)for(var _=c.length-1;0<=_;_--){var I=c[_],A=I.instance,F=I.currentTarget;if(I=I.listener,A!==p&&h.isPropagationStopped())break e;Uf(h,I,F),p=A}else for(_=0;_<c.length;_++){if(I=c[_],A=I.instance,F=I.currentTarget,I=I.listener,A!==p&&h.isPropagationStopped())break e;Uf(h,I,F),p=A}}}if(fn)throw n=Ji,fn=!1,Ji=null,n}function Je(n,r){var a=r[Nc];a===void 0&&(a=r[Nc]=new Set);var c=n+"__bubble";a.has(c)||(Bf(r,n,2,!1),a.add(c))}function Ic(n,r,a){var c=0;r&&(c|=4),Bf(a,n,c,r)}var xl="_reactListening"+Math.random().toString(36).slice(2);function Zo(n){if(!n[xl]){n[xl]=!0,s.forEach(function(a){a!=="selectionchange"&&(Iv.has(a)||Ic(a,!1,n),Ic(a,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[xl]||(r[xl]=!0,Ic("selectionchange",!1,r))}}function Bf(n,r,a,c){switch($o(r)){case 1:var h=tt;break;case 4:h=pc;break;default:h=Bo}a=h.bind(null,r,a,n),h=void 0,!oi||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),c?h!==void 0?n.addEventListener(r,a,{capture:!0,passive:h}):n.addEventListener(r,a,!0):h!==void 0?n.addEventListener(r,a,{passive:h}):n.addEventListener(r,a,!1)}function kc(n,r,a,c,h){var p=c;if((r&1)===0&&(r&2)===0&&c!==null)e:for(;;){if(c===null)return;var _=c.tag;if(_===3||_===4){var I=c.stateNode.containerInfo;if(I===h||I.nodeType===8&&I.parentNode===h)break;if(_===4)for(_=c.return;_!==null;){var A=_.tag;if((A===3||A===4)&&(A=_.stateNode.containerInfo,A===h||A.nodeType===8&&A.parentNode===h))return;_=_.return}for(;I!==null;){if(_=as(I),_===null)return;if(A=_.tag,A===5||A===6){c=p=_;continue e}I=I.parentNode}}c=c.return}Xi(function(){var F=p,K=ni(a),Q=[];e:{var W=jf.get(n);if(W!==void 0){var re=Us,se=n;switch(n){case"keypress":if(Fs(a)===0)break e;case"keydown":case"keyup":re=f;break;case"focusin":se="focus",re=Hs;break;case"focusout":se="blur",re=Hs;break;case"beforeblur":case"afterblur":re=Hs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=Bs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=hl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=U;break;case Of:case Vf:case Mf:re=Nr;break;case Lf:re=We;break;case"scroll":re=mc;break;case"wheel":re=Le;break;case"copy":case"cut":case"paste":re=ml;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=E}var oe=(r&4)!==0,ft=!oe&&n==="scroll",M=oe?W!==null?W+"Capture":null:W;oe=[];for(var P=F,L;P!==null;){L=P;var J=L.stateNode;if(L.tag===5&&J!==null&&(L=J,M!==null&&(J=rt(P,M),J!=null&&oe.push(ea(P,J,L)))),ft)break;P=P.return}0<oe.length&&(W=new re(W,se,null,a,K),Q.push({event:W,listeners:oe}))}}if((r&7)===0){e:{if(W=n==="mouseover"||n==="pointerover",re=n==="mouseout"||n==="pointerout",W&&a!==xr&&(se=a.relatedTarget||a.fromElement)&&(as(se)||se[br]))break e;if((re||W)&&(W=K.window===K?K:(W=K.ownerDocument)?W.defaultView||W.parentWindow:window,re?(se=a.relatedTarget||a.toElement,re=F,se=se?as(se):null,se!==null&&(ft=Ee(se),se!==ft||se.tag!==5&&se.tag!==6)&&(se=null)):(re=null,se=F),re!==se)){if(oe=Bs,J="onMouseLeave",M="onMouseEnter",P="mouse",(n==="pointerout"||n==="pointerover")&&(oe=E,J="onPointerLeave",M="onPointerEnter",P="pointer"),ft=re==null?W:Js(re),L=se==null?W:Js(se),W=new oe(J,P+"leave",re,a,K),W.target=ft,W.relatedTarget=L,J=null,as(K)===F&&(oe=new oe(M,P+"enter",se,a,K),oe.target=L,oe.relatedTarget=ft,J=oe),ft=J,re&&se)t:{for(oe=re,M=se,P=0,L=oe;L;L=Ys(L))P++;for(L=0,J=M;J;J=Ys(J))L++;for(;0<P-L;)oe=Ys(oe),P--;for(;0<L-P;)M=Ys(M),L--;for(;P--;){if(oe===M||M!==null&&oe===M.alternate)break t;oe=Ys(oe),M=Ys(M)}oe=null}else oe=null;re!==null&&$f(Q,W,re,oe,!1),se!==null&&ft!==null&&$f(Q,ft,se,oe,!0)}}e:{if(W=F?Js(F):window,re=W.nodeName&&W.nodeName.toLowerCase(),re==="select"||re==="input"&&W.type==="file")var le=pv;else if(xf(W))if(If)le=vv;else{le=gv;var he=mv}else(re=W.nodeName)&&re.toLowerCase()==="input"&&(W.type==="checkbox"||W.type==="radio")&&(le=yv);if(le&&(le=le(n,F))){Tf(Q,le,a,K);break e}he&&he(n,W,F),n==="focusout"&&(he=W._wrapperState)&&he.controlled&&W.type==="number"&&_r(W,"number",W.value)}switch(he=F?Js(F):window,n){case"focusin":(xf(he)||he.contentEditable==="true")&&(Gs=he,_c=F,Xo=null);break;case"focusout":Xo=_c=Gs=null;break;case"mousedown":wc=!0;break;case"contextmenu":case"mouseup":case"dragend":wc=!1,bf(Q,a,K);break;case"selectionchange":if(Ev)break;case"keydown":case"keyup":bf(Q,a,K)}var fe;if(gt)e:{switch(n){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else Ks?wf(n,a)&&(we="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(we="onCompositionStart");we&&(os&&a.locale!=="ko"&&(Ks||we!=="onCompositionStart"?we==="onCompositionEnd"&&Ks&&(fe=Ho()):(gn=K,js="value"in gn?gn.value:gn.textContent,Ks=!0)),he=Tl(F,we),0<he.length&&(we=new Ko(we,n,null,a,K),Q.push({event:we,listeners:he}),fe?we.data=fe:(fe=Ef(a),fe!==null&&(we.data=fe)))),(fe=yn?cv(n,a):dv(n,a))&&(F=Tl(F,"onBeforeInput"),0<F.length&&(K=new Ko("onBeforeInput","beforeinput",null,a,K),Q.push({event:K,listeners:F}),K.data=fe))}zf(Q,r)})}function ea(n,r,a){return{instance:n,listener:r,currentTarget:a}}function Tl(n,r){for(var a=r+"Capture",c=[];n!==null;){var h=n,p=h.stateNode;h.tag===5&&p!==null&&(h=p,p=rt(n,a),p!=null&&c.unshift(ea(n,p,h)),p=rt(n,r),p!=null&&c.push(ea(n,p,h))),n=n.return}return c}function Ys(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function $f(n,r,a,c,h){for(var p=r._reactName,_=[];a!==null&&a!==c;){var I=a,A=I.alternate,F=I.stateNode;if(A!==null&&A===c)break;I.tag===5&&F!==null&&(I=F,h?(A=rt(a,p),A!=null&&_.unshift(ea(a,A,I))):h||(A=rt(a,p),A!=null&&_.push(ea(a,A,I)))),a=a.return}_.length!==0&&n.push({event:r,listeners:_})}var kv=/\r\n?/g,Sv=/\u0000|\uFFFD/g;function Hf(n){return(typeof n=="string"?n:""+n).replace(kv,`
`).replace(Sv,"")}function Il(n,r,a){if(r=Hf(r),Hf(n)!==r&&a)throw Error(t(425))}function kl(){}var Sc=null,Ac=null;function Cc(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Rc=typeof setTimeout=="function"?setTimeout:void 0,Av=typeof clearTimeout=="function"?clearTimeout:void 0,Wf=typeof Promise=="function"?Promise:void 0,Cv=typeof queueMicrotask=="function"?queueMicrotask:typeof Wf<"u"?function(n){return Wf.resolve(null).then(n).catch(Rv)}:Rc;function Rv(n){setTimeout(function(){throw n})}function Pc(n,r){var a=r,c=0;do{var h=a.nextSibling;if(n.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(c===0){n.removeChild(h),Hn(r);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=h}while(a);Hn(r)}function _i(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return n}function qf(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return n;r--}else a==="/$"&&r++}n=n.previousSibling}return null}var Xs=Math.random().toString(36).slice(2),lr="__reactFiber$"+Xs,ta="__reactProps$"+Xs,br="__reactContainer$"+Xs,Nc="__reactEvents$"+Xs,Pv="__reactListeners$"+Xs,Nv="__reactHandles$"+Xs;function as(n){var r=n[lr];if(r)return r;for(var a=n.parentNode;a;){if(r=a[br]||a[lr]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(n=qf(n);n!==null;){if(a=n[lr])return a;n=qf(n)}return r}n=a,a=n.parentNode}return null}function na(n){return n=n[lr]||n[br],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Js(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(t(33))}function Sl(n){return n[ta]||null}var bc=[],Zs=-1;function wi(n){return{current:n}}function Ze(n){0>Zs||(n.current=bc[Zs],bc[Zs]=null,Zs--)}function Xe(n,r){Zs++,bc[Zs]=n.current,n.current=r}var Ei={},Ut=wi(Ei),rn=wi(!1),ls=Ei;function eo(n,r){var a=n.type.contextTypes;if(!a)return Ei;var c=n.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===r)return c.__reactInternalMemoizedMaskedChildContext;var h={},p;for(p in a)h[p]=r[p];return c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=r,n.__reactInternalMemoizedMaskedChildContext=h),h}function sn(n){return n=n.childContextTypes,n!=null}function Al(){Ze(rn),Ze(Ut)}function Kf(n,r,a){if(Ut.current!==Ei)throw Error(t(168));Xe(Ut,r),Xe(rn,a)}function Gf(n,r,a){var c=n.stateNode;if(r=r.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var h in c)if(!(h in r))throw Error(t(108,Fe(n)||"Unknown",h));return ne({},a,c)}function Cl(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Ei,ls=Ut.current,Xe(Ut,n),Xe(rn,rn.current),!0}function Qf(n,r,a){var c=n.stateNode;if(!c)throw Error(t(169));a?(n=Gf(n,r,ls),c.__reactInternalMemoizedMergedChildContext=n,Ze(rn),Ze(Ut),Xe(Ut,n)):Ze(rn),Xe(rn,a)}var Dr=null,Rl=!1,Dc=!1;function Yf(n){Dr===null?Dr=[n]:Dr.push(n)}function bv(n){Rl=!0,Yf(n)}function xi(){if(!Dc&&Dr!==null){Dc=!0;var n=0,r=Ve;try{var a=Dr;for(Ve=1;n<a.length;n++){var c=a[n];do c=c(!0);while(c!==null)}Dr=null,Rl=!1}catch(h){throw Dr!==null&&(Dr=Dr.slice(n+1)),Ds(Zi,xi),h}finally{Ve=r,Dc=!1}}return null}var to=[],no=0,Pl=null,Nl=0,An=[],Cn=0,us=null,Or=1,Vr="";function cs(n,r){to[no++]=Nl,to[no++]=Pl,Pl=n,Nl=r}function Xf(n,r,a){An[Cn++]=Or,An[Cn++]=Vr,An[Cn++]=us,us=n;var c=Or;n=Vr;var h=32-Gt(c)-1;c&=~(1<<h),a+=1;var p=32-Gt(r)+h;if(30<p){var _=h-h%5;p=(c&(1<<_)-1).toString(32),c>>=_,h-=_,Or=1<<32-Gt(r)+h|a<<h|c,Vr=p+n}else Or=1<<p|a<<h|c,Vr=n}function Oc(n){n.return!==null&&(cs(n,1),Xf(n,1,0))}function Vc(n){for(;n===Pl;)Pl=to[--no],to[no]=null,Nl=to[--no],to[no]=null;for(;n===us;)us=An[--Cn],An[Cn]=null,Vr=An[--Cn],An[Cn]=null,Or=An[--Cn],An[Cn]=null}var vn=null,_n=null,nt=!1,Kn=null;function Jf(n,r){var a=bn(5,null,null,0);a.elementType="DELETED",a.stateNode=r,a.return=n,r=n.deletions,r===null?(n.deletions=[a],n.flags|=16):r.push(a)}function Zf(n,r){switch(n.tag){case 5:var a=n.type;return r=r.nodeType!==1||a.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(n.stateNode=r,vn=n,_n=_i(r.firstChild),!0):!1;case 6:return r=n.pendingProps===""||r.nodeType!==3?null:r,r!==null?(n.stateNode=r,vn=n,_n=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(a=us!==null?{id:Or,overflow:Vr}:null,n.memoizedState={dehydrated:r,treeContext:a,retryLane:1073741824},a=bn(18,null,null,0),a.stateNode=r,a.return=n,n.child=a,vn=n,_n=null,!0):!1;default:return!1}}function Mc(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Lc(n){if(nt){var r=_n;if(r){var a=r;if(!Zf(n,r)){if(Mc(n))throw Error(t(418));r=_i(a.nextSibling);var c=vn;r&&Zf(n,r)?Jf(c,a):(n.flags=n.flags&-4097|2,nt=!1,vn=n)}}else{if(Mc(n))throw Error(t(418));n.flags=n.flags&-4097|2,nt=!1,vn=n}}}function ep(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;vn=n}function bl(n){if(n!==vn)return!1;if(!nt)return ep(n),nt=!0,!1;var r;if((r=n.tag!==3)&&!(r=n.tag!==5)&&(r=n.type,r=r!=="head"&&r!=="body"&&!Cc(n.type,n.memoizedProps)),r&&(r=_n)){if(Mc(n))throw tp(),Error(t(418));for(;r;)Jf(n,r),r=_i(r.nextSibling)}if(ep(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(t(317));e:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"){if(r===0){_n=_i(n.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++}n=n.nextSibling}_n=null}}else _n=vn?_i(n.stateNode.nextSibling):null;return!0}function tp(){for(var n=_n;n;)n=_i(n.nextSibling)}function ro(){_n=vn=null,nt=!1}function jc(n){Kn===null?Kn=[n]:Kn.push(n)}var Dv=Ne.ReactCurrentBatchConfig;function ra(n,r,a){if(n=a.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var c=a.stateNode}if(!c)throw Error(t(147,n));var h=c,p=""+n;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===p?r.ref:(r=function(_){var I=h.refs;_===null?delete I[p]:I[p]=_},r._stringRef=p,r)}if(typeof n!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,n))}return n}function Dl(n,r){throw n=Object.prototype.toString.call(r),Error(t(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n))}function np(n){var r=n._init;return r(n._payload)}function rp(n){function r(M,P){if(n){var L=M.deletions;L===null?(M.deletions=[P],M.flags|=16):L.push(P)}}function a(M,P){if(!n)return null;for(;P!==null;)r(M,P),P=P.sibling;return null}function c(M,P){for(M=new Map;P!==null;)P.key!==null?M.set(P.key,P):M.set(P.index,P),P=P.sibling;return M}function h(M,P){return M=Pi(M,P),M.index=0,M.sibling=null,M}function p(M,P,L){return M.index=L,n?(L=M.alternate,L!==null?(L=L.index,L<P?(M.flags|=2,P):L):(M.flags|=2,P)):(M.flags|=1048576,P)}function _(M){return n&&M.alternate===null&&(M.flags|=2),M}function I(M,P,L,J){return P===null||P.tag!==6?(P=Rd(L,M.mode,J),P.return=M,P):(P=h(P,L),P.return=M,P)}function A(M,P,L,J){var le=L.type;return le===N?K(M,P,L.props.children,J,L.key):P!==null&&(P.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===dt&&np(le)===P.type)?(J=h(P,L.props),J.ref=ra(M,P,L),J.return=M,J):(J=ru(L.type,L.key,L.props,null,M.mode,J),J.ref=ra(M,P,L),J.return=M,J)}function F(M,P,L,J){return P===null||P.tag!==4||P.stateNode.containerInfo!==L.containerInfo||P.stateNode.implementation!==L.implementation?(P=Pd(L,M.mode,J),P.return=M,P):(P=h(P,L.children||[]),P.return=M,P)}function K(M,P,L,J,le){return P===null||P.tag!==7?(P=vs(L,M.mode,J,le),P.return=M,P):(P=h(P,L),P.return=M,P)}function Q(M,P,L){if(typeof P=="string"&&P!==""||typeof P=="number")return P=Rd(""+P,M.mode,L),P.return=M,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Ke:return L=ru(P.type,P.key,P.props,null,M.mode,L),L.ref=ra(M,null,P),L.return=M,L;case Se:return P=Pd(P,M.mode,L),P.return=M,P;case dt:var J=P._init;return Q(M,J(P._payload),L)}if(Vn(P)||de(P))return P=vs(P,M.mode,L,null),P.return=M,P;Dl(M,P)}return null}function W(M,P,L,J){var le=P!==null?P.key:null;if(typeof L=="string"&&L!==""||typeof L=="number")return le!==null?null:I(M,P,""+L,J);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case Ke:return L.key===le?A(M,P,L,J):null;case Se:return L.key===le?F(M,P,L,J):null;case dt:return le=L._init,W(M,P,le(L._payload),J)}if(Vn(L)||de(L))return le!==null?null:K(M,P,L,J,null);Dl(M,L)}return null}function re(M,P,L,J,le){if(typeof J=="string"&&J!==""||typeof J=="number")return M=M.get(L)||null,I(P,M,""+J,le);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case Ke:return M=M.get(J.key===null?L:J.key)||null,A(P,M,J,le);case Se:return M=M.get(J.key===null?L:J.key)||null,F(P,M,J,le);case dt:var he=J._init;return re(M,P,L,he(J._payload),le)}if(Vn(J)||de(J))return M=M.get(L)||null,K(P,M,J,le,null);Dl(P,J)}return null}function se(M,P,L,J){for(var le=null,he=null,fe=P,we=P=0,Rt=null;fe!==null&&we<L.length;we++){fe.index>we?(Rt=fe,fe=null):Rt=fe.sibling;var Be=W(M,fe,L[we],J);if(Be===null){fe===null&&(fe=Rt);break}n&&fe&&Be.alternate===null&&r(M,fe),P=p(Be,P,we),he===null?le=Be:he.sibling=Be,he=Be,fe=Rt}if(we===L.length)return a(M,fe),nt&&cs(M,we),le;if(fe===null){for(;we<L.length;we++)fe=Q(M,L[we],J),fe!==null&&(P=p(fe,P,we),he===null?le=fe:he.sibling=fe,he=fe);return nt&&cs(M,we),le}for(fe=c(M,fe);we<L.length;we++)Rt=re(fe,M,we,L[we],J),Rt!==null&&(n&&Rt.alternate!==null&&fe.delete(Rt.key===null?we:Rt.key),P=p(Rt,P,we),he===null?le=Rt:he.sibling=Rt,he=Rt);return n&&fe.forEach(function(Ni){return r(M,Ni)}),nt&&cs(M,we),le}function oe(M,P,L,J){var le=de(L);if(typeof le!="function")throw Error(t(150));if(L=le.call(L),L==null)throw Error(t(151));for(var he=le=null,fe=P,we=P=0,Rt=null,Be=L.next();fe!==null&&!Be.done;we++,Be=L.next()){fe.index>we?(Rt=fe,fe=null):Rt=fe.sibling;var Ni=W(M,fe,Be.value,J);if(Ni===null){fe===null&&(fe=Rt);break}n&&fe&&Ni.alternate===null&&r(M,fe),P=p(Ni,P,we),he===null?le=Ni:he.sibling=Ni,he=Ni,fe=Rt}if(Be.done)return a(M,fe),nt&&cs(M,we),le;if(fe===null){for(;!Be.done;we++,Be=L.next())Be=Q(M,Be.value,J),Be!==null&&(P=p(Be,P,we),he===null?le=Be:he.sibling=Be,he=Be);return nt&&cs(M,we),le}for(fe=c(M,fe);!Be.done;we++,Be=L.next())Be=re(fe,M,we,Be.value,J),Be!==null&&(n&&Be.alternate!==null&&fe.delete(Be.key===null?we:Be.key),P=p(Be,P,we),he===null?le=Be:he.sibling=Be,he=Be);return n&&fe.forEach(function(h_){return r(M,h_)}),nt&&cs(M,we),le}function ft(M,P,L,J){if(typeof L=="object"&&L!==null&&L.type===N&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case Ke:e:{for(var le=L.key,he=P;he!==null;){if(he.key===le){if(le=L.type,le===N){if(he.tag===7){a(M,he.sibling),P=h(he,L.props.children),P.return=M,M=P;break e}}else if(he.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===dt&&np(le)===he.type){a(M,he.sibling),P=h(he,L.props),P.ref=ra(M,he,L),P.return=M,M=P;break e}a(M,he);break}else r(M,he);he=he.sibling}L.type===N?(P=vs(L.props.children,M.mode,J,L.key),P.return=M,M=P):(J=ru(L.type,L.key,L.props,null,M.mode,J),J.ref=ra(M,P,L),J.return=M,M=J)}return _(M);case Se:e:{for(he=L.key;P!==null;){if(P.key===he)if(P.tag===4&&P.stateNode.containerInfo===L.containerInfo&&P.stateNode.implementation===L.implementation){a(M,P.sibling),P=h(P,L.children||[]),P.return=M,M=P;break e}else{a(M,P);break}else r(M,P);P=P.sibling}P=Pd(L,M.mode,J),P.return=M,M=P}return _(M);case dt:return he=L._init,ft(M,P,he(L._payload),J)}if(Vn(L))return se(M,P,L,J);if(de(L))return oe(M,P,L,J);Dl(M,L)}return typeof L=="string"&&L!==""||typeof L=="number"?(L=""+L,P!==null&&P.tag===6?(a(M,P.sibling),P=h(P,L),P.return=M,M=P):(a(M,P),P=Rd(L,M.mode,J),P.return=M,M=P),_(M)):a(M,P)}return ft}var io=rp(!0),ip=rp(!1),Ol=wi(null),Vl=null,so=null,Fc=null;function Uc(){Fc=so=Vl=null}function zc(n){var r=Ol.current;Ze(Ol),n._currentValue=r}function Bc(n,r,a){for(;n!==null;){var c=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),n===a)break;n=n.return}}function oo(n,r){Vl=n,Fc=so=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&r)!==0&&(on=!0),n.firstContext=null)}function Rn(n){var r=n._currentValue;if(Fc!==n)if(n={context:n,memoizedValue:r,next:null},so===null){if(Vl===null)throw Error(t(308));so=n,Vl.dependencies={lanes:0,firstContext:n}}else so=so.next=n;return r}var ds=null;function $c(n){ds===null?ds=[n]:ds.push(n)}function sp(n,r,a,c){var h=r.interleaved;return h===null?(a.next=a,$c(r)):(a.next=h.next,h.next=a),r.interleaved=a,Mr(n,c)}function Mr(n,r){n.lanes|=r;var a=n.alternate;for(a!==null&&(a.lanes|=r),a=n,n=n.return;n!==null;)n.childLanes|=r,a=n.alternate,a!==null&&(a.childLanes|=r),a=n,n=n.return;return a.tag===3?a.stateNode:null}var Ti=!1;function Hc(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function op(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Lr(n,r){return{eventTime:n,lane:r,tag:0,payload:null,callback:null,next:null}}function Ii(n,r,a){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,(Ue&2)!==0){var h=c.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),c.pending=r,Mr(n,a)}return h=c.interleaved,h===null?(r.next=r,$c(c)):(r.next=h.next,h.next=r),c.interleaved=r,Mr(n,a)}function Ml(n,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194240)!==0)){var c=r.lanes;c&=n.pendingLanes,a|=c,r.lanes=a,fi(n,a)}}function ap(n,r){var a=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var h=null,p=null;if(a=a.firstBaseUpdate,a!==null){do{var _={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};p===null?h=p=_:p=p.next=_,a=a.next}while(a!==null);p===null?h=p=r:p=p.next=r}else h=p=r;a={baseState:c.baseState,firstBaseUpdate:h,lastBaseUpdate:p,shared:c.shared,effects:c.effects},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=r:n.next=r,a.lastBaseUpdate=r}function Ll(n,r,a,c){var h=n.updateQueue;Ti=!1;var p=h.firstBaseUpdate,_=h.lastBaseUpdate,I=h.shared.pending;if(I!==null){h.shared.pending=null;var A=I,F=A.next;A.next=null,_===null?p=F:_.next=F,_=A;var K=n.alternate;K!==null&&(K=K.updateQueue,I=K.lastBaseUpdate,I!==_&&(I===null?K.firstBaseUpdate=F:I.next=F,K.lastBaseUpdate=A))}if(p!==null){var Q=h.baseState;_=0,K=F=A=null,I=p;do{var W=I.lane,re=I.eventTime;if((c&W)===W){K!==null&&(K=K.next={eventTime:re,lane:0,tag:I.tag,payload:I.payload,callback:I.callback,next:null});e:{var se=n,oe=I;switch(W=r,re=a,oe.tag){case 1:if(se=oe.payload,typeof se=="function"){Q=se.call(re,Q,W);break e}Q=se;break e;case 3:se.flags=se.flags&-65537|128;case 0:if(se=oe.payload,W=typeof se=="function"?se.call(re,Q,W):se,W==null)break e;Q=ne({},Q,W);break e;case 2:Ti=!0}}I.callback!==null&&I.lane!==0&&(n.flags|=64,W=h.effects,W===null?h.effects=[I]:W.push(I))}else re={eventTime:re,lane:W,tag:I.tag,payload:I.payload,callback:I.callback,next:null},K===null?(F=K=re,A=Q):K=K.next=re,_|=W;if(I=I.next,I===null){if(I=h.shared.pending,I===null)break;W=I,I=W.next,W.next=null,h.lastBaseUpdate=W,h.shared.pending=null}}while(!0);if(K===null&&(A=Q),h.baseState=A,h.firstBaseUpdate=F,h.lastBaseUpdate=K,r=h.shared.interleaved,r!==null){h=r;do _|=h.lane,h=h.next;while(h!==r)}else p===null&&(h.shared.lanes=0);ps|=_,n.lanes=_,n.memoizedState=Q}}function lp(n,r,a){if(n=r.effects,r.effects=null,n!==null)for(r=0;r<n.length;r++){var c=n[r],h=c.callback;if(h!==null){if(c.callback=null,c=a,typeof h!="function")throw Error(t(191,h));h.call(c)}}}var ia={},ur=wi(ia),sa=wi(ia),oa=wi(ia);function hs(n){if(n===ia)throw Error(t(174));return n}function Wc(n,r){switch(Xe(oa,r),Xe(sa,n),Xe(ur,ia),n=r.nodeType,n){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:at(null,"");break;default:n=n===8?r.parentNode:r,r=n.namespaceURI||null,n=n.tagName,r=at(r,n)}Ze(ur),Xe(ur,r)}function ao(){Ze(ur),Ze(sa),Ze(oa)}function up(n){hs(oa.current);var r=hs(ur.current),a=at(r,n.type);r!==a&&(Xe(sa,n),Xe(ur,a))}function qc(n){sa.current===n&&(Ze(ur),Ze(sa))}var it=wi(0);function jl(n){for(var r=n;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Kc=[];function Gc(){for(var n=0;n<Kc.length;n++)Kc[n]._workInProgressVersionPrimary=null;Kc.length=0}var Fl=Ne.ReactCurrentDispatcher,Qc=Ne.ReactCurrentBatchConfig,fs=0,st=null,Et=null,At=null,Ul=!1,aa=!1,la=0,Ov=0;function zt(){throw Error(t(321))}function Yc(n,r){if(r===null)return!1;for(var a=0;a<r.length&&a<n.length;a++)if(!qn(n[a],r[a]))return!1;return!0}function Xc(n,r,a,c,h,p){if(fs=p,st=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Fl.current=n===null||n.memoizedState===null?jv:Fv,n=a(c,h),aa){p=0;do{if(aa=!1,la=0,25<=p)throw Error(t(301));p+=1,At=Et=null,r.updateQueue=null,Fl.current=Uv,n=a(c,h)}while(aa)}if(Fl.current=$l,r=Et!==null&&Et.next!==null,fs=0,At=Et=st=null,Ul=!1,r)throw Error(t(300));return n}function Jc(){var n=la!==0;return la=0,n}function cr(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?st.memoizedState=At=n:At=At.next=n,At}function Pn(){if(Et===null){var n=st.alternate;n=n!==null?n.memoizedState:null}else n=Et.next;var r=At===null?st.memoizedState:At.next;if(r!==null)At=r,Et=n;else{if(n===null)throw Error(t(310));Et=n,n={memoizedState:Et.memoizedState,baseState:Et.baseState,baseQueue:Et.baseQueue,queue:Et.queue,next:null},At===null?st.memoizedState=At=n:At=At.next=n}return At}function ua(n,r){return typeof r=="function"?r(n):r}function Zc(n){var r=Pn(),a=r.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var c=Et,h=c.baseQueue,p=a.pending;if(p!==null){if(h!==null){var _=h.next;h.next=p.next,p.next=_}c.baseQueue=h=p,a.pending=null}if(h!==null){p=h.next,c=c.baseState;var I=_=null,A=null,F=p;do{var K=F.lane;if((fs&K)===K)A!==null&&(A=A.next={lane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),c=F.hasEagerState?F.eagerState:n(c,F.action);else{var Q={lane:K,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null};A===null?(I=A=Q,_=c):A=A.next=Q,st.lanes|=K,ps|=K}F=F.next}while(F!==null&&F!==p);A===null?_=c:A.next=I,qn(c,r.memoizedState)||(on=!0),r.memoizedState=c,r.baseState=_,r.baseQueue=A,a.lastRenderedState=c}if(n=a.interleaved,n!==null){h=n;do p=h.lane,st.lanes|=p,ps|=p,h=h.next;while(h!==n)}else h===null&&(a.lanes=0);return[r.memoizedState,a.dispatch]}function ed(n){var r=Pn(),a=r.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var c=a.dispatch,h=a.pending,p=r.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do p=n(p,_.action),_=_.next;while(_!==h);qn(p,r.memoizedState)||(on=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),a.lastRenderedState=p}return[p,c]}function cp(){}function dp(n,r){var a=st,c=Pn(),h=r(),p=!qn(c.memoizedState,h);if(p&&(c.memoizedState=h,on=!0),c=c.queue,td(pp.bind(null,a,c,n),[n]),c.getSnapshot!==r||p||At!==null&&At.memoizedState.tag&1){if(a.flags|=2048,ca(9,fp.bind(null,a,c,h,r),void 0,null),Ct===null)throw Error(t(349));(fs&30)!==0||hp(a,r,h)}return h}function hp(n,r,a){n.flags|=16384,n={getSnapshot:r,value:a},r=st.updateQueue,r===null?(r={lastEffect:null,stores:null},st.updateQueue=r,r.stores=[n]):(a=r.stores,a===null?r.stores=[n]:a.push(n))}function fp(n,r,a,c){r.value=a,r.getSnapshot=c,mp(r)&&gp(n)}function pp(n,r,a){return a(function(){mp(r)&&gp(n)})}function mp(n){var r=n.getSnapshot;n=n.value;try{var a=r();return!qn(n,a)}catch{return!0}}function gp(n){var r=Mr(n,1);r!==null&&Xn(r,n,1,-1)}function yp(n){var r=cr();return typeof n=="function"&&(n=n()),r.memoizedState=r.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ua,lastRenderedState:n},r.queue=n,n=n.dispatch=Lv.bind(null,st,n),[r.memoizedState,n]}function ca(n,r,a,c){return n={tag:n,create:r,destroy:a,deps:c,next:null},r=st.updateQueue,r===null?(r={lastEffect:null,stores:null},st.updateQueue=r,r.lastEffect=n.next=n):(a=r.lastEffect,a===null?r.lastEffect=n.next=n:(c=a.next,a.next=n,n.next=c,r.lastEffect=n)),n}function vp(){return Pn().memoizedState}function zl(n,r,a,c){var h=cr();st.flags|=n,h.memoizedState=ca(1|r,a,void 0,c===void 0?null:c)}function Bl(n,r,a,c){var h=Pn();c=c===void 0?null:c;var p=void 0;if(Et!==null){var _=Et.memoizedState;if(p=_.destroy,c!==null&&Yc(c,_.deps)){h.memoizedState=ca(r,a,p,c);return}}st.flags|=n,h.memoizedState=ca(1|r,a,p,c)}function _p(n,r){return zl(8390656,8,n,r)}function td(n,r){return Bl(2048,8,n,r)}function wp(n,r){return Bl(4,2,n,r)}function Ep(n,r){return Bl(4,4,n,r)}function xp(n,r){if(typeof r=="function")return n=n(),r(n),function(){r(null)};if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function Tp(n,r,a){return a=a!=null?a.concat([n]):null,Bl(4,4,xp.bind(null,r,n),a)}function nd(){}function Ip(n,r){var a=Pn();r=r===void 0?null:r;var c=a.memoizedState;return c!==null&&r!==null&&Yc(r,c[1])?c[0]:(a.memoizedState=[n,r],n)}function kp(n,r){var a=Pn();r=r===void 0?null:r;var c=a.memoizedState;return c!==null&&r!==null&&Yc(r,c[1])?c[0]:(n=n(),a.memoizedState=[n,r],n)}function Sp(n,r,a){return(fs&21)===0?(n.baseState&&(n.baseState=!1,on=!0),n.memoizedState=a):(qn(a,r)||(a=ns(),st.lanes|=a,ps|=a,n.baseState=!0),r)}function Vv(n,r){var a=Ve;Ve=a!==0&&4>a?a:4,n(!0);var c=Qc.transition;Qc.transition={};try{n(!1),r()}finally{Ve=a,Qc.transition=c}}function Ap(){return Pn().memoizedState}function Mv(n,r,a){var c=Ci(n);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},Cp(n))Rp(r,a);else if(a=sp(n,r,a,c),a!==null){var h=Xt();Xn(a,n,c,h),Pp(a,r,c)}}function Lv(n,r,a){var c=Ci(n),h={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(Cp(n))Rp(r,h);else{var p=n.alternate;if(n.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var _=r.lastRenderedState,I=p(_,a);if(h.hasEagerState=!0,h.eagerState=I,qn(I,_)){var A=r.interleaved;A===null?(h.next=h,$c(r)):(h.next=A.next,A.next=h),r.interleaved=h;return}}catch{}finally{}a=sp(n,r,h,c),a!==null&&(h=Xt(),Xn(a,n,c,h),Pp(a,r,c))}}function Cp(n){var r=n.alternate;return n===st||r!==null&&r===st}function Rp(n,r){aa=Ul=!0;var a=n.pending;a===null?r.next=r:(r.next=a.next,a.next=r),n.pending=r}function Pp(n,r,a){if((a&4194240)!==0){var c=r.lanes;c&=n.pendingLanes,a|=c,r.lanes=a,fi(n,a)}}var $l={readContext:Rn,useCallback:zt,useContext:zt,useEffect:zt,useImperativeHandle:zt,useInsertionEffect:zt,useLayoutEffect:zt,useMemo:zt,useReducer:zt,useRef:zt,useState:zt,useDebugValue:zt,useDeferredValue:zt,useTransition:zt,useMutableSource:zt,useSyncExternalStore:zt,useId:zt,unstable_isNewReconciler:!1},jv={readContext:Rn,useCallback:function(n,r){return cr().memoizedState=[n,r===void 0?null:r],n},useContext:Rn,useEffect:_p,useImperativeHandle:function(n,r,a){return a=a!=null?a.concat([n]):null,zl(4194308,4,xp.bind(null,r,n),a)},useLayoutEffect:function(n,r){return zl(4194308,4,n,r)},useInsertionEffect:function(n,r){return zl(4,2,n,r)},useMemo:function(n,r){var a=cr();return r=r===void 0?null:r,n=n(),a.memoizedState=[n,r],n},useReducer:function(n,r,a){var c=cr();return r=a!==void 0?a(r):r,c.memoizedState=c.baseState=r,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:r},c.queue=n,n=n.dispatch=Mv.bind(null,st,n),[c.memoizedState,n]},useRef:function(n){var r=cr();return n={current:n},r.memoizedState=n},useState:yp,useDebugValue:nd,useDeferredValue:function(n){return cr().memoizedState=n},useTransition:function(){var n=yp(!1),r=n[0];return n=Vv.bind(null,n[1]),cr().memoizedState=n,[r,n]},useMutableSource:function(){},useSyncExternalStore:function(n,r,a){var c=st,h=cr();if(nt){if(a===void 0)throw Error(t(407));a=a()}else{if(a=r(),Ct===null)throw Error(t(349));(fs&30)!==0||hp(c,r,a)}h.memoizedState=a;var p={value:a,getSnapshot:r};return h.queue=p,_p(pp.bind(null,c,p,n),[n]),c.flags|=2048,ca(9,fp.bind(null,c,p,a,r),void 0,null),a},useId:function(){var n=cr(),r=Ct.identifierPrefix;if(nt){var a=Vr,c=Or;a=(c&~(1<<32-Gt(c)-1)).toString(32)+a,r=":"+r+"R"+a,a=la++,0<a&&(r+="H"+a.toString(32)),r+=":"}else a=Ov++,r=":"+r+"r"+a.toString(32)+":";return n.memoizedState=r},unstable_isNewReconciler:!1},Fv={readContext:Rn,useCallback:Ip,useContext:Rn,useEffect:td,useImperativeHandle:Tp,useInsertionEffect:wp,useLayoutEffect:Ep,useMemo:kp,useReducer:Zc,useRef:vp,useState:function(){return Zc(ua)},useDebugValue:nd,useDeferredValue:function(n){var r=Pn();return Sp(r,Et.memoizedState,n)},useTransition:function(){var n=Zc(ua)[0],r=Pn().memoizedState;return[n,r]},useMutableSource:cp,useSyncExternalStore:dp,useId:Ap,unstable_isNewReconciler:!1},Uv={readContext:Rn,useCallback:Ip,useContext:Rn,useEffect:td,useImperativeHandle:Tp,useInsertionEffect:wp,useLayoutEffect:Ep,useMemo:kp,useReducer:ed,useRef:vp,useState:function(){return ed(ua)},useDebugValue:nd,useDeferredValue:function(n){var r=Pn();return Et===null?r.memoizedState=n:Sp(r,Et.memoizedState,n)},useTransition:function(){var n=ed(ua)[0],r=Pn().memoizedState;return[n,r]},useMutableSource:cp,useSyncExternalStore:dp,useId:Ap,unstable_isNewReconciler:!1};function Gn(n,r){if(n&&n.defaultProps){r=ne({},r),n=n.defaultProps;for(var a in n)r[a]===void 0&&(r[a]=n[a]);return r}return r}function rd(n,r,a,c){r=n.memoizedState,a=a(c,r),a=a==null?r:ne({},r,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Hl={isMounted:function(n){return(n=n._reactInternals)?Ee(n)===n:!1},enqueueSetState:function(n,r,a){n=n._reactInternals;var c=Xt(),h=Ci(n),p=Lr(c,h);p.payload=r,a!=null&&(p.callback=a),r=Ii(n,p,h),r!==null&&(Xn(r,n,h,c),Ml(r,n,h))},enqueueReplaceState:function(n,r,a){n=n._reactInternals;var c=Xt(),h=Ci(n),p=Lr(c,h);p.tag=1,p.payload=r,a!=null&&(p.callback=a),r=Ii(n,p,h),r!==null&&(Xn(r,n,h,c),Ml(r,n,h))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var a=Xt(),c=Ci(n),h=Lr(a,c);h.tag=2,r!=null&&(h.callback=r),r=Ii(n,h,c),r!==null&&(Xn(r,n,c,a),Ml(r,n,c))}};function Np(n,r,a,c,h,p,_){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,p,_):r.prototype&&r.prototype.isPureReactComponent?!Yo(a,c)||!Yo(h,p):!0}function bp(n,r,a){var c=!1,h=Ei,p=r.contextType;return typeof p=="object"&&p!==null?p=Rn(p):(h=sn(r)?ls:Ut.current,c=r.contextTypes,p=(c=c!=null)?eo(n,h):Ei),r=new r(a,p),n.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Hl,n.stateNode=r,r._reactInternals=n,c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=h,n.__reactInternalMemoizedMaskedChildContext=p),r}function Dp(n,r,a,c){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,c),r.state!==n&&Hl.enqueueReplaceState(r,r.state,null)}function id(n,r,a,c){var h=n.stateNode;h.props=a,h.state=n.memoizedState,h.refs={},Hc(n);var p=r.contextType;typeof p=="object"&&p!==null?h.context=Rn(p):(p=sn(r)?ls:Ut.current,h.context=eo(n,p)),h.state=n.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(rd(n,r,p,a),h.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(r=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),r!==h.state&&Hl.enqueueReplaceState(h,h.state,null),Ll(n,a,h,c),h.state=n.memoizedState),typeof h.componentDidMount=="function"&&(n.flags|=4194308)}function lo(n,r){try{var a="",c=r;do a+=Re(c),c=c.return;while(c);var h=a}catch(p){h=`
Error generating stack: `+p.message+`
`+p.stack}return{value:n,source:r,stack:h,digest:null}}function sd(n,r,a){return{value:n,source:null,stack:a??null,digest:r??null}}function od(n,r){try{console.error(r.value)}catch(a){setTimeout(function(){throw a})}}var zv=typeof WeakMap=="function"?WeakMap:Map;function Op(n,r,a){a=Lr(-1,a),a.tag=3,a.payload={element:null};var c=r.value;return a.callback=function(){Xl||(Xl=!0,Ed=c),od(n,r)},a}function Vp(n,r,a){a=Lr(-1,a),a.tag=3;var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var h=r.value;a.payload=function(){return c(h)},a.callback=function(){od(n,r)}}var p=n.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(a.callback=function(){od(n,r),typeof c!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var _=r.stack;this.componentDidCatch(r.value,{componentStack:_!==null?_:""})}),a}function Mp(n,r,a){var c=n.pingCache;if(c===null){c=n.pingCache=new zv;var h=new Set;c.set(r,h)}else h=c.get(r),h===void 0&&(h=new Set,c.set(r,h));h.has(a)||(h.add(a),n=t_.bind(null,n,r,a),r.then(n,n))}function Lp(n){do{var r;if((r=n.tag===13)&&(r=n.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return n;n=n.return}while(n!==null);return null}function jp(n,r,a,c,h){return(n.mode&1)===0?(n===r?n.flags|=65536:(n.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(r=Lr(-1,1),r.tag=2,Ii(a,r,1))),a.lanes|=1),n):(n.flags|=65536,n.lanes=h,n)}var Bv=Ne.ReactCurrentOwner,on=!1;function Yt(n,r,a,c){r.child=n===null?ip(r,null,a,c):io(r,n.child,a,c)}function Fp(n,r,a,c,h){a=a.render;var p=r.ref;return oo(r,h),c=Xc(n,r,a,c,p,h),a=Jc(),n!==null&&!on?(r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~h,jr(n,r,h)):(nt&&a&&Oc(r),r.flags|=1,Yt(n,r,c,h),r.child)}function Up(n,r,a,c,h){if(n===null){var p=a.type;return typeof p=="function"&&!Cd(p)&&p.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(r.tag=15,r.type=p,zp(n,r,p,c,h)):(n=ru(a.type,null,c,r,r.mode,h),n.ref=r.ref,n.return=r,r.child=n)}if(p=n.child,(n.lanes&h)===0){var _=p.memoizedProps;if(a=a.compare,a=a!==null?a:Yo,a(_,c)&&n.ref===r.ref)return jr(n,r,h)}return r.flags|=1,n=Pi(p,c),n.ref=r.ref,n.return=r,r.child=n}function zp(n,r,a,c,h){if(n!==null){var p=n.memoizedProps;if(Yo(p,c)&&n.ref===r.ref)if(on=!1,r.pendingProps=c=p,(n.lanes&h)!==0)(n.flags&131072)!==0&&(on=!0);else return r.lanes=n.lanes,jr(n,r,h)}return ad(n,r,a,c,h)}function Bp(n,r,a){var c=r.pendingProps,h=c.children,p=n!==null?n.memoizedState:null;if(c.mode==="hidden")if((r.mode&1)===0)r.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xe(co,wn),wn|=a;else{if((a&1073741824)===0)return n=p!==null?p.baseLanes|a:a,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:n,cachePool:null,transitions:null},r.updateQueue=null,Xe(co,wn),wn|=n,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=p!==null?p.baseLanes:a,Xe(co,wn),wn|=c}else p!==null?(c=p.baseLanes|a,r.memoizedState=null):c=a,Xe(co,wn),wn|=c;return Yt(n,r,h,a),r.child}function $p(n,r){var a=r.ref;(n===null&&a!==null||n!==null&&n.ref!==a)&&(r.flags|=512,r.flags|=2097152)}function ad(n,r,a,c,h){var p=sn(a)?ls:Ut.current;return p=eo(r,p),oo(r,h),a=Xc(n,r,a,c,p,h),c=Jc(),n!==null&&!on?(r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~h,jr(n,r,h)):(nt&&c&&Oc(r),r.flags|=1,Yt(n,r,a,h),r.child)}function Hp(n,r,a,c,h){if(sn(a)){var p=!0;Cl(r)}else p=!1;if(oo(r,h),r.stateNode===null)ql(n,r),bp(r,a,c),id(r,a,c,h),c=!0;else if(n===null){var _=r.stateNode,I=r.memoizedProps;_.props=I;var A=_.context,F=a.contextType;typeof F=="object"&&F!==null?F=Rn(F):(F=sn(a)?ls:Ut.current,F=eo(r,F));var K=a.getDerivedStateFromProps,Q=typeof K=="function"||typeof _.getSnapshotBeforeUpdate=="function";Q||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(I!==c||A!==F)&&Dp(r,_,c,F),Ti=!1;var W=r.memoizedState;_.state=W,Ll(r,c,_,h),A=r.memoizedState,I!==c||W!==A||rn.current||Ti?(typeof K=="function"&&(rd(r,a,K,c),A=r.memoizedState),(I=Ti||Np(r,a,I,c,W,A,F))?(Q||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(r.flags|=4194308)):(typeof _.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=A),_.props=c,_.state=A,_.context=F,c=I):(typeof _.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{_=r.stateNode,op(n,r),I=r.memoizedProps,F=r.type===r.elementType?I:Gn(r.type,I),_.props=F,Q=r.pendingProps,W=_.context,A=a.contextType,typeof A=="object"&&A!==null?A=Rn(A):(A=sn(a)?ls:Ut.current,A=eo(r,A));var re=a.getDerivedStateFromProps;(K=typeof re=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(I!==Q||W!==A)&&Dp(r,_,c,A),Ti=!1,W=r.memoizedState,_.state=W,Ll(r,c,_,h);var se=r.memoizedState;I!==Q||W!==se||rn.current||Ti?(typeof re=="function"&&(rd(r,a,re,c),se=r.memoizedState),(F=Ti||Np(r,a,F,c,W,se,A)||!1)?(K||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(c,se,A),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(c,se,A)),typeof _.componentDidUpdate=="function"&&(r.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof _.componentDidUpdate!="function"||I===n.memoizedProps&&W===n.memoizedState||(r.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||I===n.memoizedProps&&W===n.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=se),_.props=c,_.state=se,_.context=A,c=F):(typeof _.componentDidUpdate!="function"||I===n.memoizedProps&&W===n.memoizedState||(r.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||I===n.memoizedProps&&W===n.memoizedState||(r.flags|=1024),c=!1)}return ld(n,r,a,c,p,h)}function ld(n,r,a,c,h,p){$p(n,r);var _=(r.flags&128)!==0;if(!c&&!_)return h&&Qf(r,a,!1),jr(n,r,p);c=r.stateNode,Bv.current=r;var I=_&&typeof a.getDerivedStateFromError!="function"?null:c.render();return r.flags|=1,n!==null&&_?(r.child=io(r,n.child,null,p),r.child=io(r,null,I,p)):Yt(n,r,I,p),r.memoizedState=c.state,h&&Qf(r,a,!0),r.child}function Wp(n){var r=n.stateNode;r.pendingContext?Kf(n,r.pendingContext,r.pendingContext!==r.context):r.context&&Kf(n,r.context,!1),Wc(n,r.containerInfo)}function qp(n,r,a,c,h){return ro(),jc(h),r.flags|=256,Yt(n,r,a,c),r.child}var ud={dehydrated:null,treeContext:null,retryLane:0};function cd(n){return{baseLanes:n,cachePool:null,transitions:null}}function Kp(n,r,a){var c=r.pendingProps,h=it.current,p=!1,_=(r.flags&128)!==0,I;if((I=_)||(I=n!==null&&n.memoizedState===null?!1:(h&2)!==0),I?(p=!0,r.flags&=-129):(n===null||n.memoizedState!==null)&&(h|=1),Xe(it,h&1),n===null)return Lc(r),n=r.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((r.mode&1)===0?r.lanes=1:n.data==="$!"?r.lanes=8:r.lanes=1073741824,null):(_=c.children,n=c.fallback,p?(c=r.mode,p=r.child,_={mode:"hidden",children:_},(c&1)===0&&p!==null?(p.childLanes=0,p.pendingProps=_):p=iu(_,c,0,null),n=vs(n,c,a,null),p.return=r,n.return=r,p.sibling=n,r.child=p,r.child.memoizedState=cd(a),r.memoizedState=ud,n):dd(r,_));if(h=n.memoizedState,h!==null&&(I=h.dehydrated,I!==null))return $v(n,r,_,c,I,h,a);if(p){p=c.fallback,_=r.mode,h=n.child,I=h.sibling;var A={mode:"hidden",children:c.children};return(_&1)===0&&r.child!==h?(c=r.child,c.childLanes=0,c.pendingProps=A,r.deletions=null):(c=Pi(h,A),c.subtreeFlags=h.subtreeFlags&14680064),I!==null?p=Pi(I,p):(p=vs(p,_,a,null),p.flags|=2),p.return=r,c.return=r,c.sibling=p,r.child=c,c=p,p=r.child,_=n.child.memoizedState,_=_===null?cd(a):{baseLanes:_.baseLanes|a,cachePool:null,transitions:_.transitions},p.memoizedState=_,p.childLanes=n.childLanes&~a,r.memoizedState=ud,c}return p=n.child,n=p.sibling,c=Pi(p,{mode:"visible",children:c.children}),(r.mode&1)===0&&(c.lanes=a),c.return=r,c.sibling=null,n!==null&&(a=r.deletions,a===null?(r.deletions=[n],r.flags|=16):a.push(n)),r.child=c,r.memoizedState=null,c}function dd(n,r){return r=iu({mode:"visible",children:r},n.mode,0,null),r.return=n,n.child=r}function Wl(n,r,a,c){return c!==null&&jc(c),io(r,n.child,null,a),n=dd(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function $v(n,r,a,c,h,p,_){if(a)return r.flags&256?(r.flags&=-257,c=sd(Error(t(422))),Wl(n,r,_,c)):r.memoizedState!==null?(r.child=n.child,r.flags|=128,null):(p=c.fallback,h=r.mode,c=iu({mode:"visible",children:c.children},h,0,null),p=vs(p,h,_,null),p.flags|=2,c.return=r,p.return=r,c.sibling=p,r.child=c,(r.mode&1)!==0&&io(r,n.child,null,_),r.child.memoizedState=cd(_),r.memoizedState=ud,p);if((r.mode&1)===0)return Wl(n,r,_,null);if(h.data==="$!"){if(c=h.nextSibling&&h.nextSibling.dataset,c)var I=c.dgst;return c=I,p=Error(t(419)),c=sd(p,c,void 0),Wl(n,r,_,c)}if(I=(_&n.childLanes)!==0,on||I){if(c=Ct,c!==null){switch(_&-_){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=(h&(c.suspendedLanes|_))!==0?0:h,h!==0&&h!==p.retryLane&&(p.retryLane=h,Mr(n,h),Xn(c,n,h,-1))}return Ad(),c=sd(Error(t(421))),Wl(n,r,_,c)}return h.data==="$?"?(r.flags|=128,r.child=n.child,r=n_.bind(null,n),h._reactRetry=r,null):(n=p.treeContext,_n=_i(h.nextSibling),vn=r,nt=!0,Kn=null,n!==null&&(An[Cn++]=Or,An[Cn++]=Vr,An[Cn++]=us,Or=n.id,Vr=n.overflow,us=r),r=dd(r,c.children),r.flags|=4096,r)}function Gp(n,r,a){n.lanes|=r;var c=n.alternate;c!==null&&(c.lanes|=r),Bc(n.return,r,a)}function hd(n,r,a,c,h){var p=n.memoizedState;p===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:h}:(p.isBackwards=r,p.rendering=null,p.renderingStartTime=0,p.last=c,p.tail=a,p.tailMode=h)}function Qp(n,r,a){var c=r.pendingProps,h=c.revealOrder,p=c.tail;if(Yt(n,r,c.children,a),c=it.current,(c&2)!==0)c=c&1|2,r.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Gp(n,a,r);else if(n.tag===19)Gp(n,a,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}c&=1}if(Xe(it,c),(r.mode&1)===0)r.memoizedState=null;else switch(h){case"forwards":for(a=r.child,h=null;a!==null;)n=a.alternate,n!==null&&jl(n)===null&&(h=a),a=a.sibling;a=h,a===null?(h=r.child,r.child=null):(h=a.sibling,a.sibling=null),hd(r,!1,h,a,p);break;case"backwards":for(a=null,h=r.child,r.child=null;h!==null;){if(n=h.alternate,n!==null&&jl(n)===null){r.child=h;break}n=h.sibling,h.sibling=a,a=h,h=n}hd(r,!0,a,null,p);break;case"together":hd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function ql(n,r){(r.mode&1)===0&&n!==null&&(n.alternate=null,r.alternate=null,r.flags|=2)}function jr(n,r,a){if(n!==null&&(r.dependencies=n.dependencies),ps|=r.lanes,(a&r.childLanes)===0)return null;if(n!==null&&r.child!==n.child)throw Error(t(153));if(r.child!==null){for(n=r.child,a=Pi(n,n.pendingProps),r.child=a,a.return=r;n.sibling!==null;)n=n.sibling,a=a.sibling=Pi(n,n.pendingProps),a.return=r;a.sibling=null}return r.child}function Hv(n,r,a){switch(r.tag){case 3:Wp(r),ro();break;case 5:up(r);break;case 1:sn(r.type)&&Cl(r);break;case 4:Wc(r,r.stateNode.containerInfo);break;case 10:var c=r.type._context,h=r.memoizedProps.value;Xe(Ol,c._currentValue),c._currentValue=h;break;case 13:if(c=r.memoizedState,c!==null)return c.dehydrated!==null?(Xe(it,it.current&1),r.flags|=128,null):(a&r.child.childLanes)!==0?Kp(n,r,a):(Xe(it,it.current&1),n=jr(n,r,a),n!==null?n.sibling:null);Xe(it,it.current&1);break;case 19:if(c=(a&r.childLanes)!==0,(n.flags&128)!==0){if(c)return Qp(n,r,a);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Xe(it,it.current),c)break;return null;case 22:case 23:return r.lanes=0,Bp(n,r,a)}return jr(n,r,a)}var Yp,fd,Xp,Jp;Yp=function(n,r){for(var a=r.child;a!==null;){if(a.tag===5||a.tag===6)n.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},fd=function(){},Xp=function(n,r,a,c){var h=n.memoizedProps;if(h!==c){n=r.stateNode,hs(ur.current);var p=null;switch(a){case"input":h=dn(n,h),c=dn(n,c),p=[];break;case"select":h=ne({},h,{value:void 0}),c=ne({},c,{value:void 0}),p=[];break;case"textarea":h=ei(n,h),c=ei(n,c),p=[];break;default:typeof h.onClick!="function"&&typeof c.onClick=="function"&&(n.onclick=kl)}Qi(a,c);var _;a=null;for(F in h)if(!c.hasOwnProperty(F)&&h.hasOwnProperty(F)&&h[F]!=null)if(F==="style"){var I=h[F];for(_ in I)I.hasOwnProperty(_)&&(a||(a={}),a[_]="")}else F!=="dangerouslySetInnerHTML"&&F!=="children"&&F!=="suppressContentEditableWarning"&&F!=="suppressHydrationWarning"&&F!=="autoFocus"&&(o.hasOwnProperty(F)?p||(p=[]):(p=p||[]).push(F,null));for(F in c){var A=c[F];if(I=h!=null?h[F]:void 0,c.hasOwnProperty(F)&&A!==I&&(A!=null||I!=null))if(F==="style")if(I){for(_ in I)!I.hasOwnProperty(_)||A&&A.hasOwnProperty(_)||(a||(a={}),a[_]="");for(_ in A)A.hasOwnProperty(_)&&I[_]!==A[_]&&(a||(a={}),a[_]=A[_])}else a||(p||(p=[]),p.push(F,a)),a=A;else F==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,I=I?I.__html:void 0,A!=null&&I!==A&&(p=p||[]).push(F,A)):F==="children"?typeof A!="string"&&typeof A!="number"||(p=p||[]).push(F,""+A):F!=="suppressContentEditableWarning"&&F!=="suppressHydrationWarning"&&(o.hasOwnProperty(F)?(A!=null&&F==="onScroll"&&Je("scroll",n),p||I===A||(p=[])):(p=p||[]).push(F,A))}a&&(p=p||[]).push("style",a);var F=p;(r.updateQueue=F)&&(r.flags|=4)}},Jp=function(n,r,a,c){a!==c&&(r.flags|=4)};function da(n,r){if(!nt)switch(n.tailMode){case"hidden":r=n.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function Bt(n){var r=n.alternate!==null&&n.alternate.child===n.child,a=0,c=0;if(r)for(var h=n.child;h!==null;)a|=h.lanes|h.childLanes,c|=h.subtreeFlags&14680064,c|=h.flags&14680064,h.return=n,h=h.sibling;else for(h=n.child;h!==null;)a|=h.lanes|h.childLanes,c|=h.subtreeFlags,c|=h.flags,h.return=n,h=h.sibling;return n.subtreeFlags|=c,n.childLanes=a,r}function Wv(n,r,a){var c=r.pendingProps;switch(Vc(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bt(r),null;case 1:return sn(r.type)&&Al(),Bt(r),null;case 3:return c=r.stateNode,ao(),Ze(rn),Ze(Ut),Gc(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(n===null||n.child===null)&&(bl(r)?r.flags|=4:n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Kn!==null&&(Id(Kn),Kn=null))),fd(n,r),Bt(r),null;case 5:qc(r);var h=hs(oa.current);if(a=r.type,n!==null&&r.stateNode!=null)Xp(n,r,a,c,h),n.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!c){if(r.stateNode===null)throw Error(t(166));return Bt(r),null}if(n=hs(ur.current),bl(r)){c=r.stateNode,a=r.type;var p=r.memoizedProps;switch(c[lr]=r,c[ta]=p,n=(r.mode&1)!==0,a){case"dialog":Je("cancel",c),Je("close",c);break;case"iframe":case"object":case"embed":Je("load",c);break;case"video":case"audio":for(h=0;h<Jo.length;h++)Je(Jo[h],c);break;case"source":Je("error",c);break;case"img":case"image":case"link":Je("error",c),Je("load",c);break;case"details":Je("toggle",c);break;case"input":er(c,p),Je("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!p.multiple},Je("invalid",c);break;case"textarea":wr(c,p),Je("invalid",c)}Qi(a,p),h=null;for(var _ in p)if(p.hasOwnProperty(_)){var I=p[_];_==="children"?typeof I=="string"?c.textContent!==I&&(p.suppressHydrationWarning!==!0&&Il(c.textContent,I,n),h=["children",I]):typeof I=="number"&&c.textContent!==""+I&&(p.suppressHydrationWarning!==!0&&Il(c.textContent,I,n),h=["children",""+I]):o.hasOwnProperty(_)&&I!=null&&_==="onScroll"&&Je("scroll",c)}switch(a){case"input":Zt(c),Wi(c,p,!0);break;case"textarea":Zt(c),ti(c);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(c.onclick=kl)}c=h,r.updateQueue=c,c!==null&&(r.flags|=4)}else{_=h.nodeType===9?h:h.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=ht(a)),n==="http://www.w3.org/1999/xhtml"?a==="script"?(n=_.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof c.is=="string"?n=_.createElement(a,{is:c.is}):(n=_.createElement(a),a==="select"&&(_=n,c.multiple?_.multiple=!0:c.size&&(_.size=c.size))):n=_.createElementNS(n,a),n[lr]=r,n[ta]=c,Yp(n,r,!1,!1),r.stateNode=n;e:{switch(_=jn(a,c),a){case"dialog":Je("cancel",n),Je("close",n),h=c;break;case"iframe":case"object":case"embed":Je("load",n),h=c;break;case"video":case"audio":for(h=0;h<Jo.length;h++)Je(Jo[h],n);h=c;break;case"source":Je("error",n),h=c;break;case"img":case"image":case"link":Je("error",n),Je("load",n),h=c;break;case"details":Je("toggle",n),h=c;break;case"input":er(n,c),h=dn(n,c),Je("invalid",n);break;case"option":h=c;break;case"select":n._wrapperState={wasMultiple:!!c.multiple},h=ne({},c,{value:void 0}),Je("invalid",n);break;case"textarea":wr(n,c),h=ei(n,c),Je("invalid",n);break;default:h=c}Qi(a,h),I=h;for(p in I)if(I.hasOwnProperty(p)){var A=I[p];p==="style"?Ki(n,A):p==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,A!=null&&Ft(n,A)):p==="children"?typeof A=="string"?(a!=="textarea"||A!=="")&&nr(n,A):typeof A=="number"&&nr(n,""+A):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(o.hasOwnProperty(p)?A!=null&&p==="onScroll"&&Je("scroll",n):A!=null&&_e(n,p,A,_))}switch(a){case"input":Zt(n),Wi(n,c,!1);break;case"textarea":Zt(n),ti(n);break;case"option":c.value!=null&&n.setAttribute("value",""+Oe(c.value));break;case"select":n.multiple=!!c.multiple,p=c.value,p!=null?Mn(n,!!c.multiple,p,!1):c.defaultValue!=null&&Mn(n,!!c.multiple,c.defaultValue,!0);break;default:typeof h.onClick=="function"&&(n.onclick=kl)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return Bt(r),null;case 6:if(n&&r.stateNode!=null)Jp(n,r,n.memoizedProps,c);else{if(typeof c!="string"&&r.stateNode===null)throw Error(t(166));if(a=hs(oa.current),hs(ur.current),bl(r)){if(c=r.stateNode,a=r.memoizedProps,c[lr]=r,(p=c.nodeValue!==a)&&(n=vn,n!==null))switch(n.tag){case 3:Il(c.nodeValue,a,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Il(c.nodeValue,a,(n.mode&1)!==0)}p&&(r.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[lr]=r,r.stateNode=c}return Bt(r),null;case 13:if(Ze(it),c=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(nt&&_n!==null&&(r.mode&1)!==0&&(r.flags&128)===0)tp(),ro(),r.flags|=98560,p=!1;else if(p=bl(r),c!==null&&c.dehydrated!==null){if(n===null){if(!p)throw Error(t(318));if(p=r.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(t(317));p[lr]=r}else ro(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Bt(r),p=!1}else Kn!==null&&(Id(Kn),Kn=null),p=!0;if(!p)return r.flags&65536?r:null}return(r.flags&128)!==0?(r.lanes=a,r):(c=c!==null,c!==(n!==null&&n.memoizedState!==null)&&c&&(r.child.flags|=8192,(r.mode&1)!==0&&(n===null||(it.current&1)!==0?xt===0&&(xt=3):Ad())),r.updateQueue!==null&&(r.flags|=4),Bt(r),null);case 4:return ao(),fd(n,r),n===null&&Zo(r.stateNode.containerInfo),Bt(r),null;case 10:return zc(r.type._context),Bt(r),null;case 17:return sn(r.type)&&Al(),Bt(r),null;case 19:if(Ze(it),p=r.memoizedState,p===null)return Bt(r),null;if(c=(r.flags&128)!==0,_=p.rendering,_===null)if(c)da(p,!1);else{if(xt!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(_=jl(n),_!==null){for(r.flags|=128,da(p,!1),c=_.updateQueue,c!==null&&(r.updateQueue=c,r.flags|=4),r.subtreeFlags=0,c=a,a=r.child;a!==null;)p=a,n=c,p.flags&=14680066,_=p.alternate,_===null?(p.childLanes=0,p.lanes=n,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=_.childLanes,p.lanes=_.lanes,p.child=_.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=_.memoizedProps,p.memoizedState=_.memoizedState,p.updateQueue=_.updateQueue,p.type=_.type,n=_.dependencies,p.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),a=a.sibling;return Xe(it,it.current&1|2),r.child}n=n.sibling}p.tail!==null&&Ye()>ho&&(r.flags|=128,c=!0,da(p,!1),r.lanes=4194304)}else{if(!c)if(n=jl(_),n!==null){if(r.flags|=128,c=!0,a=n.updateQueue,a!==null&&(r.updateQueue=a,r.flags|=4),da(p,!0),p.tail===null&&p.tailMode==="hidden"&&!_.alternate&&!nt)return Bt(r),null}else 2*Ye()-p.renderingStartTime>ho&&a!==1073741824&&(r.flags|=128,c=!0,da(p,!1),r.lanes=4194304);p.isBackwards?(_.sibling=r.child,r.child=_):(a=p.last,a!==null?a.sibling=_:r.child=_,p.last=_)}return p.tail!==null?(r=p.tail,p.rendering=r,p.tail=r.sibling,p.renderingStartTime=Ye(),r.sibling=null,a=it.current,Xe(it,c?a&1|2:a&1),r):(Bt(r),null);case 22:case 23:return Sd(),c=r.memoizedState!==null,n!==null&&n.memoizedState!==null!==c&&(r.flags|=8192),c&&(r.mode&1)!==0?(wn&1073741824)!==0&&(Bt(r),r.subtreeFlags&6&&(r.flags|=8192)):Bt(r),null;case 24:return null;case 25:return null}throw Error(t(156,r.tag))}function qv(n,r){switch(Vc(r),r.tag){case 1:return sn(r.type)&&Al(),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return ao(),Ze(rn),Ze(Ut),Gc(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 5:return qc(r),null;case 13:if(Ze(it),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(t(340));ro()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return Ze(it),null;case 4:return ao(),null;case 10:return zc(r.type._context),null;case 22:case 23:return Sd(),null;case 24:return null;default:return null}}var Kl=!1,$t=!1,Kv=typeof WeakSet=="function"?WeakSet:Set,ie=null;function uo(n,r){var a=n.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){ut(n,r,c)}else a.current=null}function pd(n,r,a){try{a()}catch(c){ut(n,r,c)}}var Zp=!1;function Gv(n,r){if(Sc=gi,n=Nf(),vc(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var h=c.anchorOffset,p=c.focusNode;c=c.focusOffset;try{a.nodeType,p.nodeType}catch{a=null;break e}var _=0,I=-1,A=-1,F=0,K=0,Q=n,W=null;t:for(;;){for(var re;Q!==a||h!==0&&Q.nodeType!==3||(I=_+h),Q!==p||c!==0&&Q.nodeType!==3||(A=_+c),Q.nodeType===3&&(_+=Q.nodeValue.length),(re=Q.firstChild)!==null;)W=Q,Q=re;for(;;){if(Q===n)break t;if(W===a&&++F===h&&(I=_),W===p&&++K===c&&(A=_),(re=Q.nextSibling)!==null)break;Q=W,W=Q.parentNode}Q=re}a=I===-1||A===-1?null:{start:I,end:A}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ac={focusedElem:n,selectionRange:a},gi=!1,ie=r;ie!==null;)if(r=ie,n=r.child,(r.subtreeFlags&1028)!==0&&n!==null)n.return=r,ie=n;else for(;ie!==null;){r=ie;try{var se=r.alternate;if((r.flags&1024)!==0)switch(r.tag){case 0:case 11:case 15:break;case 1:if(se!==null){var oe=se.memoizedProps,ft=se.memoizedState,M=r.stateNode,P=M.getSnapshotBeforeUpdate(r.elementType===r.type?oe:Gn(r.type,oe),ft);M.__reactInternalSnapshotBeforeUpdate=P}break;case 3:var L=r.stateNode.containerInfo;L.nodeType===1?L.textContent="":L.nodeType===9&&L.documentElement&&L.removeChild(L.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(J){ut(r,r.return,J)}if(n=r.sibling,n!==null){n.return=r.return,ie=n;break}ie=r.return}return se=Zp,Zp=!1,se}function ha(n,r,a){var c=r.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var h=c=c.next;do{if((h.tag&n)===n){var p=h.destroy;h.destroy=void 0,p!==void 0&&pd(r,a,p)}h=h.next}while(h!==c)}}function Gl(n,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&n)===n){var c=a.create;a.destroy=c()}a=a.next}while(a!==r)}}function md(n){var r=n.ref;if(r!==null){var a=n.stateNode;switch(n.tag){case 5:n=a;break;default:n=a}typeof r=="function"?r(n):r.current=n}}function em(n){var r=n.alternate;r!==null&&(n.alternate=null,em(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&(delete r[lr],delete r[ta],delete r[Nc],delete r[Pv],delete r[Nv])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function tm(n){return n.tag===5||n.tag===3||n.tag===4}function nm(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||tm(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function gd(n,r,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,r?a.nodeType===8?a.parentNode.insertBefore(n,r):a.insertBefore(n,r):(a.nodeType===8?(r=a.parentNode,r.insertBefore(n,a)):(r=a,r.appendChild(n)),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=kl));else if(c!==4&&(n=n.child,n!==null))for(gd(n,r,a),n=n.sibling;n!==null;)gd(n,r,a),n=n.sibling}function yd(n,r,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,r?a.insertBefore(n,r):a.appendChild(n);else if(c!==4&&(n=n.child,n!==null))for(yd(n,r,a),n=n.sibling;n!==null;)yd(n,r,a),n=n.sibling}var Dt=null,Qn=!1;function ki(n,r,a){for(a=a.child;a!==null;)rm(n,r,a),a=a.sibling}function rm(n,r,a){if(pn&&typeof pn.onCommitFiberUnmount=="function")try{pn.onCommitFiberUnmount(es,a)}catch{}switch(a.tag){case 5:$t||uo(a,r);case 6:var c=Dt,h=Qn;Dt=null,ki(n,r,a),Dt=c,Qn=h,Dt!==null&&(Qn?(n=Dt,a=a.stateNode,n.nodeType===8?n.parentNode.removeChild(a):n.removeChild(a)):Dt.removeChild(a.stateNode));break;case 18:Dt!==null&&(Qn?(n=Dt,a=a.stateNode,n.nodeType===8?Pc(n.parentNode,a):n.nodeType===1&&Pc(n,a),Hn(n)):Pc(Dt,a.stateNode));break;case 4:c=Dt,h=Qn,Dt=a.stateNode.containerInfo,Qn=!0,ki(n,r,a),Dt=c,Qn=h;break;case 0:case 11:case 14:case 15:if(!$t&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){h=c=c.next;do{var p=h,_=p.destroy;p=p.tag,_!==void 0&&((p&2)!==0||(p&4)!==0)&&pd(a,r,_),h=h.next}while(h!==c)}ki(n,r,a);break;case 1:if(!$t&&(uo(a,r),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(I){ut(a,r,I)}ki(n,r,a);break;case 21:ki(n,r,a);break;case 22:a.mode&1?($t=(c=$t)||a.memoizedState!==null,ki(n,r,a),$t=c):ki(n,r,a);break;default:ki(n,r,a)}}function im(n){var r=n.updateQueue;if(r!==null){n.updateQueue=null;var a=n.stateNode;a===null&&(a=n.stateNode=new Kv),r.forEach(function(c){var h=r_.bind(null,n,c);a.has(c)||(a.add(c),c.then(h,h))})}}function Yn(n,r){var a=r.deletions;if(a!==null)for(var c=0;c<a.length;c++){var h=a[c];try{var p=n,_=r,I=_;e:for(;I!==null;){switch(I.tag){case 5:Dt=I.stateNode,Qn=!1;break e;case 3:Dt=I.stateNode.containerInfo,Qn=!0;break e;case 4:Dt=I.stateNode.containerInfo,Qn=!0;break e}I=I.return}if(Dt===null)throw Error(t(160));rm(p,_,h),Dt=null,Qn=!1;var A=h.alternate;A!==null&&(A.return=null),h.return=null}catch(F){ut(h,r,F)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)sm(r,n),r=r.sibling}function sm(n,r){var a=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Yn(r,n),dr(n),c&4){try{ha(3,n,n.return),Gl(3,n)}catch(oe){ut(n,n.return,oe)}try{ha(5,n,n.return)}catch(oe){ut(n,n.return,oe)}}break;case 1:Yn(r,n),dr(n),c&512&&a!==null&&uo(a,a.return);break;case 5:if(Yn(r,n),dr(n),c&512&&a!==null&&uo(a,a.return),n.flags&32){var h=n.stateNode;try{nr(h,"")}catch(oe){ut(n,n.return,oe)}}if(c&4&&(h=n.stateNode,h!=null)){var p=n.memoizedProps,_=a!==null?a.memoizedProps:p,I=n.type,A=n.updateQueue;if(n.updateQueue=null,A!==null)try{I==="input"&&p.type==="radio"&&p.name!=null&&Jr(h,p),jn(I,_);var F=jn(I,p);for(_=0;_<A.length;_+=2){var K=A[_],Q=A[_+1];K==="style"?Ki(h,Q):K==="dangerouslySetInnerHTML"?Ft(h,Q):K==="children"?nr(h,Q):_e(h,K,Q,F)}switch(I){case"input":Zr(h,p);break;case"textarea":tr(h,p);break;case"select":var W=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!p.multiple;var re=p.value;re!=null?Mn(h,!!p.multiple,re,!1):W!==!!p.multiple&&(p.defaultValue!=null?Mn(h,!!p.multiple,p.defaultValue,!0):Mn(h,!!p.multiple,p.multiple?[]:"",!1))}h[ta]=p}catch(oe){ut(n,n.return,oe)}}break;case 6:if(Yn(r,n),dr(n),c&4){if(n.stateNode===null)throw Error(t(162));h=n.stateNode,p=n.memoizedProps;try{h.nodeValue=p}catch(oe){ut(n,n.return,oe)}}break;case 3:if(Yn(r,n),dr(n),c&4&&a!==null&&a.memoizedState.isDehydrated)try{Hn(r.containerInfo)}catch(oe){ut(n,n.return,oe)}break;case 4:Yn(r,n),dr(n);break;case 13:Yn(r,n),dr(n),h=n.child,h.flags&8192&&(p=h.memoizedState!==null,h.stateNode.isHidden=p,!p||h.alternate!==null&&h.alternate.memoizedState!==null||(wd=Ye())),c&4&&im(n);break;case 22:if(K=a!==null&&a.memoizedState!==null,n.mode&1?($t=(F=$t)||K,Yn(r,n),$t=F):Yn(r,n),dr(n),c&8192){if(F=n.memoizedState!==null,(n.stateNode.isHidden=F)&&!K&&(n.mode&1)!==0)for(ie=n,K=n.child;K!==null;){for(Q=ie=K;ie!==null;){switch(W=ie,re=W.child,W.tag){case 0:case 11:case 14:case 15:ha(4,W,W.return);break;case 1:uo(W,W.return);var se=W.stateNode;if(typeof se.componentWillUnmount=="function"){c=W,a=W.return;try{r=c,se.props=r.memoizedProps,se.state=r.memoizedState,se.componentWillUnmount()}catch(oe){ut(c,a,oe)}}break;case 5:uo(W,W.return);break;case 22:if(W.memoizedState!==null){lm(Q);continue}}re!==null?(re.return=W,ie=re):lm(Q)}K=K.sibling}e:for(K=null,Q=n;;){if(Q.tag===5){if(K===null){K=Q;try{h=Q.stateNode,F?(p=h.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(I=Q.stateNode,A=Q.memoizedProps.style,_=A!=null&&A.hasOwnProperty("display")?A.display:null,I.style.display=qi("display",_))}catch(oe){ut(n,n.return,oe)}}}else if(Q.tag===6){if(K===null)try{Q.stateNode.nodeValue=F?"":Q.memoizedProps}catch(oe){ut(n,n.return,oe)}}else if((Q.tag!==22&&Q.tag!==23||Q.memoizedState===null||Q===n)&&Q.child!==null){Q.child.return=Q,Q=Q.child;continue}if(Q===n)break e;for(;Q.sibling===null;){if(Q.return===null||Q.return===n)break e;K===Q&&(K=null),Q=Q.return}K===Q&&(K=null),Q.sibling.return=Q.return,Q=Q.sibling}}break;case 19:Yn(r,n),dr(n),c&4&&im(n);break;case 21:break;default:Yn(r,n),dr(n)}}function dr(n){var r=n.flags;if(r&2){try{e:{for(var a=n.return;a!==null;){if(tm(a)){var c=a;break e}a=a.return}throw Error(t(160))}switch(c.tag){case 5:var h=c.stateNode;c.flags&32&&(nr(h,""),c.flags&=-33);var p=nm(n);yd(n,p,h);break;case 3:case 4:var _=c.stateNode.containerInfo,I=nm(n);gd(n,I,_);break;default:throw Error(t(161))}}catch(A){ut(n,n.return,A)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function Qv(n,r,a){ie=n,om(n)}function om(n,r,a){for(var c=(n.mode&1)!==0;ie!==null;){var h=ie,p=h.child;if(h.tag===22&&c){var _=h.memoizedState!==null||Kl;if(!_){var I=h.alternate,A=I!==null&&I.memoizedState!==null||$t;I=Kl;var F=$t;if(Kl=_,($t=A)&&!F)for(ie=h;ie!==null;)_=ie,A=_.child,_.tag===22&&_.memoizedState!==null?um(h):A!==null?(A.return=_,ie=A):um(h);for(;p!==null;)ie=p,om(p),p=p.sibling;ie=h,Kl=I,$t=F}am(n)}else(h.subtreeFlags&8772)!==0&&p!==null?(p.return=h,ie=p):am(n)}}function am(n){for(;ie!==null;){var r=ie;if((r.flags&8772)!==0){var a=r.alternate;try{if((r.flags&8772)!==0)switch(r.tag){case 0:case 11:case 15:$t||Gl(5,r);break;case 1:var c=r.stateNode;if(r.flags&4&&!$t)if(a===null)c.componentDidMount();else{var h=r.elementType===r.type?a.memoizedProps:Gn(r.type,a.memoizedProps);c.componentDidUpdate(h,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var p=r.updateQueue;p!==null&&lp(r,p,c);break;case 3:var _=r.updateQueue;if(_!==null){if(a=null,r.child!==null)switch(r.child.tag){case 5:a=r.child.stateNode;break;case 1:a=r.child.stateNode}lp(r,_,a)}break;case 5:var I=r.stateNode;if(a===null&&r.flags&4){a=I;var A=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":A.autoFocus&&a.focus();break;case"img":A.src&&(a.src=A.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var F=r.alternate;if(F!==null){var K=F.memoizedState;if(K!==null){var Q=K.dehydrated;Q!==null&&Hn(Q)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}$t||r.flags&512&&md(r)}catch(W){ut(r,r.return,W)}}if(r===n){ie=null;break}if(a=r.sibling,a!==null){a.return=r.return,ie=a;break}ie=r.return}}function lm(n){for(;ie!==null;){var r=ie;if(r===n){ie=null;break}var a=r.sibling;if(a!==null){a.return=r.return,ie=a;break}ie=r.return}}function um(n){for(;ie!==null;){var r=ie;try{switch(r.tag){case 0:case 11:case 15:var a=r.return;try{Gl(4,r)}catch(A){ut(r,a,A)}break;case 1:var c=r.stateNode;if(typeof c.componentDidMount=="function"){var h=r.return;try{c.componentDidMount()}catch(A){ut(r,h,A)}}var p=r.return;try{md(r)}catch(A){ut(r,p,A)}break;case 5:var _=r.return;try{md(r)}catch(A){ut(r,_,A)}}}catch(A){ut(r,r.return,A)}if(r===n){ie=null;break}var I=r.sibling;if(I!==null){I.return=r.return,ie=I;break}ie=r.return}}var Yv=Math.ceil,Ql=Ne.ReactCurrentDispatcher,vd=Ne.ReactCurrentOwner,Nn=Ne.ReactCurrentBatchConfig,Ue=0,Ct=null,yt=null,Ot=0,wn=0,co=wi(0),xt=0,fa=null,ps=0,Yl=0,_d=0,pa=null,an=null,wd=0,ho=1/0,Fr=null,Xl=!1,Ed=null,Si=null,Jl=!1,Ai=null,Zl=0,ma=0,xd=null,eu=-1,tu=0;function Xt(){return(Ue&6)!==0?Ye():eu!==-1?eu:eu=Ye()}function Ci(n){return(n.mode&1)===0?1:(Ue&2)!==0&&Ot!==0?Ot&-Ot:Dv.transition!==null?(tu===0&&(tu=ns()),tu):(n=Ve,n!==0||(n=window.event,n=n===void 0?16:$o(n.type)),n)}function Xn(n,r,a,c){if(50<ma)throw ma=0,xd=null,Error(t(185));hi(n,a,c),((Ue&2)===0||n!==Ct)&&(n===Ct&&((Ue&2)===0&&(Yl|=a),xt===4&&Ri(n,Ot)),ln(n,c),a===1&&Ue===0&&(r.mode&1)===0&&(ho=Ye()+500,Rl&&xi()))}function ln(n,r){var a=n.callbackNode;Ar(n,r);var c=ts(n,n===Ct?Ot:0);if(c===0)a!==null&&jo(a),n.callbackNode=null,n.callbackPriority=0;else if(r=c&-c,n.callbackPriority!==r){if(a!=null&&jo(a),r===1)n.tag===0?bv(dm.bind(null,n)):Yf(dm.bind(null,n)),Cv(function(){(Ue&6)===0&&xi()}),a=null;else{switch(pi(c)){case 1:a=Zi;break;case 4:a=ui;break;case 16:a=In;break;case 536870912:a=tl;break;default:a=In}a=_m(a,cm.bind(null,n))}n.callbackPriority=r,n.callbackNode=a}}function cm(n,r){if(eu=-1,tu=0,(Ue&6)!==0)throw Error(t(327));var a=n.callbackNode;if(fo()&&n.callbackNode!==a)return null;var c=ts(n,n===Ct?Ot:0);if(c===0)return null;if((c&30)!==0||(c&n.expiredLanes)!==0||r)r=nu(n,c);else{r=c;var h=Ue;Ue|=2;var p=fm();(Ct!==n||Ot!==r)&&(Fr=null,ho=Ye()+500,gs(n,r));do try{Zv();break}catch(I){hm(n,I)}while(!0);Uc(),Ql.current=p,Ue=h,yt!==null?r=0:(Ct=null,Ot=0,r=xt)}if(r!==0){if(r===2&&(h=mn(n),h!==0&&(c=h,r=Td(n,h))),r===1)throw a=fa,gs(n,0),Ri(n,c),ln(n,Ye()),a;if(r===6)Ri(n,c);else{if(h=n.current.alternate,(c&30)===0&&!Xv(h)&&(r=nu(n,c),r===2&&(p=mn(n),p!==0&&(c=p,r=Td(n,p))),r===1))throw a=fa,gs(n,0),Ri(n,c),ln(n,Ye()),a;switch(n.finishedWork=h,n.finishedLanes=c,r){case 0:case 1:throw Error(t(345));case 2:ys(n,an,Fr);break;case 3:if(Ri(n,c),(c&130023424)===c&&(r=wd+500-Ye(),10<r)){if(ts(n,0)!==0)break;if(h=n.suspendedLanes,(h&c)!==c){Xt(),n.pingedLanes|=n.suspendedLanes&h;break}n.timeoutHandle=Rc(ys.bind(null,n,an,Fr),r);break}ys(n,an,Fr);break;case 4:if(Ri(n,c),(c&4194240)===c)break;for(r=n.eventTimes,h=-1;0<c;){var _=31-Gt(c);p=1<<_,_=r[_],_>h&&(h=_),c&=~p}if(c=h,c=Ye()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*Yv(c/1960))-c,10<c){n.timeoutHandle=Rc(ys.bind(null,n,an,Fr),c);break}ys(n,an,Fr);break;case 5:ys(n,an,Fr);break;default:throw Error(t(329))}}}return ln(n,Ye()),n.callbackNode===a?cm.bind(null,n):null}function Td(n,r){var a=pa;return n.current.memoizedState.isDehydrated&&(gs(n,r).flags|=256),n=nu(n,r),n!==2&&(r=an,an=a,r!==null&&Id(r)),n}function Id(n){an===null?an=n:an.push.apply(an,n)}function Xv(n){for(var r=n;;){if(r.flags&16384){var a=r.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var h=a[c],p=h.getSnapshot;h=h.value;try{if(!qn(p(),h))return!1}catch{return!1}}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Ri(n,r){for(r&=~_d,r&=~Yl,n.suspendedLanes|=r,n.pingedLanes&=~r,n=n.expirationTimes;0<r;){var a=31-Gt(r),c=1<<a;n[a]=-1,r&=~c}}function dm(n){if((Ue&6)!==0)throw Error(t(327));fo();var r=ts(n,0);if((r&1)===0)return ln(n,Ye()),null;var a=nu(n,r);if(n.tag!==0&&a===2){var c=mn(n);c!==0&&(r=c,a=Td(n,c))}if(a===1)throw a=fa,gs(n,0),Ri(n,r),ln(n,Ye()),a;if(a===6)throw Error(t(345));return n.finishedWork=n.current.alternate,n.finishedLanes=r,ys(n,an,Fr),ln(n,Ye()),null}function kd(n,r){var a=Ue;Ue|=1;try{return n(r)}finally{Ue=a,Ue===0&&(ho=Ye()+500,Rl&&xi())}}function ms(n){Ai!==null&&Ai.tag===0&&(Ue&6)===0&&fo();var r=Ue;Ue|=1;var a=Nn.transition,c=Ve;try{if(Nn.transition=null,Ve=1,n)return n()}finally{Ve=c,Nn.transition=a,Ue=r,(Ue&6)===0&&xi()}}function Sd(){wn=co.current,Ze(co)}function gs(n,r){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;if(a!==-1&&(n.timeoutHandle=-1,Av(a)),yt!==null)for(a=yt.return;a!==null;){var c=a;switch(Vc(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&Al();break;case 3:ao(),Ze(rn),Ze(Ut),Gc();break;case 5:qc(c);break;case 4:ao();break;case 13:Ze(it);break;case 19:Ze(it);break;case 10:zc(c.type._context);break;case 22:case 23:Sd()}a=a.return}if(Ct=n,yt=n=Pi(n.current,null),Ot=wn=r,xt=0,fa=null,_d=Yl=ps=0,an=pa=null,ds!==null){for(r=0;r<ds.length;r++)if(a=ds[r],c=a.interleaved,c!==null){a.interleaved=null;var h=c.next,p=a.pending;if(p!==null){var _=p.next;p.next=h,c.next=_}a.pending=c}ds=null}return n}function hm(n,r){do{var a=yt;try{if(Uc(),Fl.current=$l,Ul){for(var c=st.memoizedState;c!==null;){var h=c.queue;h!==null&&(h.pending=null),c=c.next}Ul=!1}if(fs=0,At=Et=st=null,aa=!1,la=0,vd.current=null,a===null||a.return===null){xt=1,fa=r,yt=null;break}e:{var p=n,_=a.return,I=a,A=r;if(r=Ot,I.flags|=32768,A!==null&&typeof A=="object"&&typeof A.then=="function"){var F=A,K=I,Q=K.tag;if((K.mode&1)===0&&(Q===0||Q===11||Q===15)){var W=K.alternate;W?(K.updateQueue=W.updateQueue,K.memoizedState=W.memoizedState,K.lanes=W.lanes):(K.updateQueue=null,K.memoizedState=null)}var re=Lp(_);if(re!==null){re.flags&=-257,jp(re,_,I,p,r),re.mode&1&&Mp(p,F,r),r=re,A=F;var se=r.updateQueue;if(se===null){var oe=new Set;oe.add(A),r.updateQueue=oe}else se.add(A);break e}else{if((r&1)===0){Mp(p,F,r),Ad();break e}A=Error(t(426))}}else if(nt&&I.mode&1){var ft=Lp(_);if(ft!==null){(ft.flags&65536)===0&&(ft.flags|=256),jp(ft,_,I,p,r),jc(lo(A,I));break e}}p=A=lo(A,I),xt!==4&&(xt=2),pa===null?pa=[p]:pa.push(p),p=_;do{switch(p.tag){case 3:p.flags|=65536,r&=-r,p.lanes|=r;var M=Op(p,A,r);ap(p,M);break e;case 1:I=A;var P=p.type,L=p.stateNode;if((p.flags&128)===0&&(typeof P.getDerivedStateFromError=="function"||L!==null&&typeof L.componentDidCatch=="function"&&(Si===null||!Si.has(L)))){p.flags|=65536,r&=-r,p.lanes|=r;var J=Vp(p,I,r);ap(p,J);break e}}p=p.return}while(p!==null)}mm(a)}catch(le){r=le,yt===a&&a!==null&&(yt=a=a.return);continue}break}while(!0)}function fm(){var n=Ql.current;return Ql.current=$l,n===null?$l:n}function Ad(){(xt===0||xt===3||xt===2)&&(xt=4),Ct===null||(ps&268435455)===0&&(Yl&268435455)===0||Ri(Ct,Ot)}function nu(n,r){var a=Ue;Ue|=2;var c=fm();(Ct!==n||Ot!==r)&&(Fr=null,gs(n,r));do try{Jv();break}catch(h){hm(n,h)}while(!0);if(Uc(),Ue=a,Ql.current=c,yt!==null)throw Error(t(261));return Ct=null,Ot=0,xt}function Jv(){for(;yt!==null;)pm(yt)}function Zv(){for(;yt!==null&&!Za();)pm(yt)}function pm(n){var r=vm(n.alternate,n,wn);n.memoizedProps=n.pendingProps,r===null?mm(n):yt=r,vd.current=null}function mm(n){var r=n;do{var a=r.alternate;if(n=r.return,(r.flags&32768)===0){if(a=Wv(a,r,wn),a!==null){yt=a;return}}else{if(a=qv(a,r),a!==null){a.flags&=32767,yt=a;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{xt=6,yt=null;return}}if(r=r.sibling,r!==null){yt=r;return}yt=r=n}while(r!==null);xt===0&&(xt=5)}function ys(n,r,a){var c=Ve,h=Nn.transition;try{Nn.transition=null,Ve=1,e_(n,r,a,c)}finally{Nn.transition=h,Ve=c}return null}function e_(n,r,a,c){do fo();while(Ai!==null);if((Ue&6)!==0)throw Error(t(327));a=n.finishedWork;var h=n.finishedLanes;if(a===null)return null;if(n.finishedWork=null,n.finishedLanes=0,a===n.current)throw Error(t(177));n.callbackNode=null,n.callbackPriority=0;var p=a.lanes|a.childLanes;if(Ge(n,p),n===Ct&&(yt=Ct=null,Ot=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||Jl||(Jl=!0,_m(In,function(){return fo(),null})),p=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||p){p=Nn.transition,Nn.transition=null;var _=Ve;Ve=1;var I=Ue;Ue|=4,vd.current=null,Gv(n,a),sm(a,n),wv(Ac),gi=!!Sc,Ac=Sc=null,n.current=a,Qv(a),cc(),Ue=I,Ve=_,Nn.transition=p}else n.current=a;if(Jl&&(Jl=!1,Ai=n,Zl=h),p=n.pendingLanes,p===0&&(Si=null),nl(a.stateNode),ln(n,Ye()),r!==null)for(c=n.onRecoverableError,a=0;a<r.length;a++)h=r[a],c(h.value,{componentStack:h.stack,digest:h.digest});if(Xl)throw Xl=!1,n=Ed,Ed=null,n;return(Zl&1)!==0&&n.tag!==0&&fo(),p=n.pendingLanes,(p&1)!==0?n===xd?ma++:(ma=0,xd=n):ma=0,xi(),null}function fo(){if(Ai!==null){var n=pi(Zl),r=Nn.transition,a=Ve;try{if(Nn.transition=null,Ve=16>n?16:n,Ai===null)var c=!1;else{if(n=Ai,Ai=null,Zl=0,(Ue&6)!==0)throw Error(t(331));var h=Ue;for(Ue|=4,ie=n.current;ie!==null;){var p=ie,_=p.child;if((ie.flags&16)!==0){var I=p.deletions;if(I!==null){for(var A=0;A<I.length;A++){var F=I[A];for(ie=F;ie!==null;){var K=ie;switch(K.tag){case 0:case 11:case 15:ha(8,K,p)}var Q=K.child;if(Q!==null)Q.return=K,ie=Q;else for(;ie!==null;){K=ie;var W=K.sibling,re=K.return;if(em(K),K===F){ie=null;break}if(W!==null){W.return=re,ie=W;break}ie=re}}}var se=p.alternate;if(se!==null){var oe=se.child;if(oe!==null){se.child=null;do{var ft=oe.sibling;oe.sibling=null,oe=ft}while(oe!==null)}}ie=p}}if((p.subtreeFlags&2064)!==0&&_!==null)_.return=p,ie=_;else e:for(;ie!==null;){if(p=ie,(p.flags&2048)!==0)switch(p.tag){case 0:case 11:case 15:ha(9,p,p.return)}var M=p.sibling;if(M!==null){M.return=p.return,ie=M;break e}ie=p.return}}var P=n.current;for(ie=P;ie!==null;){_=ie;var L=_.child;if((_.subtreeFlags&2064)!==0&&L!==null)L.return=_,ie=L;else e:for(_=P;ie!==null;){if(I=ie,(I.flags&2048)!==0)try{switch(I.tag){case 0:case 11:case 15:Gl(9,I)}}catch(le){ut(I,I.return,le)}if(I===_){ie=null;break e}var J=I.sibling;if(J!==null){J.return=I.return,ie=J;break e}ie=I.return}}if(Ue=h,xi(),pn&&typeof pn.onPostCommitFiberRoot=="function")try{pn.onPostCommitFiberRoot(es,n)}catch{}c=!0}return c}finally{Ve=a,Nn.transition=r}}return!1}function gm(n,r,a){r=lo(a,r),r=Op(n,r,1),n=Ii(n,r,1),r=Xt(),n!==null&&(hi(n,1,r),ln(n,r))}function ut(n,r,a){if(n.tag===3)gm(n,n,a);else for(;r!==null;){if(r.tag===3){gm(r,n,a);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Si===null||!Si.has(c))){n=lo(a,n),n=Vp(r,n,1),r=Ii(r,n,1),n=Xt(),r!==null&&(hi(r,1,n),ln(r,n));break}}r=r.return}}function t_(n,r,a){var c=n.pingCache;c!==null&&c.delete(r),r=Xt(),n.pingedLanes|=n.suspendedLanes&a,Ct===n&&(Ot&a)===a&&(xt===4||xt===3&&(Ot&130023424)===Ot&&500>Ye()-wd?gs(n,0):_d|=a),ln(n,r)}function ym(n,r){r===0&&((n.mode&1)===0?r=1:(r=Vs,Vs<<=1,(Vs&130023424)===0&&(Vs=4194304)));var a=Xt();n=Mr(n,r),n!==null&&(hi(n,r,a),ln(n,a))}function n_(n){var r=n.memoizedState,a=0;r!==null&&(a=r.retryLane),ym(n,a)}function r_(n,r){var a=0;switch(n.tag){case 13:var c=n.stateNode,h=n.memoizedState;h!==null&&(a=h.retryLane);break;case 19:c=n.stateNode;break;default:throw Error(t(314))}c!==null&&c.delete(r),ym(n,a)}var vm;vm=function(n,r,a){if(n!==null)if(n.memoizedProps!==r.pendingProps||rn.current)on=!0;else{if((n.lanes&a)===0&&(r.flags&128)===0)return on=!1,Hv(n,r,a);on=(n.flags&131072)!==0}else on=!1,nt&&(r.flags&1048576)!==0&&Xf(r,Nl,r.index);switch(r.lanes=0,r.tag){case 2:var c=r.type;ql(n,r),n=r.pendingProps;var h=eo(r,Ut.current);oo(r,a),h=Xc(null,r,c,n,h,a);var p=Jc();return r.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,sn(c)?(p=!0,Cl(r)):p=!1,r.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,Hc(r),h.updater=Hl,r.stateNode=h,h._reactInternals=r,id(r,c,n,a),r=ld(null,r,c,!0,p,a)):(r.tag=0,nt&&p&&Oc(r),Yt(null,r,h,a),r=r.child),r;case 16:c=r.elementType;e:{switch(ql(n,r),n=r.pendingProps,h=c._init,c=h(c._payload),r.type=c,h=r.tag=s_(c),n=Gn(c,n),h){case 0:r=ad(null,r,c,n,a);break e;case 1:r=Hp(null,r,c,n,a);break e;case 11:r=Fp(null,r,c,n,a);break e;case 14:r=Up(null,r,c,Gn(c.type,n),a);break e}throw Error(t(306,c,""))}return r;case 0:return c=r.type,h=r.pendingProps,h=r.elementType===c?h:Gn(c,h),ad(n,r,c,h,a);case 1:return c=r.type,h=r.pendingProps,h=r.elementType===c?h:Gn(c,h),Hp(n,r,c,h,a);case 3:e:{if(Wp(r),n===null)throw Error(t(387));c=r.pendingProps,p=r.memoizedState,h=p.element,op(n,r),Ll(r,c,null,a);var _=r.memoizedState;if(c=_.element,p.isDehydrated)if(p={element:c,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){h=lo(Error(t(423)),r),r=qp(n,r,c,a,h);break e}else if(c!==h){h=lo(Error(t(424)),r),r=qp(n,r,c,a,h);break e}else for(_n=_i(r.stateNode.containerInfo.firstChild),vn=r,nt=!0,Kn=null,a=ip(r,null,c,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(ro(),c===h){r=jr(n,r,a);break e}Yt(n,r,c,a)}r=r.child}return r;case 5:return up(r),n===null&&Lc(r),c=r.type,h=r.pendingProps,p=n!==null?n.memoizedProps:null,_=h.children,Cc(c,h)?_=null:p!==null&&Cc(c,p)&&(r.flags|=32),$p(n,r),Yt(n,r,_,a),r.child;case 6:return n===null&&Lc(r),null;case 13:return Kp(n,r,a);case 4:return Wc(r,r.stateNode.containerInfo),c=r.pendingProps,n===null?r.child=io(r,null,c,a):Yt(n,r,c,a),r.child;case 11:return c=r.type,h=r.pendingProps,h=r.elementType===c?h:Gn(c,h),Fp(n,r,c,h,a);case 7:return Yt(n,r,r.pendingProps,a),r.child;case 8:return Yt(n,r,r.pendingProps.children,a),r.child;case 12:return Yt(n,r,r.pendingProps.children,a),r.child;case 10:e:{if(c=r.type._context,h=r.pendingProps,p=r.memoizedProps,_=h.value,Xe(Ol,c._currentValue),c._currentValue=_,p!==null)if(qn(p.value,_)){if(p.children===h.children&&!rn.current){r=jr(n,r,a);break e}}else for(p=r.child,p!==null&&(p.return=r);p!==null;){var I=p.dependencies;if(I!==null){_=p.child;for(var A=I.firstContext;A!==null;){if(A.context===c){if(p.tag===1){A=Lr(-1,a&-a),A.tag=2;var F=p.updateQueue;if(F!==null){F=F.shared;var K=F.pending;K===null?A.next=A:(A.next=K.next,K.next=A),F.pending=A}}p.lanes|=a,A=p.alternate,A!==null&&(A.lanes|=a),Bc(p.return,a,r),I.lanes|=a;break}A=A.next}}else if(p.tag===10)_=p.type===r.type?null:p.child;else if(p.tag===18){if(_=p.return,_===null)throw Error(t(341));_.lanes|=a,I=_.alternate,I!==null&&(I.lanes|=a),Bc(_,a,r),_=p.sibling}else _=p.child;if(_!==null)_.return=p;else for(_=p;_!==null;){if(_===r){_=null;break}if(p=_.sibling,p!==null){p.return=_.return,_=p;break}_=_.return}p=_}Yt(n,r,h.children,a),r=r.child}return r;case 9:return h=r.type,c=r.pendingProps.children,oo(r,a),h=Rn(h),c=c(h),r.flags|=1,Yt(n,r,c,a),r.child;case 14:return c=r.type,h=Gn(c,r.pendingProps),h=Gn(c.type,h),Up(n,r,c,h,a);case 15:return zp(n,r,r.type,r.pendingProps,a);case 17:return c=r.type,h=r.pendingProps,h=r.elementType===c?h:Gn(c,h),ql(n,r),r.tag=1,sn(c)?(n=!0,Cl(r)):n=!1,oo(r,a),bp(r,c,h),id(r,c,h,a),ld(null,r,c,!0,n,a);case 19:return Qp(n,r,a);case 22:return Bp(n,r,a)}throw Error(t(156,r.tag))};function _m(n,r){return Ds(n,r)}function i_(n,r,a,c){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bn(n,r,a,c){return new i_(n,r,a,c)}function Cd(n){return n=n.prototype,!(!n||!n.isReactComponent)}function s_(n){if(typeof n=="function")return Cd(n)?1:0;if(n!=null){if(n=n.$$typeof,n===D)return 11;if(n===_t)return 14}return 2}function Pi(n,r){var a=n.alternate;return a===null?(a=bn(n.tag,r,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=r,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&14680064,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,r=n.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a}function ru(n,r,a,c,h,p){var _=2;if(c=n,typeof n=="function")Cd(n)&&(_=1);else if(typeof n=="string")_=5;else e:switch(n){case N:return vs(a.children,h,p,r);case T:_=8,h|=8;break;case S:return n=bn(12,a,r,h|2),n.elementType=S,n.lanes=p,n;case k:return n=bn(13,a,r,h),n.elementType=k,n.lanes=p,n;case Qe:return n=bn(19,a,r,h),n.elementType=Qe,n.lanes=p,n;case ze:return iu(a,h,p,r);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case R:_=10;break e;case b:_=9;break e;case D:_=11;break e;case _t:_=14;break e;case dt:_=16,c=null;break e}throw Error(t(130,n==null?n:typeof n,""))}return r=bn(_,a,r,h),r.elementType=n,r.type=c,r.lanes=p,r}function vs(n,r,a,c){return n=bn(7,n,c,r),n.lanes=a,n}function iu(n,r,a,c){return n=bn(22,n,c,r),n.elementType=ze,n.lanes=a,n.stateNode={isHidden:!1},n}function Rd(n,r,a){return n=bn(6,n,null,r),n.lanes=a,n}function Pd(n,r,a){return r=bn(4,n.children!==null?n.children:[],n.key,r),r.lanes=a,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}function o_(n,r,a,c,h){this.tag=r,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=di(0),this.expirationTimes=di(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=di(0),this.identifierPrefix=c,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function Nd(n,r,a,c,h,p,_,I,A){return n=new o_(n,r,a,I,A),r===1?(r=1,p===!0&&(r|=8)):r=0,p=bn(3,null,null,r),n.current=p,p.stateNode=n,p.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Hc(p),n}function a_(n,r,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Se,key:c==null?null:""+c,children:n,containerInfo:r,implementation:a}}function wm(n){if(!n)return Ei;n=n._reactInternals;e:{if(Ee(n)!==n||n.tag!==1)throw Error(t(170));var r=n;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(sn(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(t(171))}if(n.tag===1){var a=n.type;if(sn(a))return Gf(n,a,r)}return r}function Em(n,r,a,c,h,p,_,I,A){return n=Nd(a,c,!0,n,h,p,_,I,A),n.context=wm(null),a=n.current,c=Xt(),h=Ci(a),p=Lr(c,h),p.callback=r??null,Ii(a,p,h),n.current.lanes=h,hi(n,h,c),ln(n,c),n}function su(n,r,a,c){var h=r.current,p=Xt(),_=Ci(h);return a=wm(a),r.context===null?r.context=a:r.pendingContext=a,r=Lr(p,_),r.payload={element:n},c=c===void 0?null:c,c!==null&&(r.callback=c),n=Ii(h,r,_),n!==null&&(Xn(n,h,_,p),Ml(n,h,_)),_}function ou(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function xm(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<r?a:r}}function bd(n,r){xm(n,r),(n=n.alternate)&&xm(n,r)}function l_(){return null}var Tm=typeof reportError=="function"?reportError:function(n){console.error(n)};function Dd(n){this._internalRoot=n}au.prototype.render=Dd.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(t(409));su(n,r,null,null)},au.prototype.unmount=Dd.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;ms(function(){su(null,n,null,null)}),r[br]=null}};function au(n){this._internalRoot=n}au.prototype.unstable_scheduleHydration=function(n){if(n){var r=al();n={blockedOn:null,target:n,priority:r};for(var a=0;a<ir.length&&r!==0&&r<ir[a].priority;a++);ir.splice(a,0,n),a===0&&cl(n)}};function Od(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function lu(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Im(){}function u_(n,r,a,c,h){if(h){if(typeof c=="function"){var p=c;c=function(){var F=ou(_);p.call(F)}}var _=Em(r,c,n,0,null,!1,!1,"",Im);return n._reactRootContainer=_,n[br]=_.current,Zo(n.nodeType===8?n.parentNode:n),ms(),_}for(;h=n.lastChild;)n.removeChild(h);if(typeof c=="function"){var I=c;c=function(){var F=ou(A);I.call(F)}}var A=Nd(n,0,!1,null,null,!1,!1,"",Im);return n._reactRootContainer=A,n[br]=A.current,Zo(n.nodeType===8?n.parentNode:n),ms(function(){su(r,A,a,c)}),A}function uu(n,r,a,c,h){var p=a._reactRootContainer;if(p){var _=p;if(typeof h=="function"){var I=h;h=function(){var A=ou(_);I.call(A)}}su(r,_,n,h)}else _=u_(a,r,n,h,c);return ou(_)}sl=function(n){switch(n.tag){case 3:var r=n.stateNode;if(r.current.memoizedState.isDehydrated){var a=ci(r.pendingLanes);a!==0&&(fi(r,a|1),ln(r,Ye()),(Ue&6)===0&&(ho=Ye()+500,xi()))}break;case 13:ms(function(){var c=Mr(n,1);if(c!==null){var h=Xt();Xn(c,n,1,h)}}),bd(n,1)}},Ms=function(n){if(n.tag===13){var r=Mr(n,134217728);if(r!==null){var a=Xt();Xn(r,n,134217728,a)}bd(n,134217728)}},ol=function(n){if(n.tag===13){var r=Ci(n),a=Mr(n,r);if(a!==null){var c=Xt();Xn(a,n,r,c)}bd(n,r)}},al=function(){return Ve},ll=function(n,r){var a=Ve;try{return Ve=n,r()}finally{Ve=a}},ri=function(n,r,a){switch(r){case"input":if(Zr(n,a),r=a.name,a.type==="radio"&&r!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<a.length;r++){var c=a[r];if(c!==n&&c.form===n.form){var h=Sl(c);if(!h)throw Error(t(90));Xr(c),Zr(c,h)}}}break;case"textarea":tr(n,a);break;case"select":r=a.value,r!=null&&Mn(n,!!a.multiple,r,!1)}},Tr=kd,si=ms;var c_={usingClientEntryPoint:!1,Events:[na,Js,Sl,Tn,Yi,kd]},ga={findFiberByHostInstance:as,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},d_={bundleType:ga.bundleType,version:ga.version,rendererPackageName:ga.rendererPackageName,rendererConfig:ga.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ne.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Sr(n),n===null?null:n.stateNode},findFiberByHostInstance:ga.findFiberByHostInstance||l_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cu.isDisabled&&cu.supportsFiber)try{es=cu.inject(d_),pn=cu}catch{}}return un.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=c_,un.createPortal=function(n,r){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Od(r))throw Error(t(200));return a_(n,r,null,a)},un.createRoot=function(n,r){if(!Od(n))throw Error(t(299));var a=!1,c="",h=Tm;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onRecoverableError!==void 0&&(h=r.onRecoverableError)),r=Nd(n,1,!1,null,null,a,!1,c,h),n[br]=r.current,Zo(n.nodeType===8?n.parentNode:n),new Dd(r)},un.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(t(188)):(n=Object.keys(n).join(","),Error(t(268,n)));return n=Sr(r),n=n===null?null:n.stateNode,n},un.flushSync=function(n){return ms(n)},un.hydrate=function(n,r,a){if(!lu(r))throw Error(t(200));return uu(null,n,r,!0,a)},un.hydrateRoot=function(n,r,a){if(!Od(n))throw Error(t(405));var c=a!=null&&a.hydratedSources||null,h=!1,p="",_=Tm;if(a!=null&&(a.unstable_strictMode===!0&&(h=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onRecoverableError!==void 0&&(_=a.onRecoverableError)),r=Em(r,null,n,1,a??null,h,!1,p,_),n[br]=r.current,Zo(n),c)for(n=0;n<c.length;n++)a=c[n],h=a._getVersion,h=h(a._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[a,h]:r.mutableSourceEagerHydrationData.push(a,h);return new au(r)},un.render=function(n,r,a){if(!lu(r))throw Error(t(200));return uu(null,n,r,!1,a)},un.unmountComponentAtNode=function(n){if(!lu(n))throw Error(t(40));return n._reactRootContainer?(ms(function(){uu(null,null,n,!1,function(){n._reactRootContainer=null,n[br]=null})}),!0):!1},un.unstable_batchedUpdates=kd,un.unstable_renderSubtreeIntoContainer=function(n,r,a,c){if(!lu(a))throw Error(t(200));if(n==null||n._reactInternals===void 0)throw Error(t(38));return uu(n,r,a,!1,c)},un.version="18.3.1-next-f1338f8080-20240426",un}var bm;function w_(){if(bm)return Ld.exports;bm=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Ld.exports=__(),Ld.exports}var Dm;function E_(){if(Dm)return du;Dm=1;var i=w_();return du.createRoot=i.createRoot,du.hydrateRoot=i.hydrateRoot,du}var x_=E_();const T_=Xg(x_);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I_=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Jg=(...i)=>i.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var k_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S_=Te.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:d,...m},g)=>Te.createElement("svg",{ref:g,...k_,width:e,height:e,stroke:i,strokeWidth:s?Number(t)*24/Number(e):t,className:Jg("lucide",o),...m},[...d.map(([w,x])=>Te.createElement(w,x)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=(i,e)=>{const t=Te.forwardRef(({className:s,...o},u)=>Te.createElement(S_,{ref:u,iconNode:e,className:Jg(`lucide-${I_(i)}`,s),...o}));return t.displayName=`${i}`,t};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _s=Ce("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ud=Ce("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zd=Ce("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Om=Ce("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A_=Ce("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C_=Ce("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const va=Ce("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R_=Ce("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P_=Ce("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N_=Ce("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b_=Ce("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hu=Ce("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D_=Ce("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bd=Ce("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fu=Ce("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O_=Ce("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V_=Ce("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M_=Ce("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L_=Ce("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $d=Ce("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j_=Ce("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F_=Ce("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U_=Ce("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z_=Ce("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B_=Ce("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $_=Ce("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H_=Ce("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W_=Ce("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q_=Ce("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vm=Ce("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mm=Ce("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hd=Ce("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K_=Ce("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lm=Ce("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G_=Ce("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pu=Ce("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wd=Ce("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q_=Ce("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y_=Ce("Wind",[["path",{d:"M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2",key:"1k4u03"}],["path",{d:"M9.6 4.6A2 2 0 1 1 11 8H2",key:"b7d0fd"}],["path",{d:"M12.6 19.4A2 2 0 1 0 14 16H2",key:"1p5cb3"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X_=Ce("Wine",[["path",{d:"M8 22h8",key:"rmew8v"}],["path",{d:"M7 10h10",key:"1101jm"}],["path",{d:"M12 15v7",key:"t2xh3l"}],["path",{d:"M12 15a5 5 0 0 0 5-5c0-2-.5-4-2-8H9c-1.5 4-2 6-2 8a5 5 0 0 0 5 5Z",key:"10ffi3"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J_=Ce("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _a=Ce("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);var jm={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zg=function(i){const e=[];let t=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},Z_=function(i){const e=[];let t=0,s=0;for(;t<i.length;){const o=i[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[t++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[t++],d=i[t++],m=i[t++],g=((o&7)<<18|(u&63)<<12|(d&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=i[t++],d=i[t++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|d&63)}}return e.join("")},e0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],d=o+1<i.length,m=d?i[o+1]:0,g=o+2<i.length,w=g?i[o+2]:0,x=u>>2,C=(u&3)<<4|m>>4;let j=(m&15)<<2|w>>6,$=w&63;g||($=64,d||(j=64)),s.push(t[x],t[C],t[j],t[$])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(Zg(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):Z_(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=t[i.charAt(o++)],m=o<i.length?t[i.charAt(o)]:0;++o;const w=o<i.length?t[i.charAt(o)]:64;++o;const C=o<i.length?t[i.charAt(o)]:64;if(++o,u==null||m==null||w==null||C==null)throw new ew;const j=u<<2|m>>4;if(s.push(j),w!==64){const $=m<<4&240|w>>2;if(s.push($),C!==64){const Y=w<<6&192|C;s.push(Y)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class ew extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const tw=function(i){const e=Zg(i);return e0.encodeByteArray(e,!0)},Nu=function(i){return tw(i).replace(/\./g,"")},t0=function(i){try{return e0.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rw=()=>nw().__FIREBASE_DEFAULTS__,iw=()=>{if(typeof process>"u"||typeof jm>"u")return;const i=jm.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},sw=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&t0(i[1]);return e&&JSON.parse(e)},Qu=()=>{try{return rw()||iw()||sw()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},n0=i=>{var e,t;return(t=(e=Qu())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[i]},ow=i=>{const e=n0(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},r0=()=>{var i;return(i=Qu())===null||i===void 0?void 0:i.config},i0=i=>{var e;return(e=Qu())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lw(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[Nu(JSON.stringify(t)),Nu(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function uw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Kt())}function cw(){var i;const e=(i=Qu())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function dw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function hw(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function fw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function pw(){const i=Kt();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function mw(){return!cw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function gw(){try{return typeof indexedDB=="object"}catch{return!1}}function yw(){return new Promise((i,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw="FirebaseError";class Qr extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=vw,Object.setPrototypeOf(this,Qr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,za.prototype.create)}}class za{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],d=u?_w(u,s):"Error",m=`${this.serviceName}: ${d} (${o}).`;return new Qr(o,m,s)}}function _w(i,e){return i.replace(ww,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const ww=/\{\$([^}]+)}/g;function Ew(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function bu(i,e){if(i===e)return!0;const t=Object.keys(i),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const u=i[o],d=e[o];if(Fm(u)&&Fm(d)){if(!bu(u,d))return!1}else if(u!==d)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function Fm(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ba(i){const e=[];for(const[t,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Ea(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function xa(i){const e=i.indexOf("?");if(!e)return"";const t=i.indexOf("#",e);return i.substring(e,t>0?t:void 0)}function xw(i,e){const t=new Tw(i,e);return t.subscribe.bind(t)}class Tw{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");Iw(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=qd),o.error===void 0&&(o.error=qd),o.complete===void 0&&(o.complete=qd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Iw(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function qd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(i){return i&&i._delegate?i._delegate:i}class Is{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ws="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new aw;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Aw(e))try{this.getOrInitializeService({instanceIdentifier:ws})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=ws){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ws){return this.instances.has(e)}getOptions(e=ws){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[u,d]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&d.resolve(o)}return o}onInit(e,t){var s;const o=this.normalizeInstanceIdentifier(t),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const d=this.instances.get(o);return d&&e(d,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Sw(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ws){return this.component?this.component.multipleInstances?e:ws:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Sw(i){return i===ws?void 0:i}function Aw(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new kw(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Me||(Me={}));const Rw={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},Pw=Me.INFO,Nw={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},bw=(i,e,...t)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=Nw[e];if(o)console[o](`[${s}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Nh{constructor(e){this.name=e,this._logLevel=Pw,this._logHandler=bw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Rw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const Dw=(i,e)=>e.some(t=>i instanceof t);let Um,zm;function Ow(){return Um||(Um=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Vw(){return zm||(zm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const s0=new WeakMap,ah=new WeakMap,o0=new WeakMap,Kd=new WeakMap,bh=new WeakMap;function Mw(i){const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",d)},u=()=>{t(ji(i.result)),o()},d=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",d)});return e.then(t=>{t instanceof IDBCursor&&s0.set(t,i)}).catch(()=>{}),bh.set(e,i),e}function Lw(i){if(ah.has(i))return;const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",d),i.removeEventListener("abort",d)},u=()=>{t(),o()},d=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",d),i.addEventListener("abort",d)});ah.set(i,e)}let lh={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return ah.get(i);if(e==="objectStoreNames")return i.objectStoreNames||o0.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ji(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function jw(i){lh=i(lh)}function Fw(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=i.call(Gd(this),e,...t);return o0.set(s,e.sort?e.sort():[e]),ji(s)}:Vw().includes(i)?function(...e){return i.apply(Gd(this),e),ji(s0.get(this))}:function(...e){return ji(i.apply(Gd(this),e))}}function Uw(i){return typeof i=="function"?Fw(i):(i instanceof IDBTransaction&&Lw(i),Dw(i,Ow())?new Proxy(i,lh):i)}function ji(i){if(i instanceof IDBRequest)return Mw(i);if(Kd.has(i))return Kd.get(i);const e=Uw(i);return e!==i&&(Kd.set(i,e),bh.set(e,i)),e}const Gd=i=>bh.get(i);function zw(i,e,{blocked:t,upgrade:s,blocking:o,terminated:u}={}){const d=indexedDB.open(i,e),m=ji(d);return s&&d.addEventListener("upgradeneeded",g=>{s(ji(d.result),g.oldVersion,g.newVersion,ji(d.transaction),g)}),t&&d.addEventListener("blocked",g=>t(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",w=>o(w.oldVersion,w.newVersion,w))}).catch(()=>{}),m}const Bw=["get","getKey","getAll","getAllKeys","count"],$w=["put","add","delete","clear"],Qd=new Map;function Bm(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Qd.get(e))return Qd.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=$w.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||Bw.includes(t)))return;const u=async function(d,...m){const g=this.transaction(d,o?"readwrite":"readonly");let w=g.store;return s&&(w=w.index(m.shift())),(await Promise.all([w[t](...m),o&&g.done]))[0]};return Qd.set(e,u),u}jw(i=>({...i,get:(e,t,s)=>Bm(e,t)||i.get(e,t,s),has:(e,t)=>!!Bm(e,t)||i.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Ww(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function Ww(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const uh="@firebase/app",$m="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wr=new Nh("@firebase/app"),qw="@firebase/app-compat",Kw="@firebase/analytics-compat",Gw="@firebase/analytics",Qw="@firebase/app-check-compat",Yw="@firebase/app-check",Xw="@firebase/auth",Jw="@firebase/auth-compat",Zw="@firebase/database",eE="@firebase/data-connect",tE="@firebase/database-compat",nE="@firebase/functions",rE="@firebase/functions-compat",iE="@firebase/installations",sE="@firebase/installations-compat",oE="@firebase/messaging",aE="@firebase/messaging-compat",lE="@firebase/performance",uE="@firebase/performance-compat",cE="@firebase/remote-config",dE="@firebase/remote-config-compat",hE="@firebase/storage",fE="@firebase/storage-compat",pE="@firebase/firestore",mE="@firebase/vertexai-preview",gE="@firebase/firestore-compat",yE="firebase",vE="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ch="[DEFAULT]",_E={[uh]:"fire-core",[qw]:"fire-core-compat",[Gw]:"fire-analytics",[Kw]:"fire-analytics-compat",[Yw]:"fire-app-check",[Qw]:"fire-app-check-compat",[Xw]:"fire-auth",[Jw]:"fire-auth-compat",[Zw]:"fire-rtdb",[eE]:"fire-data-connect",[tE]:"fire-rtdb-compat",[nE]:"fire-fn",[rE]:"fire-fn-compat",[iE]:"fire-iid",[sE]:"fire-iid-compat",[oE]:"fire-fcm",[aE]:"fire-fcm-compat",[lE]:"fire-perf",[uE]:"fire-perf-compat",[cE]:"fire-rc",[dE]:"fire-rc-compat",[hE]:"fire-gcs",[fE]:"fire-gcs-compat",[pE]:"fire-fst",[gE]:"fire-fst-compat",[mE]:"fire-vertex","fire-js":"fire-js",[yE]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Du=new Map,wE=new Map,dh=new Map;function Hm(i,e){try{i.container.addComponent(e)}catch(t){Wr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function To(i){const e=i.name;if(dh.has(e))return Wr.debug(`There were multiple attempts to register component ${e}.`),!1;dh.set(e,i);for(const t of Du.values())Hm(t,i);for(const t of wE.values())Hm(t,i);return!0}function Dh(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function hr(i){return i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fi=new za("app","Firebase",EE);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Is("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bo=vE;function a0(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:ch,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw Fi.create("bad-app-name",{appName:String(o)});if(t||(t=r0()),!t)throw Fi.create("no-options");const u=Du.get(o);if(u){if(bu(t,u.options)&&bu(s,u.config))return u;throw Fi.create("duplicate-app",{appName:o})}const d=new Cw(o);for(const g of dh.values())d.addComponent(g);const m=new xE(t,s,d);return Du.set(o,m),m}function l0(i=ch){const e=Du.get(i);if(!e&&i===ch&&r0())return a0();if(!e)throw Fi.create("no-app",{appName:i});return e}function Ui(i,e,t){var s;let o=(s=_E[i])!==null&&s!==void 0?s:i;t&&(o+=`-${t}`);const u=o.match(/\s|\//),d=e.match(/\s|\//);if(u||d){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&d&&m.push("and"),d&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Wr.warn(m.join(" "));return}To(new Is(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE="firebase-heartbeat-database",IE=1,ba="firebase-heartbeat-store";let Yd=null;function u0(){return Yd||(Yd=zw(TE,IE,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(ba)}catch(t){console.warn(t)}}}}).catch(i=>{throw Fi.create("idb-open",{originalErrorMessage:i.message})})),Yd}async function kE(i){try{const t=(await u0()).transaction(ba),s=await t.objectStore(ba).get(c0(i));return await t.done,s}catch(e){if(e instanceof Qr)Wr.warn(e.message);else{const t=Fi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Wr.warn(t.message)}}}async function Wm(i,e){try{const s=(await u0()).transaction(ba,"readwrite");await s.objectStore(ba).put(e,c0(i)),await s.done}catch(t){if(t instanceof Qr)Wr.warn(t.message);else{const s=Fi.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Wr.warn(s.message)}}}function c0(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE=1024,AE=720*60*60*1e3;class CE{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new PE(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=qm();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(d=>d.date===u)?void 0:(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(d=>{const m=new Date(d.date).valueOf();return Date.now()-m<=AE}),this._storage.overwrite(this._heartbeatsCache))}catch(s){Wr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=qm(),{heartbeatsToSend:s,unsentEntries:o}=RE(this._heartbeatsCache.heartbeats),u=Nu(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(t){return Wr.warn(t),""}}}function qm(){return new Date().toISOString().substring(0,10)}function RE(i,e=SE){const t=[];let s=i.slice();for(const o of i){const u=t.find(d=>d.agent===o.agent);if(u){if(u.dates.push(o.date),Km(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),Km(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class PE{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return gw()?yw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await kE(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Wm(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Wm(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Km(i){return Nu(JSON.stringify({version:2,heartbeats:i})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NE(i){To(new Is("platform-logger",e=>new Hw(e),"PRIVATE")),To(new Is("heartbeat",e=>new CE(e),"PRIVATE")),Ui(uh,$m,i),Ui(uh,$m,"esm2017"),Ui("fire-js","")}NE("");var bE="firebase",DE="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ui(bE,DE,"app");function Oh(i,e){var t={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(t[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(t[s[o]]=i[s[o]]);return t}function d0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const OE=d0,h0=new za("auth","Firebase",d0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ou=new Nh("@firebase/auth");function VE(i,...e){Ou.logLevel<=Me.WARN&&Ou.warn(`Auth (${bo}): ${i}`,...e)}function xu(i,...e){Ou.logLevel<=Me.ERROR&&Ou.error(`Auth (${bo}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zn(i,...e){throw Vh(i,...e)}function fr(i,...e){return Vh(i,...e)}function f0(i,e,t){const s=Object.assign(Object.assign({},OE()),{[e]:t});return new za("auth","Firebase",s).create(e,{appName:i.name})}function $r(i){return f0(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Vh(i,...e){if(typeof i!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(t,...s)}return h0.create(i,...e)}function ge(i,e,...t){if(!i)throw Vh(e,...t)}function Ur(i){const e="INTERNAL ASSERTION FAILED: "+i;throw xu(e),new Error(e)}function qr(i,e){i||Ur(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hh(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function ME(){return Gm()==="http:"||Gm()==="https:"}function Gm(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LE(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ME()||hw()||"connection"in navigator)?navigator.onLine:!0}function jE(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(e,t){this.shortDelay=e,this.longDelay=t,qr(t>e,"Short delay should be less than long delay!"),this.isMobile=uw()||fw()}get(){return LE()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mh(i,e){qr(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ur("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ur("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ur("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE=new $a(3e4,6e4);function Hi(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function Yr(i,e,t,s,o={}){return m0(i,o,async()=>{let u={},d={};s&&(e==="GET"?d=s:u={body:JSON.stringify(s)});const m=Ba(Object.assign({key:i.config.apiKey},d)).slice(1),g=await i._getAdditionalHeaders();g["Content-Type"]="application/json",i.languageCode&&(g["X-Firebase-Locale"]=i.languageCode);const w=Object.assign({method:e,headers:g},u);return dw()||(w.referrerPolicy="no-referrer"),p0.fetch()(g0(i,i.config.apiHost,t,m),w)})}async function m0(i,e,t){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},FE),e);try{const o=new BE(i),u=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const d=await u.json();if("needConfirmation"in d)throw mu(i,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const m=u.ok?d.errorMessage:d.error.message,[g,w]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw mu(i,"credential-already-in-use",d);if(g==="EMAIL_EXISTS")throw mu(i,"email-already-in-use",d);if(g==="USER_DISABLED")throw mu(i,"user-disabled",d);const x=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(w)throw f0(i,x,w);Zn(i,x)}}catch(o){if(o instanceof Qr)throw o;Zn(i,"network-request-failed",{message:String(o)})}}async function Ha(i,e,t,s,o={}){const u=await Yr(i,e,t,s,o);return"mfaPendingCredential"in u&&Zn(i,"multi-factor-auth-required",{_serverResponse:u}),u}function g0(i,e,t,s){const o=`${e}${t}?${s}`;return i.config.emulator?Mh(i.config,o):`${i.config.apiScheme}://${o}`}function zE(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class BE{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(fr(this.auth,"network-request-failed")),UE.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function mu(i,e,t){const s={appName:i.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=fr(i,e,s);return o.customData._tokenResponse=t,o}function Qm(i){return i!==void 0&&i.enterprise!==void 0}class $E{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return zE(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function HE(i,e){return Yr(i,"GET","/v2/recaptchaConfig",Hi(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WE(i,e){return Yr(i,"POST","/v1/accounts:delete",e)}async function y0(i,e){return Yr(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aa(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function qE(i,e=!1){const t=Jt(i),s=await t.getIdToken(e),o=Lh(s);ge(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,d=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Aa(Xd(o.auth_time)),issuedAtTime:Aa(Xd(o.iat)),expirationTime:Aa(Xd(o.exp)),signInProvider:d||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Xd(i){return Number(i)*1e3}function Lh(i){const[e,t,s]=i.split(".");if(e===void 0||t===void 0||s===void 0)return xu("JWT malformed, contained fewer than 3 sections"),null;try{const o=t0(t);return o?JSON.parse(o):(xu("Failed to decode base64 JWT payload"),null)}catch(o){return xu("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Ym(i){const e=Lh(i);return ge(e,"internal-error"),ge(typeof e.exp<"u","internal-error"),ge(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Io(i,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof Qr&&KE(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function KE({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Aa(this.lastLoginAt),this.creationTime=Aa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vu(i){var e;const t=i.auth,s=await i.getIdToken(),o=await Io(i,y0(t,{idToken:s}));ge(o==null?void 0:o.users.length,t,"internal-error");const u=o.users[0];i._notifyReloadListener(u);const d=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?v0(u.providerUserInfo):[],m=YE(i.providerData,d),g=i.isAnonymous,w=!(i.email&&u.passwordHash)&&!(m!=null&&m.length),x=g?w:!1,C={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new fh(u.createdAt,u.lastLoginAt),isAnonymous:x};Object.assign(i,C)}async function QE(i){const e=Jt(i);await Vu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function YE(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function v0(i){return i.map(e=>{var{providerId:t}=e,s=Oh(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XE(i,e){const t=await m0(i,{},async()=>{const s=Ba({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,d=g0(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",p0.fetch()(d,{method:"POST",headers:m,body:s})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function JE(i,e){return Yr(i,"POST","/v2/accounts:revokeToken",Hi(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ge(e.idToken,"internal-error"),ge(typeof e.idToken<"u","internal-error"),ge(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Ym(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ge(e.length!==0,"internal-error");const t=Ym(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ge(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:u}=await XE(e,t);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:u}=t,d=new vo;return s&&(ge(typeof s=="string","internal-error",{appName:e}),d.refreshToken=s),o&&(ge(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),u&&(ge(typeof u=="number","internal-error",{appName:e}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new vo,this.toJSON())}_performRefresh(){return Ur("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bi(i,e){ge(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class zr{constructor(e){var{uid:t,auth:s,stsTokenManager:o}=e,u=Oh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new GE(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new fh(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const t=await Io(this,this.stsTokenManager.getToken(this.auth,e));return ge(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return qE(this,e)}reload(){return QE(this)}_assign(e){this!==e&&(ge(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new zr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Vu(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(hr(this.auth.app))return Promise.reject($r(this.auth));const e=await this.getIdToken();return await Io(this,WE(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,o,u,d,m,g,w,x;const C=(s=t.displayName)!==null&&s!==void 0?s:void 0,j=(o=t.email)!==null&&o!==void 0?o:void 0,$=(u=t.phoneNumber)!==null&&u!==void 0?u:void 0,Y=(d=t.photoURL)!==null&&d!==void 0?d:void 0,Z=(m=t.tenantId)!==null&&m!==void 0?m:void 0,q=(g=t._redirectEventId)!==null&&g!==void 0?g:void 0,ye=(w=t.createdAt)!==null&&w!==void 0?w:void 0,ve=(x=t.lastLoginAt)!==null&&x!==void 0?x:void 0,{uid:_e,emailVerified:Ne,isAnonymous:Ke,providerData:Se,stsTokenManager:N}=t;ge(_e&&N,e,"internal-error");const T=vo.fromJSON(this.name,N);ge(typeof _e=="string",e,"internal-error"),bi(C,e.name),bi(j,e.name),ge(typeof Ne=="boolean",e,"internal-error"),ge(typeof Ke=="boolean",e,"internal-error"),bi($,e.name),bi(Y,e.name),bi(Z,e.name),bi(q,e.name),bi(ye,e.name),bi(ve,e.name);const S=new zr({uid:_e,auth:e,email:j,emailVerified:Ne,displayName:C,isAnonymous:Ke,photoURL:Y,phoneNumber:$,tenantId:Z,stsTokenManager:T,createdAt:ye,lastLoginAt:ve});return Se&&Array.isArray(Se)&&(S.providerData=Se.map(R=>Object.assign({},R))),q&&(S._redirectEventId=q),S}static async _fromIdTokenResponse(e,t,s=!1){const o=new vo;o.updateFromServerResponse(t);const u=new zr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Vu(u),u}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];ge(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?v0(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new vo;m.updateFromIdToken(s);const g=new zr({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:d}),w={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new fh(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(g,w),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xm=new Map;function Br(i){qr(i instanceof Function,"Expected a class definition");let e=Xm.get(i);return e?(qr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,Xm.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}_0.type="NONE";const Jm=_0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tu(i,e,t){return`firebase:${i}:${e}:${t}`}class _o{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Tu(this.userKey,o.apiKey,u),this.fullPersistenceKey=Tu("persistence",o.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?zr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new _o(Br(Jm),e,s);const o=(await Promise.all(t.map(async w=>{if(await w._isAvailable())return w}))).filter(w=>w);let u=o[0]||Br(Jm);const d=Tu(s,e.config.apiKey,e.name);let m=null;for(const w of t)try{const x=await w._get(d);if(x){const C=zr._fromJSON(e,x);w!==u&&(m=C),u=w;break}}catch{}const g=o.filter(w=>w._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new _o(u,e,s):(u=g[0],m&&await u._set(d,m.toJSON()),await Promise.all(t.map(async w=>{if(w!==u)try{await w._remove(d)}catch{}})),new _o(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zm(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(T0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(w0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(k0(e))return"Blackberry";if(S0(e))return"Webos";if(E0(e))return"Safari";if((e.includes("chrome/")||x0(e))&&!e.includes("edge/"))return"Chrome";if(I0(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function w0(i=Kt()){return/firefox\//i.test(i)}function E0(i=Kt()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function x0(i=Kt()){return/crios\//i.test(i)}function T0(i=Kt()){return/iemobile/i.test(i)}function I0(i=Kt()){return/android/i.test(i)}function k0(i=Kt()){return/blackberry/i.test(i)}function S0(i=Kt()){return/webos/i.test(i)}function jh(i=Kt()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function ZE(i=Kt()){var e;return jh(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function e1(){return pw()&&document.documentMode===10}function A0(i=Kt()){return jh(i)||I0(i)||S0(i)||k0(i)||/windows phone/i.test(i)||T0(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C0(i,e=[]){let t;switch(i){case"Browser":t=Zm(Kt());break;case"Worker":t=`${Zm(Kt())}-${i}`;break;default:t=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${bo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=u=>new Promise((d,m)=>{try{const g=e(u);d(g)}catch(g){m(g)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n1(i,e={}){return Yr(i,"GET","/v2/passwordPolicy",Hi(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1=6;class i1{constructor(e){var t,s,o,u;const d=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=d.minPasswordLength)!==null&&t!==void 0?t:r1,d.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=d.maxPasswordLength),d.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=d.containsLowercaseCharacter),d.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=d.containsUppercaseCharacter),d.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=d.containsNumericCharacter),d.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=d.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,o,u,d,m;const g={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,g),this.validatePasswordCharacterOptions(e,g),g.isValid&&(g.isValid=(t=g.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),g.isValid&&(g.isValid=(s=g.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),g.isValid&&(g.isValid=(o=g.containsLowercaseLetter)!==null&&o!==void 0?o:!0),g.isValid&&(g.isValid=(u=g.containsUppercaseLetter)!==null&&u!==void 0?u:!0),g.isValid&&(g.isValid=(d=g.containsNumericCharacter)!==null&&d!==void 0?d:!0),g.isValid&&(g.isValid=(m=g.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),g}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new eg(this),this.idTokenSubscription=new eg(this),this.beforeStateQueue=new t1(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=h0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Br(t)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await _o.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await y0(this,{idToken:e}),s=await zr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(hr(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,m=o==null?void 0:o._redirectEventId,g=await this.tryRedirectSignIn(e);(!d||d===m)&&(g!=null&&g.user)&&(o=g.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(d){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return ge(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Vu(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=jE()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(hr(this.app))return Promise.reject($r(this));const t=e?Jt(e):null;return t&&ge(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&ge(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return hr(this.app)?Promise.reject($r(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return hr(this.app)?Promise.reject($r(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Br(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await n1(this),t=new i1(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new za("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await JE(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Br(e)||this._popupRedirectResolver;ge(t,this,"argument-error"),this.redirectPersistenceManager=await _o.create(this,[Br(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let d=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ge(m,this,"internal-error"),m.then(()=>{d||u(this.currentUser)}),typeof t=="function"){const g=e.addObserver(t,s,o);return()=>{d=!0,g()}}else{const g=e.addObserver(t);return()=>{d=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=C0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&VE(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Ps(i){return Jt(i)}class eg{constructor(e){this.auth=e,this.observer=null,this.addObserver=xw(t=>this.observer=t)}get next(){return ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yu={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function o1(i){Yu=i}function R0(i){return Yu.loadJS(i)}function a1(){return Yu.recaptchaEnterpriseScript}function l1(){return Yu.gapiScript}function u1(i){return`__${i}${Math.floor(Math.random()*1e6)}`}const c1="recaptcha-enterprise",d1="NO_RECAPTCHA";class h1{constructor(e){this.type=c1,this.auth=Ps(e)}async verify(e="verify",t=!1){async function s(u){if(!t){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(d,m)=>{HE(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const w=new $E(g);return u.tenantId==null?u._agentRecaptchaConfig=w:u._tenantRecaptchaConfigs[u.tenantId]=w,d(w.siteKey)}}).catch(g=>{m(g)})})}function o(u,d,m){const g=window.grecaptcha;Qm(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:e}).then(w=>{d(w)}).catch(()=>{d(d1)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((u,d)=>{s(this.auth).then(m=>{if(!t&&Qm(window.grecaptcha))o(m,u,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let g=a1();g.length!==0&&(g+=m),R0(g).then(()=>{o(m,u,d)}).catch(w=>{d(w)})}}).catch(m=>{d(m)})})}}async function tg(i,e,t,s=!1){const o=new h1(i);let u;try{u=await o.verify(t)}catch{u=await o.verify(t,!0)}const d=Object.assign({},e);return s?Object.assign(d,{captchaResp:u}):Object.assign(d,{captchaResponse:u}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function ph(i,e,t,s){var o;if(!((o=i._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await tg(i,e,t,t==="getOobCode");return s(i,u)}else return s(i,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await tg(i,e,t,t==="getOobCode");return s(i,d)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f1(i,e){const t=Dh(i,"auth");if(t.isInitialized()){const o=t.getImmediate(),u=t.getOptions();if(bu(u,e??{}))return o;Zn(o,"already-initialized")}return t.initialize({options:e})}function p1(i,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(Br);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function m1(i,e,t){const s=Ps(i);ge(s._canInitEmulator,s,"emulator-config-failed"),ge(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=P0(e),{host:d,port:m}=g1(e),g=m===null?"":`:${m}`;s.config.emulator={url:`${u}//${d}${g}/`},s.settings.appVerificationDisabledForTesting=!0,s.emulatorConfig=Object.freeze({host:d,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})}),y1()}function P0(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function g1(i){const e=P0(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:ng(s.substr(u.length+1))}}else{const[u,d]=s.split(":");return{host:u,port:ng(d)}}}function ng(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function y1(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ur("not implemented")}_getIdTokenResponse(e){return Ur("not implemented")}_linkToIdToken(e,t){return Ur("not implemented")}_getReauthenticationResolver(e){return Ur("not implemented")}}async function v1(i,e){return Yr(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _1(i,e){return Ha(i,"POST","/v1/accounts:signInWithPassword",Hi(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w1(i,e){return Ha(i,"POST","/v1/accounts:signInWithEmailLink",Hi(i,e))}async function E1(i,e){return Ha(i,"POST","/v1/accounts:signInWithEmailLink",Hi(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da extends Fh{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Da(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new Da(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ph(e,t,"signInWithPassword",_1);case"emailLink":return w1(e,{email:this._email,oobCode:this._password});default:Zn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ph(e,s,"signUpPassword",v1);case"emailLink":return E1(e,{idToken:t,email:this._email,oobCode:this._password});default:Zn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wo(i,e){return Ha(i,"POST","/v1/accounts:signInWithIdp",Hi(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1="http://localhost";class ks extends Fh{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ks(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Zn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=t,u=Oh(t,["providerId","signInMethod"]);if(!s||!o)return null;const d=new ks(s,o);return d.idToken=u.idToken||void 0,d.accessToken=u.accessToken||void 0,d.secret=u.secret,d.nonce=u.nonce,d.pendingToken=u.pendingToken||null,d}_getIdTokenResponse(e){const t=this.buildRequest();return wo(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,wo(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,wo(e,t)}buildRequest(){const e={requestUri:x1,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ba(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T1(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function I1(i){const e=Ea(xa(i)).link,t=e?Ea(xa(e)).deep_link_id:null,s=Ea(xa(i)).deep_link_id;return(s?Ea(xa(s)).link:null)||s||t||e||i}class Uh{constructor(e){var t,s,o,u,d,m;const g=Ea(xa(e)),w=(t=g.apiKey)!==null&&t!==void 0?t:null,x=(s=g.oobCode)!==null&&s!==void 0?s:null,C=T1((o=g.mode)!==null&&o!==void 0?o:null);ge(w&&x&&C,"argument-error"),this.apiKey=w,this.operation=C,this.code=x,this.continueUrl=(u=g.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(d=g.languageCode)!==null&&d!==void 0?d:null,this.tenantId=(m=g.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const t=I1(e);try{return new Uh(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(){this.providerId=Do.PROVIDER_ID}static credential(e,t){return Da._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=Uh.parseLink(t);return ge(s,"argument-error"),Da._fromEmailAndCode(e,s.code,s.tenantId)}}Do.PROVIDER_ID="password";Do.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Do.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa extends N0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di extends Wa{constructor(){super("facebook.com")}static credential(e){return ks._fromParams({providerId:Di.PROVIDER_ID,signInMethod:Di.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Di.credentialFromTaggedObject(e)}static credentialFromError(e){return Di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Di.credential(e.oauthAccessToken)}catch{return null}}}Di.FACEBOOK_SIGN_IN_METHOD="facebook.com";Di.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi extends Wa{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ks._fromParams({providerId:Oi.PROVIDER_ID,signInMethod:Oi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Oi.credentialFromTaggedObject(e)}static credentialFromError(e){return Oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return Oi.credential(t,s)}catch{return null}}}Oi.GOOGLE_SIGN_IN_METHOD="google.com";Oi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi extends Wa{constructor(){super("github.com")}static credential(e){return ks._fromParams({providerId:Vi.PROVIDER_ID,signInMethod:Vi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vi.credentialFromTaggedObject(e)}static credentialFromError(e){return Vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vi.credential(e.oauthAccessToken)}catch{return null}}}Vi.GITHUB_SIGN_IN_METHOD="github.com";Vi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi extends Wa{constructor(){super("twitter.com")}static credential(e,t){return ks._fromParams({providerId:Mi.PROVIDER_ID,signInMethod:Mi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Mi.credentialFromTaggedObject(e)}static credentialFromError(e){return Mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return Mi.credential(t,s)}catch{return null}}}Mi.TWITTER_SIGN_IN_METHOD="twitter.com";Mi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k1(i,e){return Ha(i,"POST","/v1/accounts:signUp",Hi(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const u=await zr._fromIdTokenResponse(e,s,o),d=rg(s);return new Ss({user:u,providerId:d,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=rg(s);return new Ss({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function rg(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu extends Qr{constructor(e,t,s,o){var u;super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Mu.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new Mu(e,t,s,o)}}function b0(i,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Mu._fromErrorAndOperation(i,u,e,s):u})}async function S1(i,e,t=!1){const s=await Io(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return Ss._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A1(i,e,t=!1){const{auth:s}=i;if(hr(s.app))return Promise.reject($r(s));const o="reauthenticate";try{const u=await Io(i,b0(s,o,e,i),t);ge(u.idToken,s,"internal-error");const d=Lh(u.idToken);ge(d,s,"internal-error");const{sub:m}=d;return ge(i.uid===m,s,"user-mismatch"),Ss._forOperation(i,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Zn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D0(i,e,t=!1){if(hr(i.app))return Promise.reject($r(i));const s="signIn",o=await b0(i,s,e),u=await Ss._fromIdTokenResponse(i,s,o);return t||await i._updateCurrentUser(u.user),u}async function C1(i,e){return D0(Ps(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O0(i){const e=Ps(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function R1(i,e,t){if(hr(i.app))return Promise.reject($r(i));const s=Ps(i),d=await ph(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",k1).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&O0(i),g}),m=await Ss._fromIdTokenResponse(s,"signIn",d);return await s._updateCurrentUser(m.user),m}function P1(i,e,t){return hr(i.app)?Promise.reject($r(i)):C1(Jt(i),Do.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&O0(i),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N1(i,e){return Yr(i,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b1(i,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const s=Jt(i),u={idToken:await s.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},d=await Io(s,N1(s.auth,u));s.displayName=d.displayName||null,s.photoURL=d.photoUrl||null;const m=s.providerData.find(({providerId:g})=>g==="password");m&&(m.displayName=s.displayName,m.photoURL=s.photoURL),await s._updateTokensIfNecessary(d)}function D1(i,e,t,s){return Jt(i).onIdTokenChanged(e,t,s)}function O1(i,e,t){return Jt(i).beforeAuthStateChanged(e,t)}function V1(i,e,t,s){return Jt(i).onAuthStateChanged(e,t,s)}function M1(i){return Jt(i).signOut()}const Lu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Lu,"1"),this.storage.removeItem(Lu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1=1e3,j1=10;class M0 extends V0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=A0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((d,m,g)=>{this.notifyListeners(d,g)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(s);!t&&this.localCache[s]===d||this.notifyListeners(s,d)},u=this.storage.getItem(s);e1()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,j1):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},L1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}M0.type="LOCAL";const F1=M0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0 extends V0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}L0.type="SESSION";const j0=L0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U1(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new Xu(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:u}=t.data,d=this.handlersMap[o];if(!(d!=null&&d.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(d).map(async w=>w(t.origin,u)),g=await U1(m);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Xu.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zh(i="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return i+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,d;return new Promise((m,g)=>{const w=zh("",20);o.port1.start();const x=setTimeout(()=>{g(new Error("unsupported_event"))},s);d={messageChannel:o,onMessage(C){const j=C;if(j.data.eventId===w)switch(j.data.status){case"ack":clearTimeout(x),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(j.data.response);break;default:clearTimeout(x),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:w,data:t},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pr(){return window}function B1(i){pr().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F0(){return typeof pr().WorkerGlobalScope<"u"&&typeof pr().importScripts=="function"}async function $1(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function H1(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function W1(){return F0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0="firebaseLocalStorageDb",q1=1,ju="firebaseLocalStorage",z0="fbase_key";class qa{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Ju(i,e){return i.transaction([ju],e?"readwrite":"readonly").objectStore(ju)}function K1(){const i=indexedDB.deleteDatabase(U0);return new qa(i).toPromise()}function mh(){const i=indexedDB.open(U0,q1);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(ju,{keyPath:z0})}catch(o){t(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(ju)?e(s):(s.close(),await K1(),e(await mh()))})})}async function ig(i,e,t){const s=Ju(i,!0).put({[z0]:e,value:t});return new qa(s).toPromise()}async function G1(i,e){const t=Ju(i,!1).get(e),s=await new qa(t).toPromise();return s===void 0?null:s.value}function sg(i,e){const t=Ju(i,!0).delete(e);return new qa(t).toPromise()}const Q1=800,Y1=3;class B0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await mh(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>Y1)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return F0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Xu._getInstance(W1()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await $1(),!this.activeServiceWorker)return;this.sender=new z1(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||H1()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await mh();return await ig(e,Lu,"1"),await sg(e,Lu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>ig(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>G1(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>sg(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Ju(o,!1).getAll();return new qa(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Q1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}B0.type="LOCAL";const X1=B0;new $a(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J1(i,e){return e?Br(e):(ge(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh extends Fh{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return wo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return wo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return wo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Z1(i){return D0(i.auth,new Bh(i),i.bypassAuthState)}function ex(i){const{auth:e,user:t}=i;return ge(t,e,"internal-error"),A1(t,new Bh(i),i.bypassAuthState)}async function tx(i){const{auth:e,user:t}=i;return ge(t,e,"internal-error"),S1(t,new Bh(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(e,t,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:u,error:d,type:m}=e;if(d){this.reject(d);return}const g={auth:this.auth,requestUri:t,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(w){this.reject(w)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Z1;case"linkViaPopup":case"linkViaRedirect":return tx;case"reauthViaPopup":case"reauthViaRedirect":return ex;default:Zn(this.auth,"internal-error")}}resolve(e){qr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){qr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nx=new $a(2e3,1e4);class yo extends $0{constructor(e,t,s,o,u){super(e,t,o,u),this.provider=s,this.authWindow=null,this.pollId=null,yo.currentPopupAction&&yo.currentPopupAction.cancel(),yo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ge(e,this.auth,"internal-error"),e}async onExecution(){qr(this.filter.length===1,"Popup operations only handle one event");const e=zh();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(fr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(fr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,yo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(fr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,nx.get())};e()}}yo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rx="pendingRedirect",Iu=new Map;class ix extends $0{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=Iu.get(this.auth._key());if(!e){try{const s=await sx(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}Iu.set(this.auth._key(),e)}return this.bypassAuthState||Iu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function sx(i,e){const t=lx(e),s=ax(i);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function ox(i,e){Iu.set(i._key(),e)}function ax(i){return Br(i._redirectPersistence)}function lx(i){return Tu(rx,i.config.apiKey,i.name)}async function ux(i,e,t=!1){if(hr(i.app))return Promise.reject($r(i));const s=Ps(i),o=J1(s,e),d=await new ix(s,o,t).execute();return d&&!t&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,e)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cx=600*1e3;class dx{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!hx(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!H0(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(fr(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=cx&&this.cachedEventUids.clear(),this.cachedEventUids.has(og(e))}saveEventToCache(e){this.cachedEventUids.add(og(e)),this.lastProcessedEventTime=Date.now()}}function og(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function H0({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function hx(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return H0(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fx(i,e={}){return Yr(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const px=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mx=/^https?/;async function gx(i){if(i.config.emulator)return;const{authorizedDomains:e}=await fx(i);for(const t of e)try{if(yx(t))return}catch{}Zn(i,"unauthorized-domain")}function yx(i){const e=hh(),{protocol:t,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const d=new URL(i);return d.hostname===""&&s===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&d.hostname===s}if(!mx.test(t))return!1;if(px.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vx=new $a(3e4,6e4);function ag(){const i=pr().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function _x(i){return new Promise((e,t)=>{var s,o,u;function d(){ag(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ag(),t(fr(i,"network-request-failed"))},timeout:vx.get()})}if(!((o=(s=pr().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=pr().gapi)===null||u===void 0)&&u.load)d();else{const m=u1("iframefcb");return pr()[m]=()=>{gapi.load?d():t(fr(i,"network-request-failed"))},R0(`${l1()}?onload=${m}`).catch(g=>t(g))}}).catch(e=>{throw ku=null,e})}let ku=null;function wx(i){return ku=ku||_x(i),ku}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ex=new $a(5e3,15e3),xx="__/auth/iframe",Tx="emulator/auth/iframe",Ix={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},kx=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Sx(i){const e=i.config;ge(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?Mh(e,Tx):`https://${i.config.authDomain}/${xx}`,s={apiKey:e.apiKey,appName:i.name,v:bo},o=kx.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${t}?${Ba(s).slice(1)}`}async function Ax(i){const e=await wx(i),t=pr().gapi;return ge(t,i,"internal-error"),e.open({where:document.body,url:Sx(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ix,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const d=fr(i,"network-request-failed"),m=pr().setTimeout(()=>{u(d)},Ex.get());function g(){pr().clearTimeout(m),o(s)}s.ping(g).then(g,()=>{u(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Rx=500,Px=600,Nx="_blank",bx="http://localhost";class lg{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Dx(i,e,t,s=Rx,o=Px){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const g=Object.assign(Object.assign({},Cx),{width:s.toString(),height:o.toString(),top:u,left:d}),w=Kt().toLowerCase();t&&(m=x0(w)?Nx:t),w0(w)&&(e=e||bx,g.scrollbars="yes");const x=Object.entries(g).reduce((j,[$,Y])=>`${j}${$}=${Y},`,"");if(ZE(w)&&m!=="_self")return Ox(e||"",m),new lg(null);const C=window.open(e||"",m,x);ge(C,i,"popup-blocked");try{C.focus()}catch{}return new lg(C)}function Ox(i,e){const t=document.createElement("a");t.href=i,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vx="__/auth/handler",Mx="emulator/auth/handler",Lx=encodeURIComponent("fac");async function ug(i,e,t,s,o,u){ge(i.config.authDomain,i,"auth-domain-config-required"),ge(i.config.apiKey,i,"invalid-api-key");const d={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:s,v:bo,eventId:o};if(e instanceof N0){e.setDefaultLanguage(i.languageCode),d.providerId=e.providerId||"",Ew(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[x,C]of Object.entries({}))d[x]=C}if(e instanceof Wa){const x=e.getScopes().filter(C=>C!=="");x.length>0&&(d.scopes=x.join(","))}i.tenantId&&(d.tid=i.tenantId);const m=d;for(const x of Object.keys(m))m[x]===void 0&&delete m[x];const g=await i._getAppCheckToken(),w=g?`#${Lx}=${encodeURIComponent(g)}`:"";return`${jx(i)}?${Ba(m).slice(1)}${w}`}function jx({config:i}){return i.emulator?Mh(i,Mx):`https://${i.authDomain}/${Vx}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jd="webStorageSupport";class Fx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=j0,this._completeRedirectFn=ux,this._overrideRedirectResult=ox}async _openPopup(e,t,s,o){var u;qr((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const d=await ug(e,t,s,hh(),o);return Dx(e,d,zh())}async _openRedirect(e,t,s,o){await this._originValidation(e);const u=await ug(e,t,s,hh(),o);return B1(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:u}=this.eventManagers[t];return o?Promise.resolve(o):(qr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await Ax(e),s=new dx(e);return t.register("authEvent",o=>(ge(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Jd,{type:Jd},o=>{var u;const d=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Jd];d!==void 0&&t(!!d),Zn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=gx(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return A0()||E0()||jh()}}const Ux=Fx;var cg="@firebase/auth",dg="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bx(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function $x(i){To(new Is("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:d,authDomain:m}=s.options;ge(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:d,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:C0(i)},w=new s1(s,o,u,g);return p1(w,t),w},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),To(new Is("auth-internal",e=>{const t=Ps(e.getProvider("auth").getImmediate());return(s=>new zx(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ui(cg,dg,Bx(i)),Ui(cg,dg,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hx=300,Wx=i0("authIdTokenMaxAge")||Hx;let hg=null;const qx=i=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>Wx)return;const o=t==null?void 0:t.token;hg!==o&&(hg=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Kx(i=l0()){const e=Dh(i,"auth");if(e.isInitialized())return e.getImmediate();const t=f1(i,{popupRedirectResolver:Ux,persistence:[X1,F1,j0]}),s=i0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const d=qx(u.toString());O1(t,d,()=>d(t.currentUser)),D1(t,m=>d(m))}}const o=n0("auth");return o&&m1(t,`http://${o}`),t}function Gx(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}o1({loadJS(i){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=fr("internal-error");u.customData=o,t(u)},s.type="text/javascript",s.charset="UTF-8",Gx().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});$x("Browser");var fg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xs,W0;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,T){function S(){}S.prototype=T.prototype,N.D=T.prototype,N.prototype=new S,N.prototype.constructor=N,N.C=function(R,b,D){for(var k=Array(arguments.length-2),Qe=2;Qe<arguments.length;Qe++)k[Qe-2]=arguments[Qe];return T.prototype[b].apply(R,k)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,T,S){S||(S=0);var R=Array(16);if(typeof T=="string")for(var b=0;16>b;++b)R[b]=T.charCodeAt(S++)|T.charCodeAt(S++)<<8|T.charCodeAt(S++)<<16|T.charCodeAt(S++)<<24;else for(b=0;16>b;++b)R[b]=T[S++]|T[S++]<<8|T[S++]<<16|T[S++]<<24;T=N.g[0],S=N.g[1],b=N.g[2];var D=N.g[3],k=T+(D^S&(b^D))+R[0]+3614090360&4294967295;T=S+(k<<7&4294967295|k>>>25),k=D+(b^T&(S^b))+R[1]+3905402710&4294967295,D=T+(k<<12&4294967295|k>>>20),k=b+(S^D&(T^S))+R[2]+606105819&4294967295,b=D+(k<<17&4294967295|k>>>15),k=S+(T^b&(D^T))+R[3]+3250441966&4294967295,S=b+(k<<22&4294967295|k>>>10),k=T+(D^S&(b^D))+R[4]+4118548399&4294967295,T=S+(k<<7&4294967295|k>>>25),k=D+(b^T&(S^b))+R[5]+1200080426&4294967295,D=T+(k<<12&4294967295|k>>>20),k=b+(S^D&(T^S))+R[6]+2821735955&4294967295,b=D+(k<<17&4294967295|k>>>15),k=S+(T^b&(D^T))+R[7]+4249261313&4294967295,S=b+(k<<22&4294967295|k>>>10),k=T+(D^S&(b^D))+R[8]+1770035416&4294967295,T=S+(k<<7&4294967295|k>>>25),k=D+(b^T&(S^b))+R[9]+2336552879&4294967295,D=T+(k<<12&4294967295|k>>>20),k=b+(S^D&(T^S))+R[10]+4294925233&4294967295,b=D+(k<<17&4294967295|k>>>15),k=S+(T^b&(D^T))+R[11]+2304563134&4294967295,S=b+(k<<22&4294967295|k>>>10),k=T+(D^S&(b^D))+R[12]+1804603682&4294967295,T=S+(k<<7&4294967295|k>>>25),k=D+(b^T&(S^b))+R[13]+4254626195&4294967295,D=T+(k<<12&4294967295|k>>>20),k=b+(S^D&(T^S))+R[14]+2792965006&4294967295,b=D+(k<<17&4294967295|k>>>15),k=S+(T^b&(D^T))+R[15]+1236535329&4294967295,S=b+(k<<22&4294967295|k>>>10),k=T+(b^D&(S^b))+R[1]+4129170786&4294967295,T=S+(k<<5&4294967295|k>>>27),k=D+(S^b&(T^S))+R[6]+3225465664&4294967295,D=T+(k<<9&4294967295|k>>>23),k=b+(T^S&(D^T))+R[11]+643717713&4294967295,b=D+(k<<14&4294967295|k>>>18),k=S+(D^T&(b^D))+R[0]+3921069994&4294967295,S=b+(k<<20&4294967295|k>>>12),k=T+(b^D&(S^b))+R[5]+3593408605&4294967295,T=S+(k<<5&4294967295|k>>>27),k=D+(S^b&(T^S))+R[10]+38016083&4294967295,D=T+(k<<9&4294967295|k>>>23),k=b+(T^S&(D^T))+R[15]+3634488961&4294967295,b=D+(k<<14&4294967295|k>>>18),k=S+(D^T&(b^D))+R[4]+3889429448&4294967295,S=b+(k<<20&4294967295|k>>>12),k=T+(b^D&(S^b))+R[9]+568446438&4294967295,T=S+(k<<5&4294967295|k>>>27),k=D+(S^b&(T^S))+R[14]+3275163606&4294967295,D=T+(k<<9&4294967295|k>>>23),k=b+(T^S&(D^T))+R[3]+4107603335&4294967295,b=D+(k<<14&4294967295|k>>>18),k=S+(D^T&(b^D))+R[8]+1163531501&4294967295,S=b+(k<<20&4294967295|k>>>12),k=T+(b^D&(S^b))+R[13]+2850285829&4294967295,T=S+(k<<5&4294967295|k>>>27),k=D+(S^b&(T^S))+R[2]+4243563512&4294967295,D=T+(k<<9&4294967295|k>>>23),k=b+(T^S&(D^T))+R[7]+1735328473&4294967295,b=D+(k<<14&4294967295|k>>>18),k=S+(D^T&(b^D))+R[12]+2368359562&4294967295,S=b+(k<<20&4294967295|k>>>12),k=T+(S^b^D)+R[5]+4294588738&4294967295,T=S+(k<<4&4294967295|k>>>28),k=D+(T^S^b)+R[8]+2272392833&4294967295,D=T+(k<<11&4294967295|k>>>21),k=b+(D^T^S)+R[11]+1839030562&4294967295,b=D+(k<<16&4294967295|k>>>16),k=S+(b^D^T)+R[14]+4259657740&4294967295,S=b+(k<<23&4294967295|k>>>9),k=T+(S^b^D)+R[1]+2763975236&4294967295,T=S+(k<<4&4294967295|k>>>28),k=D+(T^S^b)+R[4]+1272893353&4294967295,D=T+(k<<11&4294967295|k>>>21),k=b+(D^T^S)+R[7]+4139469664&4294967295,b=D+(k<<16&4294967295|k>>>16),k=S+(b^D^T)+R[10]+3200236656&4294967295,S=b+(k<<23&4294967295|k>>>9),k=T+(S^b^D)+R[13]+681279174&4294967295,T=S+(k<<4&4294967295|k>>>28),k=D+(T^S^b)+R[0]+3936430074&4294967295,D=T+(k<<11&4294967295|k>>>21),k=b+(D^T^S)+R[3]+3572445317&4294967295,b=D+(k<<16&4294967295|k>>>16),k=S+(b^D^T)+R[6]+76029189&4294967295,S=b+(k<<23&4294967295|k>>>9),k=T+(S^b^D)+R[9]+3654602809&4294967295,T=S+(k<<4&4294967295|k>>>28),k=D+(T^S^b)+R[12]+3873151461&4294967295,D=T+(k<<11&4294967295|k>>>21),k=b+(D^T^S)+R[15]+530742520&4294967295,b=D+(k<<16&4294967295|k>>>16),k=S+(b^D^T)+R[2]+3299628645&4294967295,S=b+(k<<23&4294967295|k>>>9),k=T+(b^(S|~D))+R[0]+4096336452&4294967295,T=S+(k<<6&4294967295|k>>>26),k=D+(S^(T|~b))+R[7]+1126891415&4294967295,D=T+(k<<10&4294967295|k>>>22),k=b+(T^(D|~S))+R[14]+2878612391&4294967295,b=D+(k<<15&4294967295|k>>>17),k=S+(D^(b|~T))+R[5]+4237533241&4294967295,S=b+(k<<21&4294967295|k>>>11),k=T+(b^(S|~D))+R[12]+1700485571&4294967295,T=S+(k<<6&4294967295|k>>>26),k=D+(S^(T|~b))+R[3]+2399980690&4294967295,D=T+(k<<10&4294967295|k>>>22),k=b+(T^(D|~S))+R[10]+4293915773&4294967295,b=D+(k<<15&4294967295|k>>>17),k=S+(D^(b|~T))+R[1]+2240044497&4294967295,S=b+(k<<21&4294967295|k>>>11),k=T+(b^(S|~D))+R[8]+1873313359&4294967295,T=S+(k<<6&4294967295|k>>>26),k=D+(S^(T|~b))+R[15]+4264355552&4294967295,D=T+(k<<10&4294967295|k>>>22),k=b+(T^(D|~S))+R[6]+2734768916&4294967295,b=D+(k<<15&4294967295|k>>>17),k=S+(D^(b|~T))+R[13]+1309151649&4294967295,S=b+(k<<21&4294967295|k>>>11),k=T+(b^(S|~D))+R[4]+4149444226&4294967295,T=S+(k<<6&4294967295|k>>>26),k=D+(S^(T|~b))+R[11]+3174756917&4294967295,D=T+(k<<10&4294967295|k>>>22),k=b+(T^(D|~S))+R[2]+718787259&4294967295,b=D+(k<<15&4294967295|k>>>17),k=S+(D^(b|~T))+R[9]+3951481745&4294967295,N.g[0]=N.g[0]+T&4294967295,N.g[1]=N.g[1]+(b+(k<<21&4294967295|k>>>11))&4294967295,N.g[2]=N.g[2]+b&4294967295,N.g[3]=N.g[3]+D&4294967295}s.prototype.u=function(N,T){T===void 0&&(T=N.length);for(var S=T-this.blockSize,R=this.B,b=this.h,D=0;D<T;){if(b==0)for(;D<=S;)o(this,N,D),D+=this.blockSize;if(typeof N=="string"){for(;D<T;)if(R[b++]=N.charCodeAt(D++),b==this.blockSize){o(this,R),b=0;break}}else for(;D<T;)if(R[b++]=N[D++],b==this.blockSize){o(this,R),b=0;break}}this.h=b,this.o+=T},s.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var T=1;T<N.length-8;++T)N[T]=0;var S=8*this.o;for(T=N.length-8;T<N.length;++T)N[T]=S&255,S/=256;for(this.u(N),N=Array(16),T=S=0;4>T;++T)for(var R=0;32>R;R+=8)N[S++]=this.g[T]>>>R&255;return N};function u(N,T){var S=m;return Object.prototype.hasOwnProperty.call(S,N)?S[N]:S[N]=T(N)}function d(N,T){this.h=T;for(var S=[],R=!0,b=N.length-1;0<=b;b--){var D=N[b]|0;R&&D==T||(S[b]=D,R=!1)}this.g=S}var m={};function g(N){return-128<=N&&128>N?u(N,function(T){return new d([T|0],0>T?-1:0)}):new d([N|0],0>N?-1:0)}function w(N){if(isNaN(N)||!isFinite(N))return C;if(0>N)return q(w(-N));for(var T=[],S=1,R=0;N>=S;R++)T[R]=N/S|0,S*=4294967296;return new d(T,0)}function x(N,T){if(N.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(N.charAt(0)=="-")return q(x(N.substring(1),T));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=w(Math.pow(T,8)),R=C,b=0;b<N.length;b+=8){var D=Math.min(8,N.length-b),k=parseInt(N.substring(b,b+D),T);8>D?(D=w(Math.pow(T,D)),R=R.j(D).add(w(k))):(R=R.j(S),R=R.add(w(k)))}return R}var C=g(0),j=g(1),$=g(16777216);i=d.prototype,i.m=function(){if(Z(this))return-q(this).m();for(var N=0,T=1,S=0;S<this.g.length;S++){var R=this.i(S);N+=(0<=R?R:4294967296+R)*T,T*=4294967296}return N},i.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(Y(this))return"0";if(Z(this))return"-"+q(this).toString(N);for(var T=w(Math.pow(N,6)),S=this,R="";;){var b=Ne(S,T).g;S=ye(S,b.j(T));var D=((0<S.g.length?S.g[0]:S.h)>>>0).toString(N);if(S=b,Y(S))return D+R;for(;6>D.length;)D="0"+D;R=D+R}},i.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function Y(N){if(N.h!=0)return!1;for(var T=0;T<N.g.length;T++)if(N.g[T]!=0)return!1;return!0}function Z(N){return N.h==-1}i.l=function(N){return N=ye(this,N),Z(N)?-1:Y(N)?0:1};function q(N){for(var T=N.g.length,S=[],R=0;R<T;R++)S[R]=~N.g[R];return new d(S,~N.h).add(j)}i.abs=function(){return Z(this)?q(this):this},i.add=function(N){for(var T=Math.max(this.g.length,N.g.length),S=[],R=0,b=0;b<=T;b++){var D=R+(this.i(b)&65535)+(N.i(b)&65535),k=(D>>>16)+(this.i(b)>>>16)+(N.i(b)>>>16);R=k>>>16,D&=65535,k&=65535,S[b]=k<<16|D}return new d(S,S[S.length-1]&-2147483648?-1:0)};function ye(N,T){return N.add(q(T))}i.j=function(N){if(Y(this)||Y(N))return C;if(Z(this))return Z(N)?q(this).j(q(N)):q(q(this).j(N));if(Z(N))return q(this.j(q(N)));if(0>this.l($)&&0>N.l($))return w(this.m()*N.m());for(var T=this.g.length+N.g.length,S=[],R=0;R<2*T;R++)S[R]=0;for(R=0;R<this.g.length;R++)for(var b=0;b<N.g.length;b++){var D=this.i(R)>>>16,k=this.i(R)&65535,Qe=N.i(b)>>>16,_t=N.i(b)&65535;S[2*R+2*b]+=k*_t,ve(S,2*R+2*b),S[2*R+2*b+1]+=D*_t,ve(S,2*R+2*b+1),S[2*R+2*b+1]+=k*Qe,ve(S,2*R+2*b+1),S[2*R+2*b+2]+=D*Qe,ve(S,2*R+2*b+2)}for(R=0;R<T;R++)S[R]=S[2*R+1]<<16|S[2*R];for(R=T;R<2*T;R++)S[R]=0;return new d(S,0)};function ve(N,T){for(;(N[T]&65535)!=N[T];)N[T+1]+=N[T]>>>16,N[T]&=65535,T++}function _e(N,T){this.g=N,this.h=T}function Ne(N,T){if(Y(T))throw Error("division by zero");if(Y(N))return new _e(C,C);if(Z(N))return T=Ne(q(N),T),new _e(q(T.g),q(T.h));if(Z(T))return T=Ne(N,q(T)),new _e(q(T.g),T.h);if(30<N.g.length){if(Z(N)||Z(T))throw Error("slowDivide_ only works with positive integers.");for(var S=j,R=T;0>=R.l(N);)S=Ke(S),R=Ke(R);var b=Se(S,1),D=Se(R,1);for(R=Se(R,2),S=Se(S,2);!Y(R);){var k=D.add(R);0>=k.l(N)&&(b=b.add(S),D=k),R=Se(R,1),S=Se(S,1)}return T=ye(N,b.j(T)),new _e(b,T)}for(b=C;0<=N.l(T);){for(S=Math.max(1,Math.floor(N.m()/T.m())),R=Math.ceil(Math.log(S)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),D=w(S),k=D.j(T);Z(k)||0<k.l(N);)S-=R,D=w(S),k=D.j(T);Y(D)&&(D=j),b=b.add(D),N=ye(N,k)}return new _e(b,N)}i.A=function(N){return Ne(this,N).h},i.and=function(N){for(var T=Math.max(this.g.length,N.g.length),S=[],R=0;R<T;R++)S[R]=this.i(R)&N.i(R);return new d(S,this.h&N.h)},i.or=function(N){for(var T=Math.max(this.g.length,N.g.length),S=[],R=0;R<T;R++)S[R]=this.i(R)|N.i(R);return new d(S,this.h|N.h)},i.xor=function(N){for(var T=Math.max(this.g.length,N.g.length),S=[],R=0;R<T;R++)S[R]=this.i(R)^N.i(R);return new d(S,this.h^N.h)};function Ke(N){for(var T=N.g.length+1,S=[],R=0;R<T;R++)S[R]=N.i(R)<<1|N.i(R-1)>>>31;return new d(S,N.h)}function Se(N,T){var S=T>>5;T%=32;for(var R=N.g.length-S,b=[],D=0;D<R;D++)b[D]=0<T?N.i(D+S)>>>T|N.i(D+S+1)<<32-T:N.i(D+S);return new d(b,N.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,W0=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=w,d.fromString=x,xs=d}).apply(typeof fg<"u"?fg:typeof self<"u"?self:typeof window<"u"?window:{});var gu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var q0,Ta,K0,Su,gh,G0,Q0,Y0;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,f,y){return l==Array.prototype||l==Object.prototype||(l[f]=y.value),l};function t(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof gu=="object"&&gu];for(var f=0;f<l.length;++f){var y=l[f];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var s=t(this);function o(l,f){if(f)e:{var y=s;l=l.split(".");for(var E=0;E<l.length-1;E++){var V=l[E];if(!(V in y))break e;y=y[V]}l=l[l.length-1],E=y[l],f=f(E),f!=E&&f!=null&&e(y,l,{configurable:!0,writable:!0,value:f})}}function u(l,f){l instanceof String&&(l+="");var y=0,E=!1,V={next:function(){if(!E&&y<l.length){var U=y++;return{value:f(U,l[U]),done:!1}}return E=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}o("Array.prototype.values",function(l){return l||function(){return u(this,function(f,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},m=this||self;function g(l){var f=typeof l;return f=f!="object"?f:l?Array.isArray(l)?"array":f:"null",f=="array"||f=="object"&&typeof l.length=="number"}function w(l){var f=typeof l;return f=="object"&&l!=null||f=="function"}function x(l,f,y){return l.call.apply(l.bind,arguments)}function C(l,f,y){if(!l)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,E),l.apply(f,V)}}return function(){return l.apply(f,arguments)}}function j(l,f,y){return j=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?x:C,j.apply(null,arguments)}function $(l,f){var y=Array.prototype.slice.call(arguments,1);return function(){var E=y.slice();return E.push.apply(E,arguments),l.apply(this,E)}}function Y(l,f){function y(){}y.prototype=f.prototype,l.aa=f.prototype,l.prototype=new y,l.prototype.constructor=l,l.Qb=function(E,V,U){for(var te=Array(arguments.length-2),We=2;We<arguments.length;We++)te[We-2]=arguments[We];return f.prototype[V].apply(E,te)}}function Z(l){const f=l.length;if(0<f){const y=Array(f);for(let E=0;E<f;E++)y[E]=l[E];return y}return[]}function q(l,f){for(let y=1;y<arguments.length;y++){const E=arguments[y];if(g(E)){const V=l.length||0,U=E.length||0;l.length=V+U;for(let te=0;te<U;te++)l[V+te]=E[te]}else l.push(E)}}class ye{constructor(f,y){this.i=f,this.j=y,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function ve(l){return/^[\s\xa0]*$/.test(l)}function _e(){var l=m.navigator;return l&&(l=l.userAgent)?l:""}function Ne(l){return Ne[" "](l),l}Ne[" "]=function(){};var Ke=_e().indexOf("Gecko")!=-1&&!(_e().toLowerCase().indexOf("webkit")!=-1&&_e().indexOf("Edge")==-1)&&!(_e().indexOf("Trident")!=-1||_e().indexOf("MSIE")!=-1)&&_e().indexOf("Edge")==-1;function Se(l,f,y){for(const E in l)f.call(y,l[E],E,l)}function N(l,f){for(const y in l)f.call(void 0,l[y],y,l)}function T(l){const f={};for(const y in l)f[y]=l[y];return f}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(l,f){let y,E;for(let V=1;V<arguments.length;V++){E=arguments[V];for(y in E)l[y]=E[y];for(let U=0;U<S.length;U++)y=S[U],Object.prototype.hasOwnProperty.call(E,y)&&(l[y]=E[y])}}function b(l){var f=1;l=l.split(":");const y=[];for(;0<f&&l.length;)y.push(l.shift()),f--;return l.length&&y.push(l.join(":")),y}function D(l){m.setTimeout(()=>{throw l},0)}function k(){var l=de;let f=null;return l.g&&(f=l.g,l.g=l.g.next,l.g||(l.h=null),f.next=null),f}class Qe{constructor(){this.h=this.g=null}add(f,y){const E=_t.get();E.set(f,y),this.h?this.h.next=E:this.g=E,this.h=E}}var _t=new ye(()=>new dt,l=>l.reset());class dt{constructor(){this.next=this.g=this.h=null}set(f,y){this.h=f,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let ze,ee=!1,de=new Qe,ne=()=>{const l=m.Promise.resolve(void 0);ze=()=>{l.then(O)}};var O=()=>{for(var l;l=k();){try{l.h.call(l.g)}catch(y){D(y)}var f=_t;f.j(l),100>f.h&&(f.h++,l.next=f.g,f.g=l)}ee=!1};function H(){this.s=this.s,this.C=this.C}H.prototype.s=!1,H.prototype.ma=function(){this.s||(this.s=!0,this.N())},H.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ce(l,f){this.type=l,this.g=this.target=f,this.defaultPrevented=!1}ce.prototype.h=function(){this.defaultPrevented=!0};var Ae=(function(){if(!m.addEventListener||!Object.defineProperty)return!1;var l=!1,f=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const y=()=>{};m.addEventListener("test",y,f),m.removeEventListener("test",y,f)}catch{}return l})();function Re(l,f){if(ce.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var y=this.type=l.type,E=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=f,f=l.relatedTarget){if(Ke){e:{try{Ne(f.nodeName);var V=!0;break e}catch{}V=!1}V||(f=null)}}else y=="mouseover"?f=l.fromElement:y=="mouseout"&&(f=l.toElement);this.relatedTarget=f,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:Pe[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Re.aa.h.call(this)}}Y(Re,ce);var Pe={2:"touch",3:"pen",4:"mouse"};Re.prototype.h=function(){Re.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Fe="closure_listenable_"+(1e6*Math.random()|0),Oe=0;function He(l,f,y,E,V){this.listener=l,this.proxy=null,this.src=f,this.type=y,this.capture=!!E,this.ha=V,this.key=++Oe,this.da=this.fa=!1}function mt(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Zt(l){this.src=l,this.g={},this.h=0}Zt.prototype.add=function(l,f,y,E,V){var U=l.toString();l=this.g[U],l||(l=this.g[U]=[],this.h++);var te=cn(l,f,E,V);return-1<te?(f=l[te],y||(f.fa=!1)):(f=new He(f,this.src,U,!!E,V),f.fa=y,l.push(f)),f};function Xr(l,f){var y=f.type;if(y in l.g){var E=l.g[y],V=Array.prototype.indexOf.call(E,f,void 0),U;(U=0<=V)&&Array.prototype.splice.call(E,V,1),U&&(mt(f),l.g[y].length==0&&(delete l.g[y],l.h--))}}function cn(l,f,y,E){for(var V=0;V<l.length;++V){var U=l[V];if(!U.da&&U.listener==f&&U.capture==!!y&&U.ha==E)return V}return-1}var dn="closure_lm_"+(1e6*Math.random()|0),er={};function Jr(l,f,y,E,V){if(Array.isArray(f)){for(var U=0;U<f.length;U++)Jr(l,f[U],y,E,V);return null}return y=ti(y),l&&l[Fe]?l.K(f,y,w(E)?!!E.capture:!1,V):Zr(l,f,y,!1,E,V)}function Zr(l,f,y,E,V,U){if(!f)throw Error("Invalid event type");var te=w(V)?!!V.capture:!!V,We=wr(l);if(We||(l[dn]=We=new Zt(l)),y=We.add(f,y,E,te,U),y.proxy)return y;if(E=Wi(),y.proxy=E,E.src=l,E.listener=y,l.addEventListener)Ae||(V=te),V===void 0&&(V=!1),l.addEventListener(f.toString(),E,V);else if(l.attachEvent)l.attachEvent(Mn(f.toString()),E);else if(l.addListener&&l.removeListener)l.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Wi(){function l(y){return f.call(l.src,l.listener,y)}const f=ei;return l}function _r(l,f,y,E,V){if(Array.isArray(f))for(var U=0;U<f.length;U++)_r(l,f[U],y,E,V);else E=w(E)?!!E.capture:!!E,y=ti(y),l&&l[Fe]?(l=l.i,f=String(f).toString(),f in l.g&&(U=l.g[f],y=cn(U,y,E,V),-1<y&&(mt(U[y]),Array.prototype.splice.call(U,y,1),U.length==0&&(delete l.g[f],l.h--)))):l&&(l=wr(l))&&(f=l.g[f.toString()],l=-1,f&&(l=cn(f,y,E,V)),(y=-1<l?f[l]:null)&&Vn(y))}function Vn(l){if(typeof l!="number"&&l&&!l.da){var f=l.src;if(f&&f[Fe])Xr(f.i,l);else{var y=l.type,E=l.proxy;f.removeEventListener?f.removeEventListener(y,E,l.capture):f.detachEvent?f.detachEvent(Mn(y),E):f.addListener&&f.removeListener&&f.removeListener(E),(y=wr(f))?(Xr(y,l),y.h==0&&(y.src=null,f[dn]=null)):mt(l)}}}function Mn(l){return l in er?er[l]:er[l]="on"+l}function ei(l,f){if(l.da)l=!0;else{f=new Re(f,this);var y=l.listener,E=l.ha||l.src;l.fa&&Vn(l),l=y.call(E,f)}return l}function wr(l){return l=l[dn],l instanceof Zt?l:null}var tr="__closure_events_fn_"+(1e9*Math.random()>>>0);function ti(l){return typeof l=="function"?l:(l[tr]||(l[tr]=function(f){return l.handleEvent(f)}),l[tr])}function ht(){H.call(this),this.i=new Zt(this),this.M=this,this.F=null}Y(ht,H),ht.prototype[Fe]=!0,ht.prototype.removeEventListener=function(l,f,y,E){_r(this,l,f,y,E)};function at(l,f){var y,E=l.F;if(E)for(y=[];E;E=E.F)y.push(E);if(l=l.M,E=f.type||f,typeof f=="string")f=new ce(f,l);else if(f instanceof ce)f.target=f.target||l;else{var V=f;f=new ce(E,l),R(f,V)}if(V=!0,y)for(var U=y.length-1;0<=U;U--){var te=f.g=y[U];V=Ln(te,E,!0,f)&&V}if(te=f.g=l,V=Ln(te,E,!0,f)&&V,V=Ln(te,E,!1,f)&&V,y)for(U=0;U<y.length;U++)te=f.g=y[U],V=Ln(te,E,!1,f)&&V}ht.prototype.N=function(){if(ht.aa.N.call(this),this.i){var l=this.i,f;for(f in l.g){for(var y=l.g[f],E=0;E<y.length;E++)mt(y[E]);delete l.g[f],l.h--}}this.F=null},ht.prototype.K=function(l,f,y,E){return this.i.add(String(l),f,!1,y,E)},ht.prototype.L=function(l,f,y,E){return this.i.add(String(l),f,!0,y,E)};function Ln(l,f,y,E){if(f=l.i.g[String(f)],!f)return!0;f=f.concat();for(var V=!0,U=0;U<f.length;++U){var te=f[U];if(te&&!te.da&&te.capture==y){var We=te.listener,wt=te.ha||te.src;te.fa&&Xr(l.i,te),V=We.call(wt,E)!==!1&&V}}return V&&!E.defaultPrevented}function Ft(l,f,y){if(typeof l=="function")y&&(l=j(l,y));else if(l&&typeof l.handleEvent=="function")l=j(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:m.setTimeout(l,f||0)}function nr(l){l.g=Ft(()=>{l.g=null,l.i&&(l.i=!1,nr(l))},l.l);const f=l.h;l.h=null,l.m.apply(null,f)}class kt extends H{constructor(f,y){super(),this.m=f,this.l=y,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:nr(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Er(l){H.call(this),this.h=l,this.g={}}Y(Er,H);var qi=[];function Ki(l){Se(l.g,function(f,y){this.g.hasOwnProperty(y)&&Vn(f)},l),l.g={}}Er.prototype.N=function(){Er.aa.N.call(this),Ki(this)},Er.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Gi=m.JSON.stringify,Qi=m.JSON.parse,jn=class{stringify(l){return m.JSON.stringify(l,void 0)}parse(l){return m.JSON.parse(l,void 0)}};function xr(){}xr.prototype.h=null;function ni(l){return l.h||(l.h=l.i())}function ri(){}var en={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function xn(){ce.call(this,"d")}Y(xn,ce);function ii(){ce.call(this,"c")}Y(ii,ce);var Tn={},Yi=null;function Tr(){return Yi=Yi||new ht}Tn.La="serverreachability";function si(l){ce.call(this,Tn.La,l)}Y(si,ce);function Fn(l){const f=Tr();at(f,new si(f))}Tn.STAT_EVENT="statevent";function Xi(l,f){ce.call(this,Tn.STAT_EVENT,l),this.stat=f}Y(Xi,ce);function rt(l){const f=Tr();at(f,new Xi(f,l))}Tn.Ma="timingevent";function oi(l,f){ce.call(this,Tn.Ma,l),this.size=f}Y(oi,ce);function hn(l,f){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){l()},f)}function Ir(){this.g=!0}Ir.prototype.xa=function(){this.g=!1};function kr(l,f,y,E,V,U){l.info(function(){if(l.g)if(U)for(var te="",We=U.split("&"),wt=0;wt<We.length;wt++){var Le=We[wt].split("=");if(1<Le.length){var St=Le[0];Le=Le[1];var gt=St.split("_");te=2<=gt.length&&gt[1]=="type"?te+(St+"="+Le+"&"):te+(St+"=redacted&")}}else te=null;else te=U;return"XMLHTTP REQ ("+E+") [attempt "+V+"]: "+f+`
`+y+`
`+te})}function ai(l,f,y,E,V,U,te){l.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+V+"]: "+f+`
`+y+`
`+U+" "+te})}function fn(l,f,y,E){l.info(function(){return"XMLHTTP TEXT ("+f+"): "+z(l,y)+(E?" "+E:"")})}function Ji(l,f){l.info(function(){return"TIMEOUT: "+f})}Ir.prototype.info=function(){};function z(l,f){if(!l.g)return f;if(!f)return null;try{var y=JSON.parse(f);if(y){for(l=0;l<y.length;l++)if(Array.isArray(y[l])){var E=y[l];if(!(2>E.length)){var V=E[1];if(Array.isArray(V)&&!(1>V.length)){var U=V[0];if(U!="noop"&&U!="stop"&&U!="close")for(var te=1;te<V.length;te++)V[te]=""}}}}return Gi(y)}catch{return f}}var B={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ue={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ee;function lt(){}Y(lt,xr),lt.prototype.g=function(){return new XMLHttpRequest},lt.prototype.i=function(){return{}},Ee=new lt;function et(l,f,y,E){this.j=l,this.i=f,this.l=y,this.R=E||1,this.U=new Er(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Un}function Un(){this.i=null,this.g="",this.h=!1}var Sr={},li={};function Ds(l,f,y){l.L=1,l.v=fi(mn(f)),l.m=y,l.P=!0,jo(l,null)}function jo(l,f){l.F=Date.now(),Ye(l),l.A=mn(l.v);var y=l.A,E=l.R;Array.isArray(E)||(E=[String(E)]),mi(y.i,"t",E),l.C=0,y=l.j.J,l.h=new Un,l.g=gl(l.j,y?f:null,!l.m),0<l.O&&(l.M=new kt(j(l.Y,l,l.g),l.O)),f=l.U,y=l.g,E=l.ca;var V="readystatechange";Array.isArray(V)||(V&&(qi[0]=V.toString()),V=qi);for(var U=0;U<V.length;U++){var te=Jr(y,V[U],E||f.handleEvent,!1,f.h||f);if(!te)break;f.g[te.key]=te}f=l.H?T(l.H):{},l.m?(l.u||(l.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,f)):(l.u="GET",l.g.ea(l.A,l.u,null,f)),Fn(),kr(l.i,l.u,l.A,l.l,l.R,l.m)}et.prototype.ca=function(l){l=l.target;const f=this.M;f&&nn(l)==3?f.j():this.Y(l)},et.prototype.Y=function(l){try{if(l==this.g)e:{const gt=nn(this.g);var f=this.g.Ba();const Sn=this.g.Z();if(!(3>gt)&&(gt!=3||this.g&&(this.h.h||this.g.oa()||Ho(this.g)))){this.J||gt!=4||f==7||(f==8||0>=Sn?Fn(3):Fn(2)),Zi(this);var y=this.g.Z();this.X=y;t:if(Za(this)){var E=Ho(this.g);l="";var V=E.length,U=nn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){In(this),ui(this);var te="";break t}this.h.i=new m.TextDecoder}for(f=0;f<V;f++)this.h.h=!0,l+=this.h.i.decode(E[f],{stream:!(U&&f==V-1)});E.length=0,this.h.g+=l,this.C=0,te=this.h.g}else te=this.g.oa();if(this.o=y==200,ai(this.i,this.u,this.A,this.l,this.R,gt,y),this.o){if(this.T&&!this.K){t:{if(this.g){var We,wt=this.g;if((We=wt.g?wt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ve(We)){var Le=We;break t}}Le=null}if(y=Le)fn(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Fo(this,y);else{this.o=!1,this.s=3,rt(12),In(this),ui(this);break e}}if(this.P){y=!0;let yn;for(;!this.J&&this.C<te.length;)if(yn=cc(this,te),yn==li){gt==4&&(this.s=4,rt(14),y=!1),fn(this.i,this.l,null,"[Incomplete Response]");break}else if(yn==Sr){this.s=4,rt(15),fn(this.i,this.l,te,"[Invalid Chunk]"),y=!1;break}else fn(this.i,this.l,yn,null),Fo(this,yn);if(Za(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),gt!=4||te.length!=0||this.h.h||(this.s=1,rt(16),y=!1),this.o=this.o&&y,!y)fn(this.i,this.l,te,"[Invalid Chunked Response]"),In(this),ui(this);else if(0<te.length&&!this.W){this.W=!0;var St=this.j;St.g==this&&St.ba&&!St.M&&(St.j.info("Great, no buffering proxy detected. Bytes received: "+te.length),qo(St),St.M=!0,rt(11))}}else fn(this.i,this.l,te,null),Fo(this,te);gt==4&&In(this),this.o&&!this.J&&(gt==4?Hs(this.j,this):(this.o=!1,Ye(this)))}else Fs(this.g),y==400&&0<te.indexOf("Unknown SID")?(this.s=3,rt(12)):(this.s=0,rt(13)),In(this),ui(this)}}}catch{}finally{}};function Za(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function cc(l,f){var y=l.C,E=f.indexOf(`
`,y);return E==-1?li:(y=Number(f.substring(y,E)),isNaN(y)?Sr:(E+=1,E+y>f.length?li:(f=f.slice(E,E+y),l.C=E+y,f)))}et.prototype.cancel=function(){this.J=!0,In(this)};function Ye(l){l.S=Date.now()+l.I,el(l,l.I)}function el(l,f){if(l.B!=null)throw Error("WatchDog timer not null");l.B=hn(j(l.ba,l),f)}function Zi(l){l.B&&(m.clearTimeout(l.B),l.B=null)}et.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(Ji(this.i,this.A),this.L!=2&&(Fn(),rt(17)),In(this),this.s=2,ui(this)):el(this,this.S-l)};function ui(l){l.j.G==0||l.J||Hs(l.j,l)}function In(l){Zi(l);var f=l.M;f&&typeof f.ma=="function"&&f.ma(),l.M=null,Ki(l.U),l.g&&(f=l.g,l.g=null,f.abort(),f.ma())}function Fo(l,f){try{var y=l.j;if(y.G!=0&&(y.g==l||Gt(y.h,l))){if(!l.K&&Gt(y.h,l)&&y.G==3){try{var E=y.Da.g.parse(f)}catch{E=null}if(Array.isArray(E)&&E.length==3){var V=E;if(V[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<l.F)$s(y),Wn(y);else break e;Bs(y),rt(18)}}else y.za=V[1],0<y.za-y.T&&37500>V[2]&&y.F&&y.v==0&&!y.C&&(y.C=hn(j(y.Za,y),6e3));if(1>=nl(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else Nr(y,11)}else if((l.K||y.g==l)&&$s(y),!ve(f))for(V=y.Da.g.parse(f),f=0;f<V.length;f++){let Le=V[f];if(y.T=Le[0],Le=Le[1],y.G==2)if(Le[0]=="c"){y.K=Le[1],y.ia=Le[2];const St=Le[3];St!=null&&(y.la=St,y.j.info("VER="+y.la));const gt=Le[4];gt!=null&&(y.Aa=gt,y.j.info("SVER="+y.Aa));const Sn=Le[5];Sn!=null&&typeof Sn=="number"&&0<Sn&&(E=1.5*Sn,y.L=E,y.j.info("backChannelRequestTimeoutMs_="+E)),E=y;const yn=l.g;if(yn){const os=yn.g?yn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(os){var U=E.h;U.g||os.indexOf("spdy")==-1&&os.indexOf("quic")==-1&&os.indexOf("h2")==-1||(U.j=U.l,U.g=new Set,U.h&&(Uo(U,U.h),U.h=null))}if(E.D){const qs=yn.g?yn.g.getResponseHeader("X-HTTP-Session-Id"):null;qs&&(E.ya=qs,Ge(E.I,E.D,qs))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-l.F,y.j.info("Handshake RTT: "+y.R+"ms")),E=y;var te=l;if(E.qa=ml(E,E.J?E.ia:null,E.W),te.K){rl(E.h,te);var We=te,wt=E.L;wt&&(We.I=wt),We.B&&(Zi(We),Ye(We)),E.g=te}else ss(E);0<y.i.length&&or(y)}else Le[0]!="stop"&&Le[0]!="close"||Nr(y,7);else y.G==3&&(Le[0]=="stop"||Le[0]=="close"?Le[0]=="stop"?Nr(y,7):bt(y):Le[0]!="noop"&&y.l&&y.l.ta(Le),y.v=0)}}Fn(4)}catch{}}var tl=class{constructor(l,f){this.g=l,this.map=f}};function es(l){this.l=l||10,m.PerformanceNavigationTiming?(l=m.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function pn(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function nl(l){return l.h?1:l.g?l.g.size:0}function Gt(l,f){return l.h?l.h==f:l.g?l.g.has(f):!1}function Uo(l,f){l.g?l.g.add(f):l.h=f}function rl(l,f){l.h&&l.h==f?l.h=null:l.g&&l.g.has(f)&&l.g.delete(f)}es.prototype.cancel=function(){if(this.i=il(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function il(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let f=l.i;for(const y of l.g.values())f=f.concat(y.D);return f}return Z(l.i)}function Os(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(g(l)){for(var f=[],y=l.length,E=0;E<y;E++)f.push(l[E]);return f}f=[],y=0;for(E in l)f[y++]=l[E];return f}function Vs(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(g(l)||typeof l=="string"){var f=[];l=l.length;for(var y=0;y<l;y++)f.push(y);return f}f=[],y=0;for(const E in l)f[y++]=E;return f}}}function ci(l,f){if(l.forEach&&typeof l.forEach=="function")l.forEach(f,void 0);else if(g(l)||typeof l=="string")Array.prototype.forEach.call(l,f,void 0);else for(var y=Vs(l),E=Os(l),V=E.length,U=0;U<V;U++)f.call(void 0,E[U],y&&y[U],l)}var ts=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function dc(l,f){if(l){l=l.split("&");for(var y=0;y<l.length;y++){var E=l[y].indexOf("="),V=null;if(0<=E){var U=l[y].substring(0,E);V=l[y].substring(E+1)}else U=l[y];f(U,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function Ar(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Ar){this.h=l.h,ns(this,l.j),this.o=l.o,this.g=l.g,di(this,l.s),this.l=l.l;var f=l.i,y=new rr;y.i=f.i,f.g&&(y.g=new Map(f.g),y.h=f.h),hi(this,y),this.m=l.m}else l&&(f=String(l).match(ts))?(this.h=!1,ns(this,f[1]||"",!0),this.o=Ve(f[2]||""),this.g=Ve(f[3]||"",!0),di(this,f[4]),this.l=Ve(f[5]||"",!0),hi(this,f[6]||"",!0),this.m=Ve(f[7]||"")):(this.h=!1,this.i=new rr(null,this.h))}Ar.prototype.toString=function(){var l=[],f=this.j;f&&l.push(pi(f,Ms,!0),":");var y=this.g;return(y||f=="file")&&(l.push("//"),(f=this.o)&&l.push(pi(f,Ms,!0),"@"),l.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&l.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&l.push("/"),l.push(pi(y,y.charAt(0)=="/"?al:ol,!0))),(y=this.i.toString())&&l.push("?",y),(y=this.m)&&l.push("#",pi(y,zo)),l.join("")};function mn(l){return new Ar(l)}function ns(l,f,y){l.j=y?Ve(f,!0):f,l.j&&(l.j=l.j.replace(/:$/,""))}function di(l,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);l.s=f}else l.s=null}function hi(l,f,y){f instanceof rr?(l.i=f,ir(l.i,l.h)):(y||(f=pi(f,ll)),l.i=new rr(f,l.h))}function Ge(l,f,y){l.i.set(f,y)}function fi(l){return Ge(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Ve(l,f){return l?f?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function pi(l,f,y){return typeof l=="string"?(l=encodeURI(l).replace(f,sl),y&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function sl(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Ms=/[#\/\?@]/g,ol=/[#\?:]/g,al=/[#\?]/g,ll=/[#\?@]/g,zo=/#/g;function rr(l,f){this.h=this.g=null,this.i=l||null,this.j=!!f}function Nt(l){l.g||(l.g=new Map,l.h=0,l.i&&dc(l.i,function(f,y){l.add(decodeURIComponent(f.replace(/\+/g," ")),y)}))}i=rr.prototype,i.add=function(l,f){Nt(this),this.i=null,l=kn(this,l);var y=this.g.get(l);return y||this.g.set(l,y=[]),y.push(f),this.h+=1,this};function zn(l,f){Nt(l),f=kn(l,f),l.g.has(f)&&(l.i=null,l.h-=l.g.get(f).length,l.g.delete(f))}function Bn(l,f){return Nt(l),f=kn(l,f),l.g.has(f)}i.forEach=function(l,f){Nt(this),this.g.forEach(function(y,E){y.forEach(function(V){l.call(f,V,E,this)},this)},this)},i.na=function(){Nt(this);const l=Array.from(this.g.values()),f=Array.from(this.g.keys()),y=[];for(let E=0;E<f.length;E++){const V=l[E];for(let U=0;U<V.length;U++)y.push(f[E])}return y},i.V=function(l){Nt(this);let f=[];if(typeof l=="string")Bn(this,l)&&(f=f.concat(this.g.get(kn(this,l))));else{l=Array.from(this.g.values());for(let y=0;y<l.length;y++)f=f.concat(l[y])}return f},i.set=function(l,f){return Nt(this),this.i=null,l=kn(this,l),Bn(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[f]),this.h+=1,this},i.get=function(l,f){return l?(l=this.V(l),0<l.length?String(l[0]):f):f};function mi(l,f,y){zn(l,f),0<y.length&&(l.i=null,l.g.set(kn(l,f),Z(y)),l.h+=y.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],f=Array.from(this.g.keys());for(var y=0;y<f.length;y++){var E=f[y];const U=encodeURIComponent(String(E)),te=this.V(E);for(E=0;E<te.length;E++){var V=U;te[E]!==""&&(V+="="+encodeURIComponent(String(te[E]))),l.push(V)}}return this.i=l.join("&")};function kn(l,f){return f=String(f),l.j&&(f=f.toLowerCase()),f}function ir(l,f){f&&!l.j&&(Nt(l),l.i=null,l.g.forEach(function(y,E){var V=E.toLowerCase();E!=V&&(zn(this,E),mi(this,V,y))},l)),l.j=f}function hc(l,f){const y=new Ir;if(m.Image){const E=new Image;E.onload=$(tn,y,"TestLoadImage: loaded",!0,f,E),E.onerror=$(tn,y,"TestLoadImage: error",!1,f,E),E.onabort=$(tn,y,"TestLoadImage: abort",!1,f,E),E.ontimeout=$(tn,y,"TestLoadImage: timeout",!1,f,E),m.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=l}else f(!1)}function ul(l,f){const y=new Ir,E=new AbortController,V=setTimeout(()=>{E.abort(),tn(y,"TestPingServer: timeout",!1,f)},1e4);fetch(l,{signal:E.signal}).then(U=>{clearTimeout(V),U.ok?tn(y,"TestPingServer: ok",!0,f):tn(y,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(V),tn(y,"TestPingServer: error",!1,f)})}function tn(l,f,y,E,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),E(y)}catch{}}function fc(){this.g=new jn}function cl(l,f,y){const E=y||"";try{ci(l,function(V,U){let te=V;w(V)&&(te=Gi(V)),f.push(E+U+"="+encodeURIComponent(te))})}catch(V){throw f.push(E+"type="+encodeURIComponent("_badmap")),V}}function Cr(l){this.l=l.Ub||null,this.j=l.eb||!1}Y(Cr,xr),Cr.prototype.g=function(){return new rs(this.l,this.j)},Cr.prototype.i=(function(l){return function(){return l}})({});function rs(l,f){ht.call(this),this.D=l,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}Y(rs,ht),i=rs.prototype,i.open=function(l,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=f,this.readyState=1,Hn(this)},i.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(f.body=l),(this.D||m).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,$n(this)),this.readyState=0},i.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Hn(this)),this.g&&(this.readyState=3,Hn(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;dl(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function dl(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}i.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var f=l.value?l.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!l.done}))&&(this.response=this.responseText+=f)}l.done?$n(this):Hn(this),this.readyState==3&&dl(this)}},i.Ra=function(l){this.g&&(this.response=this.responseText=l,$n(this))},i.Qa=function(l){this.g&&(this.response=l,$n(this))},i.ga=function(){this.g&&$n(this)};function $n(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Hn(l)}i.setRequestHeader=function(l,f){this.u.append(l,f)},i.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],f=this.h.entries();for(var y=f.next();!y.done;)y=y.value,l.push(y[0]+": "+y[1]),y=f.next();return l.join(`\r
`)};function Hn(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(rs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function Rr(l){let f="";return Se(l,function(y,E){f+=E,f+=":",f+=y,f+=`\r
`}),f}function gi(l,f,y){e:{for(E in y){var E=!1;break e}E=!0}E||(y=Rr(y),typeof l=="string"?y!=null&&encodeURIComponent(String(y)):Ge(l,f,y))}function tt(l){ht.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}Y(tt,ht);var pc=/^https?$/i,Bo=["POST","PUT"];i=tt.prototype,i.Ha=function(l){this.J=l},i.ea=function(l,f,y,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);f=f?f.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ee.g(),this.v=this.o?ni(this.o):ni(Ee),this.g.onreadystatechange=j(this.Ea,this);try{this.B=!0,this.g.open(f,String(l),!0),this.B=!1}catch(U){is(this,U);return}if(l=y||"",y=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var V in E)y.set(V,E[V]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const U of E.keys())y.set(U,E.get(U));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(y.keys()).find(U=>U.toLowerCase()=="content-type"),V=m.FormData&&l instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Bo,f,void 0))||E||V||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[U,te]of y)this.g.setRequestHeader(U,te);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{js(this),this.u=!0,this.g.send(l),this.u=!1}catch(U){is(this,U)}};function is(l,f){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=f,l.m=5,Ls(l),gn(l)}function Ls(l){l.A||(l.A=!0,at(l,"complete"),at(l,"error"))}i.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,at(this,"complete"),at(this,"abort"),gn(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),gn(this,!0)),tt.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?$o(this):this.bb())},i.bb=function(){$o(this)};function $o(l){if(l.h&&typeof d<"u"&&(!l.v[1]||nn(l)!=4||l.Z()!=2)){if(l.u&&nn(l)==4)Ft(l.Ea,0,l);else if(at(l,"readystatechange"),nn(l)==4){l.h=!1;try{const te=l.Z();e:switch(te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var y;if(!(y=f)){var E;if(E=te===0){var V=String(l.D).match(ts)[1]||null;!V&&m.self&&m.self.location&&(V=m.self.location.protocol.slice(0,-1)),E=!pc.test(V?V.toLowerCase():"")}y=E}if(y)at(l,"complete"),at(l,"success");else{l.m=6;try{var U=2<nn(l)?l.g.statusText:""}catch{U=""}l.l=U+" ["+l.Z()+"]",Ls(l)}}finally{gn(l)}}}}function gn(l,f){if(l.g){js(l);const y=l.g,E=l.v[0]?()=>{}:null;l.g=null,l.v=null,f||at(l,"ready");try{y.onreadystatechange=E}catch{}}}function js(l){l.I&&(m.clearTimeout(l.I),l.I=null)}i.isActive=function(){return!!this.g};function nn(l){return l.g?l.g.readyState:0}i.Z=function(){try{return 2<nn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(l){if(this.g){var f=this.g.responseText;return l&&f.indexOf(l)==0&&(f=f.substring(l.length)),Qi(f)}};function Ho(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function Fs(l){const f={};l=(l.g&&2<=nn(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<l.length;E++){if(ve(l[E]))continue;var y=b(l[E]);const V=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const U=f[V]||[];f[V]=U,U.push(y)}N(f,function(E){return E.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function sr(l,f,y){return y&&y.internalChannelParams&&y.internalChannelParams[l]||f}function Wo(l){this.Aa=0,this.i=[],this.j=new Ir,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=sr("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=sr("baseRetryDelayMs",5e3,l),this.cb=sr("retryDelaySeedMs",1e4,l),this.Wa=sr("forwardChannelMaxRetries",2,l),this.wa=sr("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new es(l&&l.concurrentRequestLimit),this.Da=new fc,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Wo.prototype,i.la=8,i.G=1,i.connect=function(l,f,y,E){rt(0),this.W=l,this.H=f||{},y&&E!==void 0&&(this.H.OSID=y,this.H.OAID=E),this.F=this.X,this.I=ml(this,null,this.W),or(this)};function bt(l){if(Us(l),l.G==3){var f=l.U++,y=mn(l.I);if(Ge(y,"SID",l.K),Ge(y,"RID",f),Ge(y,"TYPE","terminate"),Pr(l,y),f=new et(l,l.j,f),f.L=2,f.v=fi(mn(y)),y=!1,m.navigator&&m.navigator.sendBeacon)try{y=m.navigator.sendBeacon(f.v.toString(),"")}catch{}!y&&m.Image&&(new Image().src=f.v,y=!0),y||(f.g=gl(f.j,null),f.g.ea(f.v)),f.F=Date.now(),Ye(f)}pl(l)}function Wn(l){l.g&&(qo(l),l.g.cancel(),l.g=null)}function Us(l){Wn(l),l.u&&(m.clearTimeout(l.u),l.u=null),$s(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&m.clearTimeout(l.s),l.s=null)}function or(l){if(!pn(l.h)&&!l.s){l.s=!0;var f=l.Ga;ze||ne(),ee||(ze(),ee=!0),de.add(f,l),l.B=0}}function mc(l,f){return nl(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=f.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=hn(j(l.Ga,l,f),fl(l,l.B)),l.B++,!0)}i.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const V=new et(this,this.j,l);let U=this.o;if(this.S&&(U?(U=T(U),R(U,this.S)):U=this.S),this.m!==null||this.O||(V.H=U,U=null),this.P)e:{for(var f=0,y=0;y<this.i.length;y++){t:{var E=this.i[y];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(f+=E,4096<f){f=y;break e}if(f===4096||y===this.i.length-1){f=y+1;break e}}f=1e3}else f=1e3;f=yi(this,V,f),y=mn(this.I),Ge(y,"RID",l),Ge(y,"CVER",22),this.D&&Ge(y,"X-HTTP-Session-Id",this.D),Pr(this,y),U&&(this.O?f="headers="+encodeURIComponent(String(Rr(U)))+"&"+f:this.m&&gi(y,this.m,U)),Uo(this.h,V),this.Ua&&Ge(y,"TYPE","init"),this.P?(Ge(y,"$req",f),Ge(y,"SID","null"),V.T=!0,Ds(V,y,null)):Ds(V,y,f),this.G=2}}else this.G==3&&(l?zs(this,l):this.i.length==0||pn(this.h)||zs(this))};function zs(l,f){var y;f?y=f.l:y=l.U++;const E=mn(l.I);Ge(E,"SID",l.K),Ge(E,"RID",y),Ge(E,"AID",l.T),Pr(l,E),l.m&&l.o&&gi(E,l.m,l.o),y=new et(l,l.j,y,l.B+1),l.m===null&&(y.H=l.o),f&&(l.i=f.D.concat(l.i)),f=yi(l,y,1e3),y.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Uo(l.h,y),Ds(y,E,f)}function Pr(l,f){l.H&&Se(l.H,function(y,E){Ge(f,E,y)}),l.l&&ci({},function(y,E){Ge(f,E,y)})}function yi(l,f,y){y=Math.min(l.i.length,y);var E=l.l?j(l.l.Na,l.l,l):null;e:{var V=l.i;let U=-1;for(;;){const te=["count="+y];U==-1?0<y?(U=V[0].g,te.push("ofs="+U)):U=0:te.push("ofs="+U);let We=!0;for(let wt=0;wt<y;wt++){let Le=V[wt].g;const St=V[wt].map;if(Le-=U,0>Le)U=Math.max(0,V[wt].g-100),We=!1;else try{cl(St,te,"req"+Le+"_")}catch{E&&E(St)}}if(We){E=te.join("&");break e}}}return l=l.i.splice(0,y),f.D=l,E}function ss(l){if(!l.g&&!l.u){l.Y=1;var f=l.Fa;ze||ne(),ee||(ze(),ee=!0),de.add(f,l),l.v=0}}function Bs(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=hn(j(l.Fa,l),fl(l,l.v)),l.v++,!0)}i.Fa=function(){if(this.u=null,hl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=hn(j(this.ab,this),l)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,rt(10),Wn(this),hl(this))};function qo(l){l.A!=null&&(m.clearTimeout(l.A),l.A=null)}function hl(l){l.g=new et(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var f=mn(l.qa);Ge(f,"RID","rpc"),Ge(f,"SID",l.K),Ge(f,"AID",l.T),Ge(f,"CI",l.F?"0":"1"),!l.F&&l.ja&&Ge(f,"TO",l.ja),Ge(f,"TYPE","xmlhttp"),Pr(l,f),l.m&&l.o&&gi(f,l.m,l.o),l.L&&(l.g.I=l.L);var y=l.g;l=l.ia,y.L=1,y.v=fi(mn(f)),y.m=null,y.P=!0,jo(y,l)}i.Za=function(){this.C!=null&&(this.C=null,Wn(this),Bs(this),rt(19))};function $s(l){l.C!=null&&(m.clearTimeout(l.C),l.C=null)}function Hs(l,f){var y=null;if(l.g==f){$s(l),qo(l),l.g=null;var E=2}else if(Gt(l.h,f))y=f.D,rl(l.h,f),E=1;else return;if(l.G!=0){if(f.o)if(E==1){y=f.m?f.m.length:0,f=Date.now()-f.F;var V=l.B;E=Tr(),at(E,new oi(E,y)),or(l)}else ss(l);else if(V=f.s,V==3||V==0&&0<f.X||!(E==1&&mc(l,f)||E==2&&Bs(l)))switch(y&&0<y.length&&(f=l.h,f.i=f.i.concat(y)),V){case 1:Nr(l,5);break;case 4:Nr(l,10);break;case 3:Nr(l,6);break;default:Nr(l,2)}}}function fl(l,f){let y=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(y*=2),y*f}function Nr(l,f){if(l.j.info("Error code "+f),f==2){var y=j(l.fb,l),E=l.Xa;const V=!E;E=new Ar(E||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||ns(E,"https"),fi(E),V?hc(E.toString(),y):ul(E.toString(),y)}else rt(2);l.G=0,l.l&&l.l.sa(f),pl(l),Us(l)}i.fb=function(l){l?(this.j.info("Successfully pinged google.com"),rt(2)):(this.j.info("Failed to ping google.com"),rt(1))};function pl(l){if(l.G=0,l.ka=[],l.l){const f=il(l.h);(f.length!=0||l.i.length!=0)&&(q(l.ka,f),q(l.ka,l.i),l.h.i.length=0,Z(l.i),l.i.length=0),l.l.ra()}}function ml(l,f,y){var E=y instanceof Ar?mn(y):new Ar(y);if(E.g!="")f&&(E.g=f+"."+E.g),di(E,E.s);else{var V=m.location;E=V.protocol,f=f?f+"."+V.hostname:V.hostname,V=+V.port;var U=new Ar(null);E&&ns(U,E),f&&(U.g=f),V&&di(U,V),y&&(U.l=y),E=U}return y=l.D,f=l.ya,y&&f&&Ge(E,y,f),Ge(E,"VER",l.la),Pr(l,E),E}function gl(l,f,y){if(f&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=l.Ca&&!l.pa?new tt(new Cr({eb:y})):new tt(l.pa),f.Ha(l.J),f}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ko(){}i=Ko.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Ws(){}Ws.prototype.g=function(l,f){return new Qt(l,f)};function Qt(l,f){ht.call(this),this.g=new Wo(f),this.l=l,this.h=f&&f.messageUrlParams||null,l=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(l?l["X-WebChannel-Content-Type"]=f.messageContentType:l={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(l?l["X-WebChannel-Client-Profile"]=f.va:l={"X-WebChannel-Client-Profile":f.va}),this.g.S=l,(l=f&&f.Sb)&&!ve(l)&&(this.g.m=l),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!ve(f)&&(this.g.D=f,l=this.h,l!==null&&f in l&&(l=this.h,f in l&&delete l[f])),this.j=new ar(this)}Y(Qt,ht),Qt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Qt.prototype.close=function(){bt(this.g)},Qt.prototype.o=function(l){var f=this.g;if(typeof l=="string"){var y={};y.__data__=l,l=y}else this.u&&(y={},y.__data__=Gi(l),l=y);f.i.push(new tl(f.Ya++,l)),f.G==3&&or(f)},Qt.prototype.N=function(){this.g.l=null,delete this.j,bt(this.g),delete this.g,Qt.aa.N.call(this)};function yl(l){xn.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var f=l.__sm__;if(f){e:{for(const y in f){l=y;break e}l=void 0}(this.i=l)&&(l=this.i,f=f!==null&&l in f?f[l]:void 0),this.data=f}else this.data=l}Y(yl,xn);function vl(){ii.call(this),this.status=1}Y(vl,ii);function ar(l){this.g=l}Y(ar,Ko),ar.prototype.ua=function(){at(this.g,"a")},ar.prototype.ta=function(l){at(this.g,new yl(l))},ar.prototype.sa=function(l){at(this.g,new vl)},ar.prototype.ra=function(){at(this.g,"b")},Ws.prototype.createWebChannel=Ws.prototype.g,Qt.prototype.send=Qt.prototype.o,Qt.prototype.open=Qt.prototype.m,Qt.prototype.close=Qt.prototype.close,Y0=function(){return new Ws},Q0=function(){return Tr()},G0=Tn,gh={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},B.NO_ERROR=0,B.TIMEOUT=8,B.HTTP_ERROR=6,Su=B,ue.COMPLETE="complete",K0=ue,ri.EventType=en,en.OPEN="a",en.CLOSE="b",en.ERROR="c",en.MESSAGE="d",ht.prototype.listen=ht.prototype.K,Ta=ri,tt.prototype.listenOnce=tt.prototype.L,tt.prototype.getLastError=tt.prototype.Ka,tt.prototype.getLastErrorCode=tt.prototype.Ba,tt.prototype.getStatus=tt.prototype.Z,tt.prototype.getResponseJson=tt.prototype.Oa,tt.prototype.getResponseText=tt.prototype.oa,tt.prototype.send=tt.prototype.ea,tt.prototype.setWithCredentials=tt.prototype.Ha,q0=tt}).apply(typeof gu<"u"?gu:typeof self<"u"?self:typeof window<"u"?window:{});const pg="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wt.UNAUTHENTICATED=new Wt(null),Wt.GOOGLE_CREDENTIALS=new Wt("google-credentials-uid"),Wt.FIRST_PARTY=new Wt("first-party-uid"),Wt.MOCK_USER=new Wt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oo="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const As=new Nh("@firebase/firestore");function wa(){return As.logLevel}function ae(i,...e){if(As.logLevel<=Me.DEBUG){const t=e.map($h);As.debug(`Firestore (${Oo}): ${i}`,...t)}}function Kr(i,...e){if(As.logLevel<=Me.ERROR){const t=e.map($h);As.error(`Firestore (${Oo}): ${i}`,...t)}}function ko(i,...e){if(As.logLevel<=Me.WARN){const t=e.map($h);As.warn(`Firestore (${Oo}): ${i}`,...t)}}function $h(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(i="Unexpected state"){const e=`FIRESTORE (${Oo}) INTERNAL ASSERTION FAILED: `+i;throw Kr(e),new Error(e)}function qe(i,e){i||xe()}function ke(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends Qr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Qx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Wt.UNAUTHENTICATED)))}shutdown(){}}class Yx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Xx{constructor(e){this.t=e,this.currentUser=Wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){qe(this.o===void 0);let s=this.i;const o=g=>this.i!==s?(s=this.i,t(g)):Promise.resolve();let u=new Ts;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ts,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},m=g=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ts)}}),0),d()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((s=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(qe(typeof s.accessToken=="string"),new X0(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qe(e===null||typeof e=="string"),new Wt(e)}}class Jx{constructor(e,t,s){this.l=e,this.h=t,this.P=s,this.type="FirstParty",this.user=Wt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Zx{constructor(e,t,s){this.l=e,this.h=t,this.P=s}getToken(){return Promise.resolve(new Jx(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(Wt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class eT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class tT{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){qe(this.o===void 0);const s=u=>{u.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.R;return this.R=u.token,ae("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(qe(typeof t.token=="string"),this.R=t.token,new eT(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nT(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<i;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const o=nT(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<t&&(s+=e.charAt(o[u]%e.length))}return s}}function $e(i,e){return i<e?-1:i>e?1:0}function So(i,e,t){return i.length===e.length&&i.every(((s,o)=>t(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new pe(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new pe(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new pe(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return It.fromMillis(Date.now())}static fromDate(e){return It.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new It(t,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?$e(this.nanoseconds,e.nanoseconds):$e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new It(0,0))}static max(){return new Ie(new It(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e,t,s){t===void 0?t=0:t>e.length&&xe(),s===void 0?s=e.length-t:s>e.length-t&&xe(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Oa.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Oa?e.forEach((s=>{t.push(s)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const u=e.get(o),d=t.get(o);if(u<d)return-1;if(u>d)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ct extends Oa{construct(e,t,s){return new ct(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new pe(X.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter((o=>o.length>0)))}return new ct(t)}static emptyPath(){return new ct([])}}const rT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Mt extends Oa{construct(e,t,s){return new Mt(e,t,s)}static isValidIdentifier(e){return rT.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Mt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Mt(["__name__"])}static fromServerFormat(e){const t=[];let s="",o=0;const u=()=>{if(s.length===0)throw new pe(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let d=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new pe(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new pe(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else m==="`"?(d=!d,o++):m!=="."||d?(s+=m,o++):(u(),o++)}if(u(),d)throw new pe(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Mt(t)}static emptyPath(){return new Mt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.path=e}static fromPath(e){return new me(ct.fromString(e))}static fromName(e){return new me(ct.fromString(e).popFirst(5))}static empty(){return new me(ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ct.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new ct(e.slice()))}}function iT(i,e){const t=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Ie.fromTimestamp(s===1e9?new It(t+1,0):new It(t,s));return new zi(o,me.empty(),e)}function sT(i){return new zi(i.readTime,i.key,-1)}class zi{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new zi(Ie.min(),me.empty(),-1)}static max(){return new zi(Ie.max(),me.empty(),-1)}}function oT(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=me.comparator(i.documentKey,e.documentKey),t!==0?t:$e(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class lT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ka(i){if(i.code!==X.FAILED_PRECONDITION||i.message!==aT)throw i;ae("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&xe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new G(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(s,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof G?t:G.resolve(t)}catch(t){return G.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):G.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):G.reject(t)}static resolve(e){return new G(((t,s)=>{t(e)}))}static reject(e){return new G(((t,s)=>{s(e)}))}static waitFor(e){return new G(((t,s)=>{let o=0,u=0,d=!1;e.forEach((m=>{++o,m.next((()=>{++u,d&&u===o&&t()}),(g=>s(g)))})),d=!0,u===o&&t()}))}static or(e){let t=G.resolve(!1);for(const s of e)t=t.next((o=>o?G.resolve(o):s()));return t}static forEach(e,t){const s=[];return e.forEach(((o,u)=>{s.push(t.call(this,o,u))})),this.waitFor(s)}static mapArray(e,t){return new G(((s,o)=>{const u=e.length,d=new Array(u);let m=0;for(let g=0;g<u;g++){const w=g;t(e[w]).next((x=>{d[w]=x,++m,m===u&&s(d)}),(x=>o(x)))}}))}static doWhile(e,t){return new G(((s,o)=>{const u=()=>{e()===!0?t().next((()=>{u()}),o):s()};u()}))}}function uT(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Ga(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ie(s),this.se=s=>t.writeSequenceNumber(s))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Hh.oe=-1;function Zu(i){return i==null}function Fu(i){return i===0&&1/i==-1/0}function cT(i){return typeof i=="number"&&Number.isInteger(i)&&!Fu(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mg(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function Vo(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function Z0(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,t){this.comparator=e,this.root=t||Vt.EMPTY}insert(e,t){return new ot(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Vt.BLACK,null,null))}remove(e){return new ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Vt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,s)=>(e(t,s),!1)))}toString(){const e=[];return this.inorderTraversal(((t,s)=>(e.push(`${t}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new yu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new yu(this.root,e,this.comparator,!1)}getReverseIterator(){return new yu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new yu(this.root,e,this.comparator,!0)}}class yu{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?s(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Vt{constructor(e,t,s,o,u){this.key=e,this.value=t,this.color=s??Vt.RED,this.left=o??Vt.EMPTY,this.right=u??Vt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,u){return new Vt(e??this.key,t??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,s),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Vt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Vt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Vt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Vt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw xe();const e=this.left.check();if(e!==this.right.check())throw xe();return e+(this.isRed()?0:1)}}Vt.EMPTY=null,Vt.RED=!0,Vt.BLACK=!1;Vt.EMPTY=new class{constructor(){this.size=0}get key(){throw xe()}get value(){throw xe()}get color(){throw xe()}get left(){throw xe()}get right(){throw xe()}copy(e,t,s,o,u){return this}insert(e,t,s){return new Vt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.comparator=e,this.data=new ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,s)=>(e(t),!1)))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new gg(this.data.getIterator())}getIteratorFrom(e){return new gg(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((s=>{t=t.add(s)})),t}isEqual(e){if(!(e instanceof Lt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Lt(this.comparator);return t.data=e,t}}class gg{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this.fields=e,e.sort(Mt.comparator)}static empty(){return new Jn([])}unionWith(e){let t=new Lt(Mt.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Jn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return So(this.fields,e.fields,((t,s)=>t.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new ey("Invalid base64 string: "+u):u}})(e);return new jt(t)}static fromUint8Array(e){const t=(function(o){let u="";for(let d=0;d<o.length;++d)u+=String.fromCharCode(o[d]);return u})(e);return new jt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return $e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}jt.EMPTY_BYTE_STRING=new jt("");const dT=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Bi(i){if(qe(!!i),typeof i=="string"){let e=0;const t=dT.exec(i);if(qe(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:pt(i.seconds),nanos:pt(i.nanos)}}function pt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Cs(i){return typeof i=="string"?jt.fromBase64String(i):jt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wh(i){var e,t;return((t=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function qh(i){const e=i.mapValue.fields.__previous_value__;return Wh(e)?qh(e):e}function Va(i){const e=Bi(i.mapValue.fields.__local_write_time__.timestampValue);return new It(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(e,t,s,o,u,d,m,g,w){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=w}}class Ma{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ma("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ma&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vu={mapValue:{}};function Rs(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Wh(i)?4:pT(i)?9007199254740991:fT(i)?10:11:xe()}function yr(i,e){if(i===e)return!0;const t=Rs(i);if(t!==Rs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Va(i).isEqual(Va(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const d=Bi(o.timestampValue),m=Bi(u.timestampValue);return d.seconds===m.seconds&&d.nanos===m.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,u){return Cs(o.bytesValue).isEqual(Cs(u.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,u){return pt(o.geoPointValue.latitude)===pt(u.geoPointValue.latitude)&&pt(o.geoPointValue.longitude)===pt(u.geoPointValue.longitude)})(i,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return pt(o.integerValue)===pt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const d=pt(o.doubleValue),m=pt(u.doubleValue);return d===m?Fu(d)===Fu(m):isNaN(d)&&isNaN(m)}return!1})(i,e);case 9:return So(i.arrayValue.values||[],e.arrayValue.values||[],yr);case 10:case 11:return(function(o,u){const d=o.mapValue.fields||{},m=u.mapValue.fields||{};if(mg(d)!==mg(m))return!1;for(const g in d)if(d.hasOwnProperty(g)&&(m[g]===void 0||!yr(d[g],m[g])))return!1;return!0})(i,e);default:return xe()}}function La(i,e){return(i.values||[]).find((t=>yr(t,e)))!==void 0}function Ao(i,e){if(i===e)return 0;const t=Rs(i),s=Rs(e);if(t!==s)return $e(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return $e(i.booleanValue,e.booleanValue);case 2:return(function(u,d){const m=pt(u.integerValue||u.doubleValue),g=pt(d.integerValue||d.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(i,e);case 3:return yg(i.timestampValue,e.timestampValue);case 4:return yg(Va(i),Va(e));case 5:return $e(i.stringValue,e.stringValue);case 6:return(function(u,d){const m=Cs(u),g=Cs(d);return m.compareTo(g)})(i.bytesValue,e.bytesValue);case 7:return(function(u,d){const m=u.split("/"),g=d.split("/");for(let w=0;w<m.length&&w<g.length;w++){const x=$e(m[w],g[w]);if(x!==0)return x}return $e(m.length,g.length)})(i.referenceValue,e.referenceValue);case 8:return(function(u,d){const m=$e(pt(u.latitude),pt(d.latitude));return m!==0?m:$e(pt(u.longitude),pt(d.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return vg(i.arrayValue,e.arrayValue);case 10:return(function(u,d){var m,g,w,x;const C=u.fields||{},j=d.fields||{},$=(m=C.value)===null||m===void 0?void 0:m.arrayValue,Y=(g=j.value)===null||g===void 0?void 0:g.arrayValue,Z=$e(((w=$==null?void 0:$.values)===null||w===void 0?void 0:w.length)||0,((x=Y==null?void 0:Y.values)===null||x===void 0?void 0:x.length)||0);return Z!==0?Z:vg($,Y)})(i.mapValue,e.mapValue);case 11:return(function(u,d){if(u===vu.mapValue&&d===vu.mapValue)return 0;if(u===vu.mapValue)return 1;if(d===vu.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),w=d.fields||{},x=Object.keys(w);g.sort(),x.sort();for(let C=0;C<g.length&&C<x.length;++C){const j=$e(g[C],x[C]);if(j!==0)return j;const $=Ao(m[g[C]],w[x[C]]);if($!==0)return $}return $e(g.length,x.length)})(i.mapValue,e.mapValue);default:throw xe()}}function yg(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return $e(i,e);const t=Bi(i),s=Bi(e),o=$e(t.seconds,s.seconds);return o!==0?o:$e(t.nanos,s.nanos)}function vg(i,e){const t=i.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const u=Ao(t[o],s[o]);if(u)return u}return $e(t.length,s.length)}function Co(i){return yh(i)}function yh(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(t){const s=Bi(t);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(t){return Cs(t).toBase64()})(i.bytesValue):"referenceValue"in i?(function(t){return me.fromName(t).toString()})(i.referenceValue):"geoPointValue"in i?(function(t){return`geo(${t.latitude},${t.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(t){let s="[",o=!0;for(const u of t.values||[])o?o=!1:s+=",",s+=yh(u);return s+"]"})(i.arrayValue):"mapValue"in i?(function(t){const s=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const d of s)u?u=!1:o+=",",o+=`${d}:${yh(t.fields[d])}`;return o+"}"})(i.mapValue):xe()}function vh(i){return!!i&&"integerValue"in i}function Kh(i){return!!i&&"arrayValue"in i}function _g(i){return!!i&&"nullValue"in i}function wg(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Au(i){return!!i&&"mapValue"in i}function fT(i){var e,t;return((t=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Ca(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Vo(i.mapValue.fields,((t,s)=>e.mapValue.fields[t]=Ca(s))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ca(i.arrayValue.values[t]);return e}return Object.assign({},i)}function pT(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.value=e}static empty(){return new Dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Au(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ca(t)}setAll(e){let t=Mt.emptyPath(),s={},o=[];e.forEach(((d,m)=>{if(!t.isImmediateParentOf(m)){const g=this.getFieldsMap(t);this.applyChanges(g,s,o),s={},o=[],t=m.popLast()}d?s[m.lastSegment()]=Ca(d):o.push(m.lastSegment())}));const u=this.getFieldsMap(t);this.applyChanges(u,s,o)}delete(e){const t=this.field(e.popLast());Au(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return yr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];Au(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){Vo(t,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new Dn(Ca(this.value))}}function ty(i){const e=[];return Vo(i.fields,((t,s)=>{const o=new Mt([t]);if(Au(s)){const u=ty(s.mapValue).fields;if(u.length===0)e.push(o);else for(const d of u)e.push(o.child(d))}else e.push(o)})),new Jn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e,t,s,o,u,d,m){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=u,this.data=d,this.documentState=m}static newInvalidDocument(e){return new qt(e,0,Ie.min(),Ie.min(),Ie.min(),Dn.empty(),0)}static newFoundDocument(e,t,s,o){return new qt(e,1,t,Ie.min(),s,o,0)}static newNoDocument(e,t){return new qt(e,2,t,Ie.min(),Ie.min(),Dn.empty(),0)}static newUnknownDocument(e,t){return new qt(e,3,t,Ie.min(),Ie.min(),Dn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof qt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new qt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e,t){this.position=e,this.inclusive=t}}function Eg(i,e,t){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],d=i.position[o];if(u.field.isKeyField()?s=me.comparator(me.fromName(d.referenceValue),t.key):s=Ao(d,t.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function xg(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!yr(i.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(e,t="asc"){this.field=e,this.dir=t}}function mT(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{}class Tt extends ny{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new yT(e,t,s):t==="array-contains"?new wT(e,s):t==="in"?new ET(e,s):t==="not-in"?new xT(e,s):t==="array-contains-any"?new TT(e,s):new Tt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new vT(e,s):new _T(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Ao(t,this.value)):t!==null&&Rs(this.value)===Rs(t)&&this.matchesComparison(Ao(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class vr extends ny{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new vr(e,t)}matches(e){return ry(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function ry(i){return i.op==="and"}function iy(i){return gT(i)&&ry(i)}function gT(i){for(const e of i.filters)if(e instanceof vr)return!1;return!0}function _h(i){if(i instanceof Tt)return i.field.canonicalString()+i.op.toString()+Co(i.value);if(iy(i))return i.filters.map((e=>_h(e))).join(",");{const e=i.filters.map((t=>_h(t))).join(",");return`${i.op}(${e})`}}function sy(i,e){return i instanceof Tt?(function(s,o){return o instanceof Tt&&s.op===o.op&&s.field.isEqual(o.field)&&yr(s.value,o.value)})(i,e):i instanceof vr?(function(s,o){return o instanceof vr&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,d,m)=>u&&sy(d,o.filters[m])),!0):!1})(i,e):void xe()}function oy(i){return i instanceof Tt?(function(t){return`${t.field.canonicalString()} ${t.op} ${Co(t.value)}`})(i):i instanceof vr?(function(t){return t.op.toString()+" {"+t.getFilters().map(oy).join(" ,")+"}"})(i):"Filter"}class yT extends Tt{constructor(e,t,s){super(e,t,s),this.key=me.fromName(s.referenceValue)}matches(e){const t=me.comparator(e.key,this.key);return this.matchesComparison(t)}}class vT extends Tt{constructor(e,t){super(e,"in",t),this.keys=ay("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class _T extends Tt{constructor(e,t){super(e,"not-in",t),this.keys=ay("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function ay(i,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map((s=>me.fromName(s.referenceValue)))}class wT extends Tt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Kh(t)&&La(t.arrayValue,this.value)}}class ET extends Tt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&La(this.value.arrayValue,t)}}class xT extends Tt{constructor(e,t){super(e,"not-in",t)}matches(e){if(La(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!La(this.value.arrayValue,t)}}class TT extends Tt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Kh(t)||!t.arrayValue.values)&&t.arrayValue.values.some((s=>La(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(e,t=null,s=[],o=[],u=null,d=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=d,this.endAt=m,this.ue=null}}function Tg(i,e=null,t=[],s=[],o=null,u=null,d=null){return new IT(i,e,t,s,o,u,d)}function Gh(i){const e=ke(i);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((s=>_h(s))).join(","),t+="|ob:",t+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Zu(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((s=>Co(s))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((s=>Co(s))).join(",")),e.ue=t}return e.ue}function Qh(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!mT(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!sy(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!xg(i.startAt,e.startAt)&&xg(i.endAt,e.endAt)}function wh(i){return me.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(e,t=null,s=[],o=[],u=null,d="F",m=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=d,this.startAt=m,this.endAt=g,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function kT(i,e,t,s,o,u,d,m){return new ec(i,e,t,s,o,u,d,m)}function Yh(i){return new ec(i)}function Ig(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function ST(i){return i.collectionGroup!==null}function Ra(i){const e=ke(i);if(e.ce===null){e.ce=[];const t=new Set;for(const u of e.explicitOrderBy)e.ce.push(u),t.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let m=new Lt(Mt.comparator);return d.filters.forEach((g=>{g.getFlattenedFilters().forEach((w=>{w.isInequality()&&(m=m.add(w.field))}))})),m})(e).forEach((u=>{t.has(u.canonicalString())||u.isKeyField()||e.ce.push(new zu(u,s))})),t.has(Mt.keyField().canonicalString())||e.ce.push(new zu(Mt.keyField(),s))}return e.ce}function mr(i){const e=ke(i);return e.le||(e.le=AT(e,Ra(i))),e.le}function AT(i,e){if(i.limitType==="F")return Tg(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new zu(o.field,u)}));const t=i.endAt?new Uu(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Uu(i.startAt.position,i.startAt.inclusive):null;return Tg(i.path,i.collectionGroup,e,i.filters,i.limit,t,s)}}function Eh(i,e,t){return new ec(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function tc(i,e){return Qh(mr(i),mr(e))&&i.limitType===e.limitType}function ly(i){return`${Gh(mr(i))}|lt:${i.limitType}`}function po(i){return`Query(target=${(function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map((o=>oy(o))).join(", ")}]`),Zu(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map((o=>Co(o))).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map((o=>Co(o))).join(",")),`Target(${s})`})(mr(i))}; limitType=${i.limitType})`}function nc(i,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):me.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(i,e)&&(function(s,o){for(const u of Ra(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(i,e)&&(function(s,o){return!(s.startAt&&!(function(d,m,g){const w=Eg(d,m,g);return d.inclusive?w<=0:w<0})(s.startAt,Ra(s),o)||s.endAt&&!(function(d,m,g){const w=Eg(d,m,g);return d.inclusive?w>=0:w>0})(s.endAt,Ra(s),o))})(i,e)}function CT(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function uy(i){return(e,t)=>{let s=!1;for(const o of Ra(i)){const u=RT(o,e,t);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function RT(i,e,t){const s=i.field.isKeyField()?me.comparator(e.key,t.key):(function(u,d,m){const g=d.data.field(u),w=m.data.field(u);return g!==null&&w!==null?Ao(g,w):xe()})(i.field,e,t);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return xe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Vo(this.inner,((t,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return Z0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT=new ot(me.comparator);function Gr(){return PT}const cy=new ot(me.comparator);function Ia(...i){let e=cy;for(const t of i)e=e.insert(t.key,t);return e}function dy(i){let e=cy;return i.forEach(((t,s)=>e=e.insert(t,s.overlayedDocument))),e}function Es(){return Pa()}function hy(){return Pa()}function Pa(){return new Mo((i=>i.toString()),((i,e)=>i.isEqual(e)))}const NT=new ot(me.comparator),bT=new Lt(me.comparator);function De(...i){let e=bT;for(const t of i)e=e.add(t);return e}const DT=new Lt($e);function OT(){return DT}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xh(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fu(e)?"-0":e}}function fy(i){return{integerValue:""+i}}function VT(i,e){return cT(e)?fy(e):Xh(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(){this._=void 0}}function MT(i,e,t){return i instanceof Bu?(function(o,u){const d={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Wh(u)&&(u=qh(u)),u&&(d.fields.__previous_value__=u),{mapValue:d}})(t,e):i instanceof ja?my(i,e):i instanceof Fa?gy(i,e):(function(o,u){const d=py(o,u),m=kg(d)+kg(o.Pe);return vh(d)&&vh(o.Pe)?fy(m):Xh(o.serializer,m)})(i,e)}function LT(i,e,t){return i instanceof ja?my(i,e):i instanceof Fa?gy(i,e):t}function py(i,e){return i instanceof $u?(function(s){return vh(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Bu extends rc{}class ja extends rc{constructor(e){super(),this.elements=e}}function my(i,e){const t=yy(e);for(const s of i.elements)t.some((o=>yr(o,s)))||t.push(s);return{arrayValue:{values:t}}}class Fa extends rc{constructor(e){super(),this.elements=e}}function gy(i,e){let t=yy(e);for(const s of i.elements)t=t.filter((o=>!yr(o,s)));return{arrayValue:{values:t}}}class $u extends rc{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function kg(i){return pt(i.integerValue||i.doubleValue)}function yy(i){return Kh(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function jT(i,e){return i.field.isEqual(e.field)&&(function(s,o){return s instanceof ja&&o instanceof ja||s instanceof Fa&&o instanceof Fa?So(s.elements,o.elements,yr):s instanceof $u&&o instanceof $u?yr(s.Pe,o.Pe):s instanceof Bu&&o instanceof Bu})(i.transform,e.transform)}class FT{constructor(e,t){this.version=e,this.transformResults=t}}class Hr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Hr}static exists(e){return new Hr(void 0,e)}static updateTime(e){return new Hr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Cu(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class ic{}function vy(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new wy(i.key,Hr.none()):new Qa(i.key,i.data,Hr.none());{const t=i.data,s=Dn.empty();let o=new Lt(Mt.comparator);for(let u of e.fields)if(!o.has(u)){let d=t.field(u);d===null&&u.length>1&&(u=u.popLast(),d=t.field(u)),d===null?s.delete(u):s.set(u,d),o=o.add(u)}return new Ns(i.key,s,new Jn(o.toArray()),Hr.none())}}function UT(i,e,t){i instanceof Qa?(function(o,u,d){const m=o.value.clone(),g=Ag(o.fieldTransforms,u,d.transformResults);m.setAll(g),u.convertToFoundDocument(d.version,m).setHasCommittedMutations()})(i,e,t):i instanceof Ns?(function(o,u,d){if(!Cu(o.precondition,u))return void u.convertToUnknownDocument(d.version);const m=Ag(o.fieldTransforms,u,d.transformResults),g=u.data;g.setAll(_y(o)),g.setAll(m),u.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(i,e,t):(function(o,u,d){u.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,t)}function Na(i,e,t,s){return i instanceof Qa?(function(u,d,m,g){if(!Cu(u.precondition,d))return m;const w=u.value.clone(),x=Cg(u.fieldTransforms,g,d);return w.setAll(x),d.convertToFoundDocument(d.version,w).setHasLocalMutations(),null})(i,e,t,s):i instanceof Ns?(function(u,d,m,g){if(!Cu(u.precondition,d))return m;const w=Cg(u.fieldTransforms,g,d),x=d.data;return x.setAll(_y(u)),x.setAll(w),d.convertToFoundDocument(d.version,x).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((C=>C.field)))})(i,e,t,s):(function(u,d,m){return Cu(u.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):m})(i,e,t)}function zT(i,e){let t=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=py(s.transform,o||null);u!=null&&(t===null&&(t=Dn.empty()),t.set(s.field,u))}return t||null}function Sg(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&So(s,o,((u,d)=>jT(u,d)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Qa extends ic{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ns extends ic{constructor(e,t,s,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function _y(i){const e=new Map;return i.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const s=i.data.field(t);e.set(t,s)}})),e}function Ag(i,e,t){const s=new Map;qe(i.length===t.length);for(let o=0;o<t.length;o++){const u=i[o],d=u.transform,m=e.data.field(u.field);s.set(u.field,LT(d,m,t[o]))}return s}function Cg(i,e,t){const s=new Map;for(const o of i){const u=o.transform,d=t.data.field(o.field);s.set(o.field,MT(u,d,e))}return s}class wy extends ic{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class BT extends ic{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&UT(u,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Na(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Na(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=hy();return this.mutations.forEach((o=>{const u=e.get(o.key),d=u.overlayedDocument;let m=this.applyToLocalView(d,u.mutatedFields);m=t.has(o.key)?null:m;const g=vy(d,m);g!==null&&s.set(o.key,g),d.isValidDocument()||d.convertToNoDocument(Ie.min())})),s}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),De())}isEqual(e){return this.batchId===e.batchId&&So(this.mutations,e.mutations,((t,s)=>Sg(t,s)))&&So(this.baseMutations,e.baseMutations,((t,s)=>Sg(t,s)))}}class Jh{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){qe(e.mutations.length===s.length);let o=(function(){return NT})();const u=e.mutations;for(let d=0;d<u.length;d++)o=o.insert(u[d].key,s[d].version);return new Jh(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vt,je;function qT(i){switch(i){default:return xe();case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0}}function Ey(i){if(i===void 0)return Kr("GRPC error has no .code"),X.UNKNOWN;switch(i){case vt.OK:return X.OK;case vt.CANCELLED:return X.CANCELLED;case vt.UNKNOWN:return X.UNKNOWN;case vt.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case vt.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case vt.INTERNAL:return X.INTERNAL;case vt.UNAVAILABLE:return X.UNAVAILABLE;case vt.UNAUTHENTICATED:return X.UNAUTHENTICATED;case vt.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case vt.NOT_FOUND:return X.NOT_FOUND;case vt.ALREADY_EXISTS:return X.ALREADY_EXISTS;case vt.PERMISSION_DENIED:return X.PERMISSION_DENIED;case vt.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case vt.ABORTED:return X.ABORTED;case vt.OUT_OF_RANGE:return X.OUT_OF_RANGE;case vt.UNIMPLEMENTED:return X.UNIMPLEMENTED;case vt.DATA_LOSS:return X.DATA_LOSS;default:return xe()}}(je=vt||(vt={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KT(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT=new xs([4294967295,4294967295],0);function Rg(i){const e=KT().encode(i),t=new W0;return t.update(e),new Uint8Array(t.digest())}function Pg(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new xs([t,s],0),new xs([o,u],0)]}class Zh{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new ka(`Invalid padding: ${t}`);if(s<0)throw new ka(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new ka(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new ka(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=xs.fromNumber(this.Ie)}Ee(e,t,s){let o=e.add(t.multiply(xs.fromNumber(s)));return o.compare(GT)===1&&(o=new xs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const t=Rg(e),[s,o]=Pg(t);for(let u=0;u<this.hashCount;u++){const d=this.Ee(s,o,u);if(!this.de(d))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),d=new Zh(u,o,t);return s.forEach((m=>d.insert(m))),d}insert(e){if(this.Ie===0)return;const t=Rg(e),[s,o]=Pg(t);for(let u=0;u<this.hashCount;u++){const d=this.Ee(s,o,u);this.Ae(d)}}Ae(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class ka extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e,t,s,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,Ya.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new sc(Ie.min(),o,new ot($e),Gr(),De())}}class Ya{constructor(e,t,s,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Ya(s,t,De(),De(),De())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(e,t,s,o){this.Re=e,this.removedTargetIds=t,this.key=s,this.Ve=o}}class xy{constructor(e,t){this.targetId=e,this.me=t}}class Ty{constructor(e,t,s=jt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class Ng{constructor(){this.fe=0,this.ge=Dg(),this.pe=jt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=De(),t=De(),s=De();return this.ge.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:xe()}})),new Ya(this.pe,this.ye,e,t,s)}Ce(){this.we=!1,this.ge=Dg()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,qe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class QT{constructor(e){this.Le=e,this.Be=new Map,this.ke=Gr(),this.qe=bg(),this.Qe=new ot($e)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,(t=>{const s=this.Ge(t);switch(e.state){case 0:this.ze(t)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.Ce(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),s.De(e.resumeToken));break;default:xe()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach(((s,o)=>{this.ze(o)&&t(o)}))}He(e){const t=e.targetId,s=e.me.count,o=this.Je(t);if(o){const u=o.target;if(wh(u))if(s===0){const d=new me(u.path);this.Ue(t,d,qt.newNoDocument(d,Ie.min()))}else qe(s===1);else{const d=this.Ye(t);if(d!==s){const m=this.Ze(e),g=m?this.Xe(m,e,d):1;if(g!==0){this.je(t);const w=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,w)}}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=t;let d,m;try{d=Cs(s).toUint8Array()}catch(g){if(g instanceof ey)return ko("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new Zh(d,o,u)}catch(g){return ko(g instanceof ka?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.Ie===0?null:m}Xe(e,t,s){return t.me.count===s-this.nt(e,t.targetId)?0:2}nt(e,t){const s=this.Le.getRemoteKeysForTarget(t);let o=0;return s.forEach((u=>{const d=this.Le.tt(),m=`projects/${d.projectId}/databases/${d.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.Ue(t,u,null),o++)})),o}rt(e){const t=new Map;this.Be.forEach(((u,d)=>{const m=this.Je(d);if(m){if(u.current&&wh(m.target)){const g=new me(m.target.path);this.ke.get(g)!==null||this.it(d,g)||this.Ue(d,g,qt.newNoDocument(g,e))}u.be&&(t.set(d,u.ve()),u.Ce())}}));let s=De();this.qe.forEach(((u,d)=>{let m=!0;d.forEachWhile((g=>{const w=this.Je(g);return!w||w.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.ke.forEach(((u,d)=>d.setReadTime(e)));const o=new sc(e,t,this.Qe,this.ke,s);return this.ke=Gr(),this.qe=bg(),this.Qe=new ot($e),o}$e(e,t){if(!this.ze(e))return;const s=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,s),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,s){if(!this.ze(e))return;const o=this.Ge(e);this.it(e,t)?o.Fe(t,1):o.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),s&&(this.ke=this.ke.insert(t,s))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new Ng,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Lt($e),this.qe=this.qe.insert(e,t)),t}ze(e){const t=this.Je(e)!==null;return t||ae("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Ng),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.Ue(e,t,null)}))}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function bg(){return new ot(me.comparator)}function Dg(){return new ot(me.comparator)}const YT={asc:"ASCENDING",desc:"DESCENDING"},XT={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},JT={and:"AND",or:"OR"};class ZT{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function xh(i,e){return i.useProto3Json||Zu(e)?e:{value:e}}function Hu(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Iy(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function eI(i,e){return Hu(i,e.toTimestamp())}function gr(i){return qe(!!i),Ie.fromTimestamp((function(t){const s=Bi(t);return new It(s.seconds,s.nanos)})(i))}function ef(i,e){return Th(i,e).canonicalString()}function Th(i,e){const t=(function(o){return new ct(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?t:t.child(e)}function ky(i){const e=ct.fromString(i);return qe(Py(e)),e}function Ih(i,e){return ef(i.databaseId,e.path)}function Zd(i,e){const t=ky(e);if(t.get(1)!==i.databaseId.projectId)throw new pe(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new pe(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new me(Ay(t))}function Sy(i,e){return ef(i.databaseId,e)}function tI(i){const e=ky(i);return e.length===4?ct.emptyPath():Ay(e)}function kh(i){return new ct(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Ay(i){return qe(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function Og(i,e,t){return{name:Ih(i,e),fields:t.value.mapValue.fields}}function nI(i,e){let t;if("targetChange"in e){e.targetChange;const s=(function(w){return w==="NO_CHANGE"?0:w==="ADD"?1:w==="REMOVE"?2:w==="CURRENT"?3:w==="RESET"?4:xe()})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(w,x){return w.useProto3Json?(qe(x===void 0||typeof x=="string"),jt.fromBase64String(x||"")):(qe(x===void 0||x instanceof Buffer||x instanceof Uint8Array),jt.fromUint8Array(x||new Uint8Array))})(i,e.targetChange.resumeToken),d=e.targetChange.cause,m=d&&(function(w){const x=w.code===void 0?X.UNKNOWN:Ey(w.code);return new pe(x,w.message||"")})(d);t=new Ty(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Zd(i,s.document.name),u=gr(s.document.updateTime),d=s.document.createTime?gr(s.document.createTime):Ie.min(),m=new Dn({mapValue:{fields:s.document.fields}}),g=qt.newFoundDocument(o,u,d,m),w=s.targetIds||[],x=s.removedTargetIds||[];t=new Ru(w,x,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Zd(i,s.document),u=s.readTime?gr(s.readTime):Ie.min(),d=qt.newNoDocument(o,u),m=s.removedTargetIds||[];t=new Ru([],m,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Zd(i,s.document),u=s.removedTargetIds||[];t=new Ru([],u,o,null)}else{if(!("filter"in e))return xe();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,d=new WT(o,u),m=s.targetId;t=new xy(m,d)}}return t}function rI(i,e){let t;if(e instanceof Qa)t={update:Og(i,e.key,e.value)};else if(e instanceof wy)t={delete:Ih(i,e.key)};else if(e instanceof Ns)t={update:Og(i,e.key,e.data),updateMask:hI(e.fieldMask)};else{if(!(e instanceof BT))return xe();t={verify:Ih(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((s=>(function(u,d){const m=d.transform;if(m instanceof Bu)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof ja)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Fa)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof $u)return{fieldPath:d.field.canonicalString(),increment:m.Pe};throw xe()})(0,s)))),e.precondition.isNone||(t.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:eI(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:xe()})(i,e.precondition)),t}function iI(i,e){return i&&i.length>0?(qe(e!==void 0),i.map((t=>(function(o,u){let d=o.updateTime?gr(o.updateTime):gr(u);return d.isEqual(Ie.min())&&(d=gr(u)),new FT(d,o.transformResults||[])})(t,e)))):[]}function sI(i,e){return{documents:[Sy(i,e.path)]}}function oI(i,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=Sy(i,o);const u=(function(w){if(w.length!==0)return Ry(vr.create(w,"and"))})(e.filters);u&&(t.structuredQuery.where=u);const d=(function(w){if(w.length!==0)return w.map((x=>(function(j){return{field:mo(j.field),direction:uI(j.dir)}})(x)))})(e.orderBy);d&&(t.structuredQuery.orderBy=d);const m=xh(i,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=(function(w){return{before:w.inclusive,values:w.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(w){return{before:!w.inclusive,values:w.position}})(e.endAt)),{_t:t,parent:o}}function aI(i){let e=tI(i.parent);const t=i.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){qe(s===1);const x=t.from[0];x.allDescendants?o=x.collectionId:e=e.child(x.collectionId)}let u=[];t.where&&(u=(function(C){const j=Cy(C);return j instanceof vr&&iy(j)?j.getFilters():[j]})(t.where));let d=[];t.orderBy&&(d=(function(C){return C.map((j=>(function(Y){return new zu(go(Y.field),(function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Y.direction))})(j)))})(t.orderBy));let m=null;t.limit&&(m=(function(C){let j;return j=typeof C=="object"?C.value:C,Zu(j)?null:j})(t.limit));let g=null;t.startAt&&(g=(function(C){const j=!!C.before,$=C.values||[];return new Uu($,j)})(t.startAt));let w=null;return t.endAt&&(w=(function(C){const j=!C.before,$=C.values||[];return new Uu($,j)})(t.endAt)),kT(e,o,d,u,m,"F",g,w)}function lI(i,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe()}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Cy(i){return i.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=go(t.unaryFilter.field);return Tt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=go(t.unaryFilter.field);return Tt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=go(t.unaryFilter.field);return Tt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=go(t.unaryFilter.field);return Tt.create(d,"!=",{nullValue:"NULL_VALUE"});default:return xe()}})(i):i.fieldFilter!==void 0?(function(t){return Tt.create(go(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return xe()}})(t.fieldFilter.op),t.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(t){return vr.create(t.compositeFilter.filters.map((s=>Cy(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return xe()}})(t.compositeFilter.op))})(i):xe()}function uI(i){return YT[i]}function cI(i){return XT[i]}function dI(i){return JT[i]}function mo(i){return{fieldPath:i.canonicalString()}}function go(i){return Mt.fromServerFormat(i.fieldPath)}function Ry(i){return i instanceof Tt?(function(t){if(t.op==="=="){if(wg(t.value))return{unaryFilter:{field:mo(t.field),op:"IS_NAN"}};if(_g(t.value))return{unaryFilter:{field:mo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(wg(t.value))return{unaryFilter:{field:mo(t.field),op:"IS_NOT_NAN"}};if(_g(t.value))return{unaryFilter:{field:mo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:mo(t.field),op:cI(t.op),value:t.value}}})(i):i instanceof vr?(function(t){const s=t.getFilters().map((o=>Ry(o)));return s.length===1?s[0]:{compositeFilter:{op:dI(t.op),filters:s}}})(i):xe()}function hI(i){const e=[];return i.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function Py(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(e,t,s,o,u=Ie.min(),d=Ie.min(),m=jt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new Li(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Li(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Li(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Li(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(e){this.ct=e}}function pI(i){const e=aI({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Eh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(){this.un=new gI}addToCollectionParentIndex(e,t){return this.un.add(t),G.resolve()}getCollectionParents(e,t){return G.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return G.resolve()}deleteFieldIndex(e,t){return G.resolve()}deleteAllFieldIndexes(e){return G.resolve()}createTargetIndexes(e,t){return G.resolve()}getDocumentsMatchingTarget(e,t){return G.resolve(null)}getIndexType(e,t){return G.resolve(0)}getFieldIndexes(e,t){return G.resolve([])}getNextCollectionGroupToUpdate(e){return G.resolve(null)}getMinOffset(e,t){return G.resolve(zi.min())}getMinOffsetFromCollectionGroup(e,t){return G.resolve(zi.min())}updateCollectionGroup(e,t,s){return G.resolve()}updateIndexEntries(e,t){return G.resolve()}}class gI{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new Lt(ct.comparator),u=!o.has(s);return this.index[t]=o.add(s),u}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Lt(ct.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Ro(0)}static kn(){return new Ro(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(){this.changes=new Mo((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,qt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?G.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(s!==null&&Na(s.mutation,o,Jn.empty(),It.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.getLocalViewOfDocuments(e,s,De()).next((()=>s))))}getLocalViewOfDocuments(e,t,s=De()){const o=Es();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,s).next((u=>{let d=Ia();return u.forEach(((m,g)=>{d=d.insert(m,g.overlayedDocument)})),d}))))}getOverlayedDocuments(e,t){const s=Es();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,De())))}populateOverlays(e,t,s){const o=[];return s.forEach((u=>{t.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((d,m)=>{t.set(d,m)}))}))}computeViews(e,t,s,o){let u=Gr();const d=Pa(),m=(function(){return Pa()})();return t.forEach(((g,w)=>{const x=s.get(w.key);o.has(w.key)&&(x===void 0||x.mutation instanceof Ns)?u=u.insert(w.key,w):x!==void 0?(d.set(w.key,x.mutation.getFieldMask()),Na(x.mutation,w,x.mutation.getFieldMask(),It.now())):d.set(w.key,Jn.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((w,x)=>d.set(w,x))),t.forEach(((w,x)=>{var C;return m.set(w,new vI(x,(C=d.get(w))!==null&&C!==void 0?C:null))})),m)))}recalculateAndSaveOverlays(e,t){const s=Pa();let o=new ot(((d,m)=>d-m)),u=De();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((d=>{for(const m of d)m.keys().forEach((g=>{const w=t.get(g);if(w===null)return;let x=s.get(g)||Jn.empty();x=m.applyToLocalView(w,x),s.set(g,x);const C=(o.get(m.batchId)||De()).add(g);o=o.insert(m.batchId,C)}))})).next((()=>{const d=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),w=g.key,x=g.value,C=hy();x.forEach((j=>{if(!u.has(j)){const $=vy(t.get(j),s.get(j));$!==null&&C.set(j,$),u=u.add(j)}})),d.push(this.documentOverlayCache.saveOverlays(e,w,C))}return G.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,t,s,o){return(function(d){return me.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):ST(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next((u=>{const d=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-u.size):G.resolve(Es());let m=-1,g=u;return d.next((w=>G.forEach(w,((x,C)=>(m<C.largestBatchId&&(m=C.largestBatchId),u.get(x)?G.resolve():this.remoteDocumentCache.getEntry(e,x).next((j=>{g=g.insert(x,j)}))))).next((()=>this.populateOverlays(e,w,u))).next((()=>this.computeViews(e,g,w,De()))).next((x=>({batchId:m,changes:dy(x)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new me(t)).next((s=>{let o=Ia();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const u=t.collectionGroup;let d=Ia();return this.indexManager.getCollectionParents(e,u).next((m=>G.forEach(m,(g=>{const w=(function(C,j){return new ec(j,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt)})(t,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,w,s,o).next((x=>{x.forEach(((C,j)=>{d=d.insert(C,j)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,t,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next((d=>(u=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,u,o)))).next((d=>{u.forEach(((g,w)=>{const x=w.getKey();d.get(x)===null&&(d=d.insert(x,qt.newInvalidDocument(x)))}));let m=Ia();return d.forEach(((g,w)=>{const x=u.get(g);x!==void 0&&Na(x.mutation,w,Jn.empty(),It.now()),nc(t,w)&&(m=m.insert(g,w))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return G.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:gr(o.createTime)}})(t)),G.resolve()}getNamedQuery(e,t){return G.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,(function(o){return{name:o.name,query:pI(o.bundledQuery),readTime:gr(o.readTime)}})(t)),G.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(){this.overlays=new ot(me.comparator),this.Ir=new Map}getOverlay(e,t){return G.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Es();return G.forEach(t,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,t,s){return s.forEach(((o,u)=>{this.ht(e,t,u)})),G.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.Ir.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Ir.delete(s)),G.resolve()}getOverlaysForCollection(e,t,s){const o=Es(),u=t.length+1,d=new me(t.child("")),m=this.overlays.getIteratorFrom(d);for(;m.hasNext();){const g=m.getNext().value,w=g.getKey();if(!t.isPrefixOf(w.path))break;w.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return G.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let u=new ot(((w,x)=>w-x));const d=this.overlays.getIterator();for(;d.hasNext();){const w=d.getNext().value;if(w.getKey().getCollectionGroup()===t&&w.largestBatchId>s){let x=u.get(w.largestBatchId);x===null&&(x=Es(),u=u.insert(w.largestBatchId,x)),x.set(w.getKey(),w)}}const m=Es(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((w,x)=>m.set(w,x))),!(m.size()>=o)););return G.resolve(m)}ht(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.Ir.get(o.largestBatchId).delete(s.key);this.Ir.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new HT(t,s));let u=this.Ir.get(t);u===void 0&&(u=De(),this.Ir.set(t,u)),this.Ir.set(t,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(){this.sessionToken=jt.EMPTY_BYTE_STRING}getSessionToken(e){return G.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,G.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(){this.Tr=new Lt(Pt.Er),this.dr=new Lt(Pt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const s=new Pt(e,t);this.Tr=this.Tr.add(s),this.dr=this.dr.add(s)}Rr(e,t){e.forEach((s=>this.addReference(s,t)))}removeReference(e,t){this.Vr(new Pt(e,t))}mr(e,t){e.forEach((s=>this.removeReference(s,t)))}gr(e){const t=new me(new ct([])),s=new Pt(t,e),o=new Pt(t,e+1),u=[];return this.dr.forEachInRange([s,o],(d=>{this.Vr(d),u.push(d.key)})),u}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new me(new ct([])),s=new Pt(t,e),o=new Pt(t,e+1);let u=De();return this.dr.forEachInRange([s,o],(d=>{u=u.add(d.key)})),u}containsKey(e){const t=new Pt(e,0),s=this.Tr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Pt{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return me.comparator(e.key,t.key)||$e(e.wr,t.wr)}static Ar(e,t){return $e(e.wr,t.wr)||me.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new Lt(Pt.Er)}checkEmpty(e){return G.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const u=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new $T(u,t,s,o);this.mutationQueue.push(d);for(const m of o)this.br=this.br.add(new Pt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return G.resolve(d)}lookupMutationBatch(e,t){return G.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.vr(s),u=o<0?0:o;return G.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return G.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return G.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Pt(t,0),o=new Pt(t,Number.POSITIVE_INFINITY),u=[];return this.br.forEachInRange([s,o],(d=>{const m=this.Dr(d.wr);u.push(m)})),G.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Lt($e);return t.forEach((o=>{const u=new Pt(o,0),d=new Pt(o,Number.POSITIVE_INFINITY);this.br.forEachInRange([u,d],(m=>{s=s.add(m.wr)}))})),G.resolve(this.Cr(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let u=s;me.isDocumentKey(u)||(u=u.child(""));const d=new Pt(new me(u),0);let m=new Lt($e);return this.br.forEachWhile((g=>{const w=g.key.path;return!!s.isPrefixOf(w)&&(w.length===o&&(m=m.add(g.wr)),!0)}),d),G.resolve(this.Cr(m))}Cr(e){const t=[];return e.forEach((s=>{const o=this.Dr(s);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){qe(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let s=this.br;return G.forEach(t.mutations,(o=>{const u=new Pt(o.key,t.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.br=s}))}On(e){}containsKey(e,t){const s=new Pt(t,0),o=this.br.firstAfterOrEqual(s);return G.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,G.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(e){this.Mr=e,this.docs=(function(){return new ot(me.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),u=o?o.size:0,d=this.Mr(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return G.resolve(s?s.document.mutableCopy():qt.newInvalidDocument(t))}getEntries(e,t){let s=Gr();return t.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():qt.newInvalidDocument(o))})),G.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let u=Gr();const d=t.path,m=new me(d.child("")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:w,value:{document:x}}=g.getNext();if(!d.isPrefixOf(w.path))break;w.path.length>d.length+1||oT(sT(x),s)<=0||(o.has(x.key)||nc(t,x))&&(u=u.insert(x.key,x.mutableCopy()))}return G.resolve(u)}getAllFromCollectionGroup(e,t,s,o){xe()}Or(e,t){return G.forEach(this.docs,(s=>t(s)))}newChangeBuffer(e){return new kI(this)}getSize(e){return G.resolve(this.size)}}class kI extends yI{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?t.push(this.cr.addEntry(e,o)):this.cr.removeEntry(s)})),G.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(e){this.persistence=e,this.Nr=new Mo((t=>Gh(t)),Qh),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.Lr=0,this.Br=new tf,this.targetCount=0,this.kr=Ro.Bn()}forEachTarget(e,t){return this.Nr.forEach(((s,o)=>t(o))),G.resolve()}getLastRemoteSnapshotVersion(e){return G.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return G.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),G.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.Lr&&(this.Lr=t),G.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new Ro(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,G.resolve()}updateTargetData(e,t){return this.Kn(t),G.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,G.resolve()}removeTargets(e,t,s){let o=0;const u=[];return this.Nr.forEach(((d,m)=>{m.sequenceNumber<=t&&s.get(m.targetId)===null&&(this.Nr.delete(d),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),G.waitFor(u).next((()=>o))}getTargetCount(e){return G.resolve(this.targetCount)}getTargetData(e,t){const s=this.Nr.get(t)||null;return G.resolve(s)}addMatchingKeys(e,t,s){return this.Br.Rr(t,s),G.resolve()}removeMatchingKeys(e,t,s){this.Br.mr(t,s);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach((d=>{u.push(o.markPotentiallyOrphaned(e,d))})),G.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),G.resolve()}getMatchingKeysForTargetId(e,t){const s=this.Br.yr(t);return G.resolve(s)}containsKey(e,t){return G.resolve(this.Br.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(e,t){this.qr={},this.overlays={},this.Qr=new Hh(0),this.Kr=!1,this.Kr=!0,this.$r=new xI,this.referenceDelegate=e(this),this.Ur=new SI(this),this.indexManager=new mI,this.remoteDocumentCache=(function(o){return new II(o)})((s=>this.referenceDelegate.Wr(s))),this.serializer=new fI(t),this.Gr=new wI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new EI,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.qr[e.toKey()];return s||(s=new TI(t,this.referenceDelegate),this.qr[e.toKey()]=s),s}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,s){ae("MemoryPersistence","Starting transaction:",e);const o=new CI(this.Qr.next());return this.referenceDelegate.zr(),s(o).next((u=>this.referenceDelegate.jr(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Hr(e,t){return G.or(Object.values(this.qr).map((s=>()=>s.containsKey(e,t))))}}class CI extends lT{constructor(e){super(),this.currentSequenceNumber=e}}class nf{constructor(e){this.persistence=e,this.Jr=new tf,this.Yr=null}static Zr(e){return new nf(e)}get Xr(){if(this.Yr)return this.Yr;throw xe()}addReference(e,t,s){return this.Jr.addReference(s,t),this.Xr.delete(s.toString()),G.resolve()}removeReference(e,t,s){return this.Jr.removeReference(s,t),this.Xr.add(s.toString()),G.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),G.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach((o=>this.Xr.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((u=>this.Xr.add(u.toString())))})).next((()=>s.removeTargetData(e,t)))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return G.forEach(this.Xr,(s=>{const o=me.fromPath(s);return this.ei(e,o).next((u=>{u||t.removeEntry(o,Ie.min())}))})).next((()=>(this.Yr=null,t.apply(e))))}updateLimboDocument(e,t){return this.ei(e,t).next((s=>{s?this.Xr.delete(t.toString()):this.Xr.add(t.toString())}))}Wr(e){return 0}ei(e,t){return G.or([()=>G.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.$i=s,this.Ui=o}static Wi(e,t){let s=De(),o=De();for(const u of t.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new rf(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return mw()?8:uT(Kt())>0?6:4})()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,s,o){const u={result:null};return this.Yi(e,t).next((d=>{u.result=d})).next((()=>{if(!u.result)return this.Zi(e,t,o,s).next((d=>{u.result=d}))})).next((()=>{if(u.result)return;const d=new RI;return this.Xi(e,t,d).next((m=>{if(u.result=m,this.zi)return this.es(e,t,d,m.size)}))})).next((()=>u.result))}es(e,t,s,o){return s.documentReadCount<this.ji?(wa()<=Me.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",po(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),G.resolve()):(wa()<=Me.DEBUG&&ae("QueryEngine","Query:",po(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.Hi*o?(wa()<=Me.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",po(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,mr(t))):G.resolve())}Yi(e,t){if(Ig(t))return G.resolve(null);let s=mr(t);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=Eh(t,null,"F"),s=mr(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const d=De(...u);return this.Ji.getDocuments(e,d).next((m=>this.indexManager.getMinOffset(e,s).next((g=>{const w=this.ts(t,m);return this.ns(t,w,d,g.readTime)?this.Yi(e,Eh(t,null,"F")):this.rs(e,w,t,g)}))))})))))}Zi(e,t,s,o){return Ig(t)||o.isEqual(Ie.min())?G.resolve(null):this.Ji.getDocuments(e,s).next((u=>{const d=this.ts(t,u);return this.ns(t,d,s,o)?G.resolve(null):(wa()<=Me.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),po(t)),this.rs(e,d,t,iT(o,-1)).next((m=>m)))}))}ts(e,t){let s=new Lt(uy(e));return t.forEach(((o,u)=>{nc(e,u)&&(s=s.add(u))})),s}ns(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Xi(e,t,s){return wa()<=Me.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",po(t)),this.Ji.getDocumentsMatchingQuery(e,t,zi.min(),s)}rs(e,t,s,o){return this.Ji.getDocumentsMatchingQuery(e,s,o).next((u=>(t.forEach((d=>{u=u.insert(d.key,d)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(e,t,s,o){this.persistence=e,this.ss=t,this.serializer=o,this.os=new ot($e),this._s=new Mo((u=>Gh(u)),Qh),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(s)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _I(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.os)))}}function bI(i,e,t,s){return new NI(i,e,t,s)}async function Ny(i,e){const t=ke(i);return await t.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,t.ls(e),t.mutationQueue.getAllMutationBatches(s)))).next((u=>{const d=[],m=[];let g=De();for(const w of o){d.push(w.batchId);for(const x of w.mutations)g=g.add(x.key)}for(const w of u){m.push(w.batchId);for(const x of w.mutations)g=g.add(x.key)}return t.localDocuments.getDocuments(s,g).next((w=>({hs:w,removedBatchIds:d,addedBatchIds:m})))}))}))}function DI(i,e){const t=ke(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=t.cs.newChangeBuffer({trackRemovals:!0});return(function(m,g,w,x){const C=w.batch,j=C.keys();let $=G.resolve();return j.forEach((Y=>{$=$.next((()=>x.getEntry(g,Y))).next((Z=>{const q=w.docVersions.get(Y);qe(q!==null),Z.version.compareTo(q)<0&&(C.applyToRemoteDocument(Z,w),Z.isValidDocument()&&(Z.setReadTime(w.commitVersion),x.addEntry(Z)))}))})),$.next((()=>m.mutationQueue.removeMutationBatch(g,C)))})(t,s,e,u).next((()=>u.apply(s))).next((()=>t.mutationQueue.performConsistencyCheck(s))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let g=De();for(let w=0;w<m.mutationResults.length;++w)m.mutationResults[w].transformResults.length>0&&(g=g.add(m.batch.mutations[w].key));return g})(e)))).next((()=>t.localDocuments.getDocuments(s,o)))}))}function by(i){const e=ke(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Ur.getLastRemoteSnapshotVersion(t)))}function OI(i,e){const t=ke(i),s=e.snapshotVersion;let o=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const d=t.cs.newChangeBuffer({trackRemovals:!0});o=t.os;const m=[];e.targetChanges.forEach(((x,C)=>{const j=o.get(C);if(!j)return;m.push(t.Ur.removeMatchingKeys(u,x.removedDocuments,C).next((()=>t.Ur.addMatchingKeys(u,x.addedDocuments,C))));let $=j.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(C)!==null?$=$.withResumeToken(jt.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):x.resumeToken.approximateByteSize()>0&&($=$.withResumeToken(x.resumeToken,s)),o=o.insert(C,$),(function(Z,q,ye){return Z.resumeToken.approximateByteSize()===0||q.snapshotVersion.toMicroseconds()-Z.snapshotVersion.toMicroseconds()>=3e8?!0:ye.addedDocuments.size+ye.modifiedDocuments.size+ye.removedDocuments.size>0})(j,$,x)&&m.push(t.Ur.updateTargetData(u,$))}));let g=Gr(),w=De();if(e.documentUpdates.forEach((x=>{e.resolvedLimboDocuments.has(x)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,x))})),m.push(VI(u,d,e.documentUpdates).next((x=>{g=x.Ps,w=x.Is}))),!s.isEqual(Ie.min())){const x=t.Ur.getLastRemoteSnapshotVersion(u).next((C=>t.Ur.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(x)}return G.waitFor(m).next((()=>d.apply(u))).next((()=>t.localDocuments.getLocalViewOfDocuments(u,g,w))).next((()=>g))})).then((u=>(t.os=o,u)))}function VI(i,e,t){let s=De(),o=De();return t.forEach((u=>s=s.add(u))),e.getEntries(i,s).next((u=>{let d=Gr();return t.forEach(((m,g)=>{const w=u.get(m);g.isFoundDocument()!==w.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(Ie.min())?(e.removeEntry(m,g.readTime),d=d.insert(m,g)):!w.isValidDocument()||g.version.compareTo(w.version)>0||g.version.compareTo(w.version)===0&&w.hasPendingWrites?(e.addEntry(g),d=d.insert(m,g)):ae("LocalStore","Ignoring outdated watch update for ",m,". Current version:",w.version," Watch version:",g.version)})),{Ps:d,Is:o}}))}function MI(i,e){const t=ke(i);return t.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function LI(i,e){const t=ke(i);return t.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return t.Ur.getTargetData(s,e).next((u=>u?(o=u,G.resolve(o)):t.Ur.allocateTargetId(s).next((d=>(o=new Li(e,d,"TargetPurposeListen",s.currentSequenceNumber),t.Ur.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=t.os.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.os=t.os.insert(s.targetId,s),t._s.set(e,s.targetId)),s}))}async function Sh(i,e,t){const s=ke(i),o=s.os.get(e),u=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",u,(d=>s.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Ga(d))throw d;ae("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}s.os=s.os.remove(e),s._s.delete(o.target)}function Vg(i,e,t){const s=ke(i);let o=Ie.min(),u=De();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(g,w,x){const C=ke(g),j=C._s.get(x);return j!==void 0?G.resolve(C.os.get(j)):C.Ur.getTargetData(w,x)})(s,d,mr(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Ur.getMatchingKeysForTargetId(d,m.targetId).next((g=>{u=g}))})).next((()=>s.ss.getDocumentsMatchingQuery(d,e,t?o:Ie.min(),t?u:De()))).next((m=>(jI(s,CT(e),m),{documents:m,Ts:u})))))}function jI(i,e,t){let s=i.us.get(e)||Ie.min();t.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),i.us.set(e,s)}class Mg{constructor(){this.activeTargetIds=OT()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class FI{constructor(){this.so=new Mg,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,s){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Mg,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ae("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ae("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _u=null;function eh(){return _u===null?_u=(function(){return 268435456+Math.round(2147483648*Math.random())})():_u++,"0x"+_u.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ht="WebChannelConnection";class $I extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const s=t.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Do=s+"://"+t.host,this.vo=`projects/${o}/databases/${u}`,this.Co=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${u}`}get Fo(){return!1}Mo(t,s,o,u,d){const m=eh(),g=this.xo(t,s.toUriEncodedString());ae("RestConnection",`Sending RPC '${t}' ${m}:`,g,o);const w={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(w,u,d),this.No(t,g,w,o).then((x=>(ae("RestConnection",`Received RPC '${t}' ${m}: `,x),x)),(x=>{throw ko("RestConnection",`RPC '${t}' ${m} failed with error: `,x,"url: ",g,"request:",o),x}))}Lo(t,s,o,u,d,m){return this.Mo(t,s,o,u,d)}Oo(t,s,o){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Oo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach(((u,d)=>t[d]=u)),o&&o.headers.forEach(((u,d)=>t[d]=u))}xo(t,s){const o=zI[t];return`${this.Do}/v1/${s}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,s,o){const u=eh();return new Promise(((d,m)=>{const g=new q0;g.setWithCredentials(!0),g.listenOnce(K0.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Su.NO_ERROR:const x=g.getResponseJson();ae(Ht,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(x)),d(x);break;case Su.TIMEOUT:ae(Ht,`RPC '${e}' ${u} timed out`),m(new pe(X.DEADLINE_EXCEEDED,"Request time out"));break;case Su.HTTP_ERROR:const C=g.getStatus();if(ae(Ht,`RPC '${e}' ${u} failed with status:`,C,"response text:",g.getResponseText()),C>0){let j=g.getResponseJson();Array.isArray(j)&&(j=j[0]);const $=j==null?void 0:j.error;if($&&$.status&&$.message){const Y=(function(q){const ye=q.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(ye)>=0?ye:X.UNKNOWN})($.status);m(new pe(Y,$.message))}else m(new pe(X.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new pe(X.UNAVAILABLE,"Connection failed."));break;default:xe()}}finally{ae(Ht,`RPC '${e}' ${u} completed.`)}}));const w=JSON.stringify(o);ae(Ht,`RPC '${e}' ${u} sending request:`,o),g.send(t,"POST",w,s,15)}))}Bo(e,t,s){const o=eh(),u=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=Y0(),m=Q0(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},w=this.longPollingOptions.timeoutSeconds;w!==void 0&&(g.longPollingTimeout=Math.round(1e3*w)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Oo(g.initMessageHeaders,t,s),g.encodeInitMessageHeaders=!0;const x=u.join("");ae(Ht,`Creating RPC '${e}' stream ${o}: ${x}`,g);const C=d.createWebChannel(x,g);let j=!1,$=!1;const Y=new BI({Io:q=>{$?ae(Ht,`Not sending because RPC '${e}' stream ${o} is closed:`,q):(j||(ae(Ht,`Opening RPC '${e}' stream ${o} transport.`),C.open(),j=!0),ae(Ht,`RPC '${e}' stream ${o} sending:`,q),C.send(q))},To:()=>C.close()}),Z=(q,ye,ve)=>{q.listen(ye,(_e=>{try{ve(_e)}catch(Ne){setTimeout((()=>{throw Ne}),0)}}))};return Z(C,Ta.EventType.OPEN,(()=>{$||(ae(Ht,`RPC '${e}' stream ${o} transport opened.`),Y.yo())})),Z(C,Ta.EventType.CLOSE,(()=>{$||($=!0,ae(Ht,`RPC '${e}' stream ${o} transport closed`),Y.So())})),Z(C,Ta.EventType.ERROR,(q=>{$||($=!0,ko(Ht,`RPC '${e}' stream ${o} transport errored:`,q),Y.So(new pe(X.UNAVAILABLE,"The operation could not be completed")))})),Z(C,Ta.EventType.MESSAGE,(q=>{var ye;if(!$){const ve=q.data[0];qe(!!ve);const _e=ve,Ne=_e.error||((ye=_e[0])===null||ye===void 0?void 0:ye.error);if(Ne){ae(Ht,`RPC '${e}' stream ${o} received error:`,Ne);const Ke=Ne.status;let Se=(function(S){const R=vt[S];if(R!==void 0)return Ey(R)})(Ke),N=Ne.message;Se===void 0&&(Se=X.INTERNAL,N="Unknown error status: "+Ke+" with message "+Ne.message),$=!0,Y.So(new pe(Se,N)),C.close()}else ae(Ht,`RPC '${e}' stream ${o} received:`,ve),Y.bo(ve)}})),Z(m,G0.STAT_EVENT,(q=>{q.stat===gh.PROXY?ae(Ht,`RPC '${e}' stream ${o} detected buffering proxy`):q.stat===gh.NOPROXY&&ae(Ht,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{Y.wo()}),0),Y}}function th(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oc(i){return new ZT(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{constructor(e,t,s=1e3,o=1.5,u=6e4){this.ui=e,this.timerId=t,this.ko=s,this.qo=o,this.Qo=u,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),s=Math.max(0,Date.now()-this.Uo),o=Math.max(0,t-s);o>0&&ae("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,o,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy{constructor(e,t,s,o,u,d,m,g){this.ui=e,this.Ho=s,this.Jo=o,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Dy(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===X.RESOURCE_EXHAUSTED?(Kr(t.toString()),Kr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.Yo===t&&this.P_(s,o)}),(s=>{e((()=>{const o=new pe(X.UNKNOWN,"Fetching auth token failed: "+s.message);return this.I_(o)}))}))}P_(e,t){const s=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo((()=>{s((()=>this.listener.Eo()))})),this.stream.Ro((()=>{s((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((o=>{s((()=>this.I_(o)))})),this.stream.onMessage((o=>{s((()=>++this.e_==1?this.E_(o):this.onNext(o)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return ae("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget((()=>this.Yo===e?t():(ae("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class HI extends Oy{constructor(e,t,s,o,u,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,d),this.serializer=u}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=nI(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Ie.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?Ie.min():d.readTime?gr(d.readTime):Ie.min()})(e);return this.listener.d_(t,s)}A_(e){const t={};t.database=kh(this.serializer),t.addTarget=(function(u,d){let m;const g=d.target;if(m=wh(g)?{documents:sI(u,g)}:{query:oI(u,g)._t},m.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){m.resumeToken=Iy(u,d.resumeToken);const w=xh(u,d.expectedCount);w!==null&&(m.expectedCount=w)}else if(d.snapshotVersion.compareTo(Ie.min())>0){m.readTime=Hu(u,d.snapshotVersion.toTimestamp());const w=xh(u,d.expectedCount);w!==null&&(m.expectedCount=w)}return m})(this.serializer,e);const s=lI(this.serializer,e);s&&(t.labels=s),this.a_(t)}R_(e){const t={};t.database=kh(this.serializer),t.removeTarget=e,this.a_(t)}}class WI extends Oy{constructor(e,t,s,o,u,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,d),this.serializer=u}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return qe(!!e.streamToken),this.lastStreamToken=e.streamToken,qe(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){qe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=iI(e.writeResults,e.commitTime),s=gr(e.commitTime);return this.listener.g_(s,t)}p_(){const e={};e.database=kh(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map((s=>rI(this.serializer,s)))};this.a_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI extends class{}{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.y_=!1}w_(){if(this.y_)throw new pe(X.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,s,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Mo(e,Th(t,s),o,u,d))).catch((u=>{throw u.name==="FirebaseError"?(u.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new pe(X.UNKNOWN,u.toString())}))}Lo(e,t,s,o,u){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,m])=>this.connection.Lo(e,Th(t,s),o,d,m,u))).catch((d=>{throw d.name==="FirebaseError"?(d.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new pe(X.UNKNOWN,d.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class KI{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Kr(t),this.D_=!1):ae("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(e,t,s,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=u,this.k_._o((d=>{s.enqueueAndForget((async()=>{bs(this)&&(ae("RemoteStore","Restarting streams for network reachability change."),await(async function(g){const w=ke(g);w.L_.add(4),await Xa(w),w.q_.set("Unknown"),w.L_.delete(4),await ac(w)})(this))}))})),this.q_=new KI(s,o)}}async function ac(i){if(bs(i))for(const e of i.B_)await e(!0)}async function Xa(i){for(const e of i.B_)await e(!1)}function Vy(i,e){const t=ke(i);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),lf(t)?af(t):Lo(t).r_()&&of(t,e))}function sf(i,e){const t=ke(i),s=Lo(t);t.N_.delete(e),s.r_()&&My(t,e),t.N_.size===0&&(s.r_()?s.o_():bs(t)&&t.q_.set("Unknown"))}function of(i,e){if(i.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Lo(i).A_(e)}function My(i,e){i.Q_.xe(e),Lo(i).R_(e)}function af(i){i.Q_=new QT({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>i.N_.get(e)||null,tt:()=>i.datastore.serializer.databaseId}),Lo(i).start(),i.q_.v_()}function lf(i){return bs(i)&&!Lo(i).n_()&&i.N_.size>0}function bs(i){return ke(i).L_.size===0}function Ly(i){i.Q_=void 0}async function QI(i){i.q_.set("Online")}async function YI(i){i.N_.forEach(((e,t)=>{of(i,e)}))}async function XI(i,e){Ly(i),lf(i)?(i.q_.M_(e),af(i)):i.q_.set("Unknown")}async function JI(i,e,t){if(i.q_.set("Online"),e instanceof Ty&&e.state===2&&e.cause)try{await(async function(o,u){const d=u.cause;for(const m of u.targetIds)o.N_.has(m)&&(await o.remoteSyncer.rejectListen(m,d),o.N_.delete(m),o.Q_.removeTarget(m))})(i,e)}catch(s){ae("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Wu(i,s)}else if(e instanceof Ru?i.Q_.Ke(e):e instanceof xy?i.Q_.He(e):i.Q_.We(e),!t.isEqual(Ie.min()))try{const s=await by(i.localStore);t.compareTo(s)>=0&&await(function(u,d){const m=u.Q_.rt(d);return m.targetChanges.forEach(((g,w)=>{if(g.resumeToken.approximateByteSize()>0){const x=u.N_.get(w);x&&u.N_.set(w,x.withResumeToken(g.resumeToken,d))}})),m.targetMismatches.forEach(((g,w)=>{const x=u.N_.get(g);if(!x)return;u.N_.set(g,x.withResumeToken(jt.EMPTY_BYTE_STRING,x.snapshotVersion)),My(u,g);const C=new Li(x.target,g,w,x.sequenceNumber);of(u,C)})),u.remoteSyncer.applyRemoteEvent(m)})(i,t)}catch(s){ae("RemoteStore","Failed to raise snapshot:",s),await Wu(i,s)}}async function Wu(i,e,t){if(!Ga(e))throw e;i.L_.add(1),await Xa(i),i.q_.set("Offline"),t||(t=()=>by(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{ae("RemoteStore","Retrying IndexedDB access"),await t(),i.L_.delete(1),await ac(i)}))}function jy(i,e){return e().catch((t=>Wu(i,t,e)))}async function lc(i){const e=ke(i),t=$i(e);let s=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;ZI(e);)try{const o=await MI(e.localStore,s);if(o===null){e.O_.length===0&&t.o_();break}s=o.batchId,ek(e,o)}catch(o){await Wu(e,o)}Fy(e)&&Uy(e)}function ZI(i){return bs(i)&&i.O_.length<10}function ek(i,e){i.O_.push(e);const t=$i(i);t.r_()&&t.V_&&t.m_(e.mutations)}function Fy(i){return bs(i)&&!$i(i).n_()&&i.O_.length>0}function Uy(i){$i(i).start()}async function tk(i){$i(i).p_()}async function nk(i){const e=$i(i);for(const t of i.O_)e.m_(t.mutations)}async function rk(i,e,t){const s=i.O_.shift(),o=Jh.from(s,e,t);await jy(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await lc(i)}async function ik(i,e){e&&$i(i).V_&&await(async function(s,o){if((function(d){return qT(d)&&d!==X.ABORTED})(o.code)){const u=s.O_.shift();$i(s).s_(),await jy(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await lc(s)}})(i,e),Fy(i)&&Uy(i)}async function jg(i,e){const t=ke(i);t.asyncQueue.verifyOperationInProgress(),ae("RemoteStore","RemoteStore received new credentials");const s=bs(t);t.L_.add(3),await Xa(t),s&&t.q_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),await ac(t)}async function sk(i,e){const t=ke(i);e?(t.L_.delete(2),await ac(t)):e||(t.L_.add(2),await Xa(t),t.q_.set("Unknown"))}function Lo(i){return i.K_||(i.K_=(function(t,s,o){const u=ke(t);return u.w_(),new HI(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Eo:QI.bind(null,i),Ro:YI.bind(null,i),mo:XI.bind(null,i),d_:JI.bind(null,i)}),i.B_.push((async e=>{e?(i.K_.s_(),lf(i)?af(i):i.q_.set("Unknown")):(await i.K_.stop(),Ly(i))}))),i.K_}function $i(i){return i.U_||(i.U_=(function(t,s,o){const u=ke(t);return u.w_(),new WI(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Eo:()=>Promise.resolve(),Ro:tk.bind(null,i),mo:ik.bind(null,i),f_:nk.bind(null,i),g_:rk.bind(null,i)}),i.B_.push((async e=>{e?(i.U_.s_(),await lc(i)):(await i.U_.stop(),i.O_.length>0&&(ae("RemoteStore",`Stopping write stream with ${i.O_.length} pending writes`),i.O_=[]))}))),i.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(e,t,s,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Ts,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,u){const d=Date.now()+s,m=new uf(e,t,d,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cf(i,e){if(Kr("AsyncQueue",`${e}: ${i}`),Ga(i))return new pe(X.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e){this.comparator=e?(t,s)=>e(t,s)||me.comparator(t.key,s.key):(t,s)=>me.comparator(t.key,s.key),this.keyedMap=Ia(),this.sortedSet=new ot(this.comparator)}static emptySet(e){return new Eo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,s)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Eo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new Eo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(){this.W_=new ot(me.comparator)}track(e){const t=e.doc.key,s=this.W_.get(t);s?e.type!==0&&s.type===3?this.W_=this.W_.insert(t,e):e.type===3&&s.type!==1?this.W_=this.W_.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.W_=this.W_.remove(t):e.type===1&&s.type===2?this.W_=this.W_.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):xe():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal(((t,s)=>{e.push(s)})),e}}class Po{constructor(e,t,s,o,u,d,m,g,w){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=w}static fromInitialDocuments(e,t,s,o,u){const d=[];return t.forEach((m=>{d.push({type:0,doc:m})})),new Po(e,t,Eo.emptySet(t),d,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&tc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class ak{constructor(){this.queries=Ug(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,s){const o=ke(t),u=o.queries;o.queries=Ug(),u.forEach(((d,m)=>{for(const g of m.j_)g.onError(s)}))})(this,new pe(X.ABORTED,"Firestore shutting down"))}}function Ug(){return new Mo((i=>ly(i)),tc)}async function lk(i,e){const t=ke(i);let s=3;const o=e.query;let u=t.queries.get(o);u?!u.H_()&&e.J_()&&(s=2):(u=new ok,s=e.J_()?0:1);try{switch(s){case 0:u.z_=await t.onListen(o,!0);break;case 1:u.z_=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(d){const m=cf(d,`Initialization of query '${po(e.query)}' failed`);return void e.onError(m)}t.queries.set(o,u),u.j_.push(e),e.Z_(t.onlineState),u.z_&&e.X_(u.z_)&&df(t)}async function uk(i,e){const t=ke(i),s=e.query;let o=3;const u=t.queries.get(s);if(u){const d=u.j_.indexOf(e);d>=0&&(u.j_.splice(d,1),u.j_.length===0?o=e.J_()?0:1:!u.H_()&&e.J_()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function ck(i,e){const t=ke(i);let s=!1;for(const o of e){const u=o.query,d=t.queries.get(u);if(d){for(const m of d.j_)m.X_(o)&&(s=!0);d.z_=o}}s&&df(t)}function dk(i,e,t){const s=ke(i),o=s.queries.get(e);if(o)for(const u of o.j_)u.onError(t);s.queries.delete(e)}function df(i){i.Y_.forEach((e=>{e.next()}))}var Ah,zg;(zg=Ah||(Ah={})).ea="default",zg.Cache="cache";class hk{constructor(e,t,s){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=s||{}}X_(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Po(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;const s=t!=="Offline";return(!this.options._a||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=Po.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Ah.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zy{constructor(e){this.key=e}}class By{constructor(e){this.key=e}}class fk{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=De(),this.mutatedKeys=De(),this.Aa=uy(e),this.Ra=new Eo(this.Aa)}get Va(){return this.Ta}ma(e,t){const s=t?t.fa:new Fg,o=t?t.Ra:this.Ra;let u=t?t.mutatedKeys:this.mutatedKeys,d=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,w=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((x,C)=>{const j=o.get(x),$=nc(this.query,C)?C:null,Y=!!j&&this.mutatedKeys.has(j.key),Z=!!$&&($.hasLocalMutations||this.mutatedKeys.has($.key)&&$.hasCommittedMutations);let q=!1;j&&$?j.data.isEqual($.data)?Y!==Z&&(s.track({type:3,doc:$}),q=!0):this.ga(j,$)||(s.track({type:2,doc:$}),q=!0,(g&&this.Aa($,g)>0||w&&this.Aa($,w)<0)&&(m=!0)):!j&&$?(s.track({type:0,doc:$}),q=!0):j&&!$&&(s.track({type:1,doc:j}),q=!0,(g||w)&&(m=!0)),q&&($?(d=d.add($),u=Z?u.add(x):u.delete(x)):(d=d.delete(x),u=u.delete(x)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const x=this.query.limitType==="F"?d.last():d.first();d=d.delete(x.key),u=u.delete(x.key),s.track({type:1,doc:x})}return{Ra:d,fa:s,ns:m,mutatedKeys:u}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const u=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const d=e.fa.G_();d.sort(((x,C)=>(function($,Y){const Z=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe()}};return Z($)-Z(Y)})(x.type,C.type)||this.Aa(x.doc,C.doc))),this.pa(s),o=o!=null&&o;const m=t&&!o?this.ya():[],g=this.da.size===0&&this.current&&!o?1:0,w=g!==this.Ea;return this.Ea=g,d.length!==0||w?{snapshot:new Po(this.query,e.Ra,u,d,e.mutatedKeys,g===0,w,!1,!!s&&s.resumeToken.approximateByteSize()>0),wa:m}:{wa:m}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Fg,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((t=>this.Ta=this.Ta.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ta=this.Ta.delete(t))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=De(),this.Ra.forEach((s=>{this.Sa(s.key)&&(this.da=this.da.add(s.key))}));const t=[];return e.forEach((s=>{this.da.has(s)||t.push(new By(s))})),this.da.forEach((s=>{e.has(s)||t.push(new zy(s))})),t}ba(e){this.Ta=e.Ts,this.da=De();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return Po.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class pk{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class mk{constructor(e){this.key=e,this.va=!1}}class gk{constructor(e,t,s,o,u,d){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.Ca={},this.Fa=new Mo((m=>ly(m)),tc),this.Ma=new Map,this.xa=new Set,this.Oa=new ot(me.comparator),this.Na=new Map,this.La=new tf,this.Ba={},this.ka=new Map,this.qa=Ro.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function yk(i,e,t=!0){const s=Gy(i);let o;const u=s.Fa.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Da()):o=await $y(s,e,t,!0),o}async function vk(i,e){const t=Gy(i);await $y(t,e,!0,!1)}async function $y(i,e,t,s){const o=await LI(i.localStore,mr(e)),u=o.targetId,d=i.sharedClientState.addLocalQueryTarget(u,t);let m;return s&&(m=await _k(i,e,u,d==="current",o.resumeToken)),i.isPrimaryClient&&t&&Vy(i.remoteStore,o),m}async function _k(i,e,t,s,o){i.Ka=(C,j,$)=>(async function(Z,q,ye,ve){let _e=q.view.ma(ye);_e.ns&&(_e=await Vg(Z.localStore,q.query,!1).then((({documents:N})=>q.view.ma(N,_e))));const Ne=ve&&ve.targetChanges.get(q.targetId),Ke=ve&&ve.targetMismatches.get(q.targetId)!=null,Se=q.view.applyChanges(_e,Z.isPrimaryClient,Ne,Ke);return $g(Z,q.targetId,Se.wa),Se.snapshot})(i,C,j,$);const u=await Vg(i.localStore,e,!0),d=new fk(e,u.Ts),m=d.ma(u.documents),g=Ya.createSynthesizedTargetChangeForCurrentChange(t,s&&i.onlineState!=="Offline",o),w=d.applyChanges(m,i.isPrimaryClient,g);$g(i,t,w.wa);const x=new pk(e,t,d);return i.Fa.set(e,x),i.Ma.has(t)?i.Ma.get(t).push(e):i.Ma.set(t,[e]),w.snapshot}async function wk(i,e,t){const s=ke(i),o=s.Fa.get(e),u=s.Ma.get(o.targetId);if(u.length>1)return s.Ma.set(o.targetId,u.filter((d=>!tc(d,e)))),void s.Fa.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Sh(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),t&&sf(s.remoteStore,o.targetId),Ch(s,o.targetId)})).catch(Ka)):(Ch(s,o.targetId),await Sh(s.localStore,o.targetId,!0))}async function Ek(i,e){const t=ke(i),s=t.Fa.get(e),o=t.Ma.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),sf(t.remoteStore,s.targetId))}async function xk(i,e,t){const s=Rk(i);try{const o=await(function(d,m){const g=ke(d),w=It.now(),x=m.reduce((($,Y)=>$.add(Y.key)),De());let C,j;return g.persistence.runTransaction("Locally write mutations","readwrite",($=>{let Y=Gr(),Z=De();return g.cs.getEntries($,x).next((q=>{Y=q,Y.forEach(((ye,ve)=>{ve.isValidDocument()||(Z=Z.add(ye))}))})).next((()=>g.localDocuments.getOverlayedDocuments($,Y))).next((q=>{C=q;const ye=[];for(const ve of m){const _e=zT(ve,C.get(ve.key).overlayedDocument);_e!=null&&ye.push(new Ns(ve.key,_e,ty(_e.value.mapValue),Hr.exists(!0)))}return g.mutationQueue.addMutationBatch($,w,ye,m)})).next((q=>{j=q;const ye=q.applyToLocalDocumentSet(C,Z);return g.documentOverlayCache.saveOverlays($,q.batchId,ye)}))})).then((()=>({batchId:j.batchId,changes:dy(C)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(d,m,g){let w=d.Ba[d.currentUser.toKey()];w||(w=new ot($e)),w=w.insert(m,g),d.Ba[d.currentUser.toKey()]=w})(s,o.batchId,t),await Ja(s,o.changes),await lc(s.remoteStore)}catch(o){const u=cf(o,"Failed to persist write");t.reject(u)}}async function Hy(i,e){const t=ke(i);try{const s=await OI(t.localStore,e);e.targetChanges.forEach(((o,u)=>{const d=t.Na.get(u);d&&(qe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?d.va=!0:o.modifiedDocuments.size>0?qe(d.va):o.removedDocuments.size>0&&(qe(d.va),d.va=!1))})),await Ja(t,s,e)}catch(s){await Ka(s)}}function Bg(i,e,t){const s=ke(i);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.Fa.forEach(((u,d)=>{const m=d.view.Z_(e);m.snapshot&&o.push(m.snapshot)})),(function(d,m){const g=ke(d);g.onlineState=m;let w=!1;g.queries.forEach(((x,C)=>{for(const j of C.j_)j.Z_(m)&&(w=!0)})),w&&df(g)})(s.eventManager,e),o.length&&s.Ca.d_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function Tk(i,e,t){const s=ke(i);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Na.get(e),u=o&&o.key;if(u){let d=new ot(me.comparator);d=d.insert(u,qt.newNoDocument(u,Ie.min()));const m=De().add(u),g=new sc(Ie.min(),new Map,new ot($e),d,m);await Hy(s,g),s.Oa=s.Oa.remove(u),s.Na.delete(e),hf(s)}else await Sh(s.localStore,e,!1).then((()=>Ch(s,e,t))).catch(Ka)}async function Ik(i,e){const t=ke(i),s=e.batch.batchId;try{const o=await DI(t.localStore,e);qy(t,s,null),Wy(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await Ja(t,o)}catch(o){await Ka(o)}}async function kk(i,e,t){const s=ke(i);try{const o=await(function(d,m){const g=ke(d);return g.persistence.runTransaction("Reject batch","readwrite-primary",(w=>{let x;return g.mutationQueue.lookupMutationBatch(w,m).next((C=>(qe(C!==null),x=C.keys(),g.mutationQueue.removeMutationBatch(w,C)))).next((()=>g.mutationQueue.performConsistencyCheck(w))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(w,x,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(w,x))).next((()=>g.localDocuments.getDocuments(w,x)))}))})(s.localStore,e);qy(s,e,t),Wy(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await Ja(s,o)}catch(o){await Ka(o)}}function Wy(i,e){(i.ka.get(e)||[]).forEach((t=>{t.resolve()})),i.ka.delete(e)}function qy(i,e,t){const s=ke(i);let o=s.Ba[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),s.Ba[s.currentUser.toKey()]=o}}function Ch(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Ma.get(e))i.Fa.delete(s),t&&i.Ca.$a(s,t);i.Ma.delete(e),i.isPrimaryClient&&i.La.gr(e).forEach((s=>{i.La.containsKey(s)||Ky(i,s)}))}function Ky(i,e){i.xa.delete(e.path.canonicalString());const t=i.Oa.get(e);t!==null&&(sf(i.remoteStore,t),i.Oa=i.Oa.remove(e),i.Na.delete(t),hf(i))}function $g(i,e,t){for(const s of t)s instanceof zy?(i.La.addReference(s.key,e),Sk(i,s)):s instanceof By?(ae("SyncEngine","Document no longer in limbo: "+s.key),i.La.removeReference(s.key,e),i.La.containsKey(s.key)||Ky(i,s.key)):xe()}function Sk(i,e){const t=e.key,s=t.path.canonicalString();i.Oa.get(t)||i.xa.has(s)||(ae("SyncEngine","New document in limbo: "+t),i.xa.add(s),hf(i))}function hf(i){for(;i.xa.size>0&&i.Oa.size<i.maxConcurrentLimboResolutions;){const e=i.xa.values().next().value;i.xa.delete(e);const t=new me(ct.fromString(e)),s=i.qa.next();i.Na.set(s,new mk(t)),i.Oa=i.Oa.insert(t,s),Vy(i.remoteStore,new Li(mr(Yh(t.path)),s,"TargetPurposeLimboResolution",Hh.oe))}}async function Ja(i,e,t){const s=ke(i),o=[],u=[],d=[];s.Fa.isEmpty()||(s.Fa.forEach(((m,g)=>{d.push(s.Ka(g,e,t).then((w=>{var x;if((w||t)&&s.isPrimaryClient){const C=w?!w.fromCache:(x=t==null?void 0:t.targetChanges.get(g.targetId))===null||x===void 0?void 0:x.current;s.sharedClientState.updateQueryState(g.targetId,C?"current":"not-current")}if(w){o.push(w);const C=rf.Wi(g.targetId,w);u.push(C)}})))})),await Promise.all(d),s.Ca.d_(o),await(async function(g,w){const x=ke(g);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",(C=>G.forEach(w,(j=>G.forEach(j.$i,($=>x.persistence.referenceDelegate.addReference(C,j.targetId,$))).next((()=>G.forEach(j.Ui,($=>x.persistence.referenceDelegate.removeReference(C,j.targetId,$)))))))))}catch(C){if(!Ga(C))throw C;ae("LocalStore","Failed to update sequence numbers: "+C)}for(const C of w){const j=C.targetId;if(!C.fromCache){const $=x.os.get(j),Y=$.snapshotVersion,Z=$.withLastLimboFreeSnapshotVersion(Y);x.os=x.os.insert(j,Z)}}})(s.localStore,u))}async function Ak(i,e){const t=ke(i);if(!t.currentUser.isEqual(e)){ae("SyncEngine","User change. New user:",e.toKey());const s=await Ny(t.localStore,e);t.currentUser=e,(function(u,d){u.ka.forEach((m=>{m.forEach((g=>{g.reject(new pe(X.CANCELLED,d))}))})),u.ka.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Ja(t,s.hs)}}function Ck(i,e){const t=ke(i),s=t.Na.get(e);if(s&&s.va)return De().add(s.key);{let o=De();const u=t.Ma.get(e);if(!u)return o;for(const d of u){const m=t.Fa.get(d);o=o.unionWith(m.view.Va)}return o}}function Gy(i){const e=ke(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Hy.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ck.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Tk.bind(null,e),e.Ca.d_=ck.bind(null,e.eventManager),e.Ca.$a=dk.bind(null,e.eventManager),e}function Rk(i){const e=ke(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ik.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=kk.bind(null,e),e}class qu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=oc(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,t){return null}Ha(e,t){return null}za(e){return bI(this.persistence,new PI,e.initialUser,this.serializer)}Ga(e){return new AI(nf.Zr,this.serializer)}Wa(e){return new FI}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}qu.provider={build:()=>new qu};class Rh{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Bg(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=Ak.bind(null,this.syncEngine),await sk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new ak})()}createDatastore(e){const t=oc(e.databaseInfo.databaseId),s=(function(u){return new $I(u)})(e.databaseInfo);return(function(u,d,m,g){return new qI(u,d,m,g)})(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return(function(s,o,u,d,m){return new GI(s,o,u,d,m)})(this.localStore,this.datastore,e.asyncQueue,(t=>Bg(this.syncEngine,t,0)),(function(){return Lg.D()?new Lg:new UI})())}createSyncEngine(e,t){return(function(o,u,d,m,g,w,x){const C=new gk(o,u,d,m,g,w);return x&&(C.Qa=!0),C})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(o){const u=ke(o);ae("RemoteStore","RemoteStore shutting down."),u.L_.add(5),await Xa(u),u.k_.shutdown(),u.q_.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Rh.provider={build:()=>new Rh};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Kr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(e,t,s,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=Wt.UNAUTHENTICATED,this.clientId=J0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async d=>{ae("FirestoreClient","Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(ae("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ts;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=cf(t,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function nh(i,e){i.asyncQueue.verifyOperationInProgress(),ae("FirestoreClient","Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let s=t.initialUser;i.setCredentialChangeListener((async o=>{s.isEqual(o)||(await Ny(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function Hg(i,e){i.asyncQueue.verifyOperationInProgress();const t=await bk(i);ae("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener((s=>jg(e.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,o)=>jg(e.remoteStore,o))),i._onlineComponents=e}async function bk(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ae("FirestoreClient","Using user provided OfflineComponentProvider");try{await nh(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===X.FAILED_PRECONDITION||o.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;ko("Error using user provided cache. Falling back to memory cache: "+t),await nh(i,new qu)}}else ae("FirestoreClient","Using default OfflineComponentProvider"),await nh(i,new qu);return i._offlineComponents}async function Qy(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ae("FirestoreClient","Using user provided OnlineComponentProvider"),await Hg(i,i._uninitializedComponentsProvider._online)):(ae("FirestoreClient","Using default OnlineComponentProvider"),await Hg(i,new Rh))),i._onlineComponents}function Dk(i){return Qy(i).then((e=>e.syncEngine))}async function Wg(i){const e=await Qy(i),t=e.eventManager;return t.onListen=yk.bind(null,e.syncEngine),t.onUnlisten=wk.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=vk.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Ek.bind(null,e.syncEngine),t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yy(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qg=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ok(i,e,t){if(!t)throw new pe(X.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function Vk(i,e,t,s){if(e===!0&&s===!0)throw new pe(X.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function Kg(i){if(!me.isDocumentKey(i))throw new pe(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function ff(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":xe()}function xo(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new pe(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ff(i);throw new pe(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new pe(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new pe(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Vk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Yy((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),(function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new pe(X.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new pe(X.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new pe(X.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class pf{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Gg({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Gg(e),e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new Qx;switch(s.type){case"firstParty":return new Zx(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new pe(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const s=qg.get(t);s&&(ae("ComponentProvider","Removing Datastore"),qg.delete(t),s.terminate())})(this),Promise.resolve()}}function Mk(i,e,t,s={}){var o;const u=(i=xo(i,pf))._getSettings(),d=`${e}:${t}`;if(u.host!=="firestore.googleapis.com"&&u.host!==d&&ko("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},u),{host:d,ssl:!1})),s.mockUserToken){let m,g;if(typeof s.mockUserToken=="string")m=s.mockUserToken,g=Wt.MOCK_USER;else{m=lw(s.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const w=s.mockUserToken.sub||s.mockUserToken.user_id;if(!w)throw new pe(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Wt(w)}i._authCredentials=new Yx(new X0(m,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new uc(this.firestore,e,this._query)}}class On{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ua(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new On(this.firestore,e,this._key)}}class Ua extends uc{constructor(e,t,s){super(e,t,Yh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new On(this.firestore,null,new me(e))}withConverter(e){return new Ua(this.firestore,e,this._path)}}function rh(i,e,...t){if(i=Jt(i),arguments.length===1&&(e=J0.newId()),Ok("doc","path",e),i instanceof pf){const s=ct.fromString(e,...t);return Kg(s),new On(i,null,new me(s))}{if(!(i instanceof On||i instanceof Ua))throw new pe(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(ct.fromString(e,...t));return Kg(s),new On(i.firestore,i instanceof Ua?i.converter:null,new me(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Dy(this,"async_queue_retry"),this.Vu=()=>{const s=th();s&&ae("AsyncQueue","Visibility state changed to "+s.visibilityState),this.t_.jo()},this.mu=e;const t=th();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=th();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const t=new Ts;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Ga(e))throw e;ae("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const t=this.mu.then((()=>(this.du=!0,e().catch((s=>{this.Eu=s,this.du=!1;const o=(function(d){let m=d.message||"";return d.stack&&(m=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),m})(s);throw Kr("INTERNAL UNHANDLED ERROR: ",o),s})).then((s=>(this.du=!1,s))))));return this.mu=t,t}enqueueAfterDelay(e,t,s){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const o=uf.createAndSchedule(this,e,t,s,(u=>this.yu(u)));return this.Tu.push(o),o}fu(){this.Eu&&xe()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((t,s)=>t.targetTimeMs-s.targetTimeMs));for(const t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}function Yg(i){return(function(t,s){if(typeof t!="object"||t===null)return!1;const o=t;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(i,["next","error","complete"])}class Ku extends pf{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new Qg,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Qg(e),this._firestoreClient=void 0,await e}}}function Lk(i,e){const t=typeof i=="object"?i:l0(),s=typeof i=="string"?i:"(default)",o=Dh(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=ow("firestore");u&&Mk(o,...u)}return o}function Xy(i){if(i._terminated)throw new pe(X.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||jk(i),i._firestoreClient}function jk(i){var e,t,s;const o=i._freezeSettings(),u=(function(m,g,w,x){return new hT(m,g,w,x.host,x.ssl,x.experimentalForceLongPolling,x.experimentalAutoDetectLongPolling,Yy(x.experimentalLongPollingOptions),x.useFetchStreams)})(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new Nk(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&(function(m){const g=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(g),_online:g}})(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e){this._byteString=e}static fromBase64String(e){try{return new No(jt.fromBase64String(e))}catch(t){throw new pe(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new No(jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new pe(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Mt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new pe(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new pe(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return $e(this._lat,e._lat)||$e(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fk=/^__.*__$/;class Uk{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new Ns(e,this.data,this.fieldMask,t,this.fieldTransforms):new Qa(e,this.data,t,this.fieldTransforms)}}function Zy(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe()}}class vf{constructor(e,t,s,o,u,d){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.vu(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new vf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Fu({path:s,xu:!1});return o.Ou(e),o}Nu(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Fu({path:s,xu:!1});return o.vu(),o}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Gu(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(Zy(this.Cu)&&Fk.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class zk{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||oc(e)}Qu(e,t,s,o=!1){return new vf({Cu:e,methodName:t,qu:s,path:Mt.emptyPath(),xu:!1,ku:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Bk(i){const e=i._freezeSettings(),t=oc(i._databaseId);return new zk(i._databaseId,!!e.ignoreUndefinedProperties,t)}function $k(i,e,t,s,o,u={}){const d=i.Qu(u.merge||u.mergeFields?2:0,e,t,o);rv("Data must be an object, but it was:",d,s);const m=tv(s,d);let g,w;if(u.merge)g=new Jn(d.fieldMask),w=d.fieldTransforms;else if(u.mergeFields){const x=[];for(const C of u.mergeFields){const j=Hk(e,C,t);if(!d.contains(j))throw new pe(X.INVALID_ARGUMENT,`Field '${j}' is specified in your field mask but missing from your input data.`);qk(x,j)||x.push(j)}g=new Jn(x),w=d.fieldTransforms.filter((C=>g.covers(C.field)))}else g=null,w=d.fieldTransforms;return new Uk(new Dn(m),g,w)}function ev(i,e){if(nv(i=Jt(i)))return rv("Unsupported field value:",e,i),tv(i,e);if(i instanceof Jy)return(function(s,o){if(!Zy(o.Cu))throw o.Bu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Bu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return(function(s,o){const u=[];let d=0;for(const m of s){let g=ev(m,o.Lu(d));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),d++}return{arrayValue:{values:u}}})(i,e)}return(function(s,o){if((s=Jt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return VT(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=It.fromDate(s);return{timestampValue:Hu(o.serializer,u)}}if(s instanceof It){const u=new It(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Hu(o.serializer,u)}}if(s instanceof gf)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof No)return{bytesValue:Iy(o.serializer,s._byteString)};if(s instanceof On){const u=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(u))throw o.Bu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:ef(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof yf)return(function(d,m){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:d.toArray().map((g=>{if(typeof g!="number")throw m.Bu("VectorValues must only contain numeric values.");return Xh(m.serializer,g)}))}}}}}})(s,o);throw o.Bu(`Unsupported field value: ${ff(s)}`)})(i,e)}function tv(i,e){const t={};return Z0(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Vo(i,((s,o)=>{const u=ev(o,e.Mu(s));u!=null&&(t[s]=u)})),{mapValue:{fields:t}}}function nv(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof It||i instanceof gf||i instanceof No||i instanceof On||i instanceof Jy||i instanceof yf)}function rv(i,e,t){if(!nv(t)||!(function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)})(t)){const s=ff(t);throw s==="an object"?e.Bu(i+" a custom object"):e.Bu(i+" "+s)}}function Hk(i,e,t){if((e=Jt(e))instanceof mf)return e._internalPath;if(typeof e=="string")return iv(i,e);throw Gu("Field path arguments must be of type string or ",i,!1,void 0,t)}const Wk=new RegExp("[~\\*/\\[\\]]");function iv(i,e,t){if(e.search(Wk)>=0)throw Gu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new mf(...e.split("."))._internalPath}catch{throw Gu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function Gu(i,e,t,s,o){const u=s&&!s.isEmpty(),d=o!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||d)&&(g+=" (found",u&&(g+=` in field ${s}`),d&&(g+=` in document ${o}`),g+=")"),new pe(X.INVALID_ARGUMENT,m+i+g)}function qk(i,e){return i.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv{constructor(e,t,s,o,u){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new On(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Kk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(ov("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Kk extends sv{data(){return super.data()}}function ov(i,e){return typeof e=="string"?iv(i,e):e instanceof mf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gk(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new pe(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Qk{convertValue(e,t="none"){switch(Rs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Cs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw xe()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Vo(e,((o,u)=>{s[o]=this.convertValue(u,t)})),s}convertVectorValue(e){var t,s,o;const u=(o=(s=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map((d=>pt(d.doubleValue)));return new yf(u)}convertGeoPoint(e){return new gf(pt(e.latitude),pt(e.longitude))}convertArray(e,t){return(e.values||[]).map((s=>this.convertValue(s,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const s=qh(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Va(e));default:return null}}convertTimestamp(e){const t=Bi(e);return new It(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=ct.fromString(e);qe(Py(s));const o=new Ma(s.get(1),s.get(3)),u=new me(s.popFirst(5));return o.isEqual(t)||Kr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yk(i,e,t){let s;return s=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class av extends sv{constructor(e,t,s,o,u,d){super(e,t,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Pu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(ov("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class Pu extends av{data(e={}){return super.data(e)}}class Xk{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Sa(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((s=>{e.call(t,new Pu(this._firestore,this._userDataWriter,s.key,s,new Sa(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new pe(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((m=>{const g=new Pu(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Sa(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const g=new Pu(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Sa(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let w=-1,x=-1;return m.type!==0&&(w=d.indexOf(m.doc.key),d=d.delete(m.doc.key)),m.type!==1&&(d=d.add(m.doc),x=d.indexOf(m.doc.key)),{type:Jk(m.type),doc:g,oldIndex:w,newIndex:x}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Jk(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe()}}class lv extends Qk{constructor(e){super(),this.firestore=e}convertBytes(e){return new No(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new On(this.firestore,null,t)}}function ih(i,e,t){i=xo(i,On);const s=xo(i.firestore,Ku),o=Yk(i.converter,e,t);return eS(s,[$k(Bk(s),"setDoc",i._key,o,i.converter!==null,t).toMutation(i._key,Hr.none())])}function Zk(i,...e){var t,s,o;i=Jt(i);let u={includeMetadataChanges:!1,source:"default"},d=0;typeof e[d]!="object"||Yg(e[d])||(u=e[d],d++);const m={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(Yg(e[d])){const C=e[d];e[d]=(t=C.next)===null||t===void 0?void 0:t.bind(C),e[d+1]=(s=C.error)===null||s===void 0?void 0:s.bind(C),e[d+2]=(o=C.complete)===null||o===void 0?void 0:o.bind(C)}let g,w,x;if(i instanceof On)w=xo(i.firestore,Ku),x=Yh(i._key.path),g={next:C=>{e[d]&&e[d](tS(w,i,C))},error:e[d+1],complete:e[d+2]};else{const C=xo(i,uc);w=xo(C.firestore,Ku),x=C._query;const j=new lv(w);g={next:$=>{e[d]&&e[d](new Xk(w,j,C,$))},error:e[d+1],complete:e[d+2]},Gk(i._query)}return(function(j,$,Y,Z){const q=new Pk(Z),ye=new hk($,q,Y);return j.asyncQueue.enqueueAndForget((async()=>lk(await Wg(j),ye))),()=>{q.Za(),j.asyncQueue.enqueueAndForget((async()=>uk(await Wg(j),ye)))}})(Xy(w),x,m,g)}function eS(i,e){return(function(s,o){const u=new Ts;return s.asyncQueue.enqueueAndForget((async()=>xk(await Dk(s),o,u))),u.promise})(Xy(i),e)}function tS(i,e,t){const s=t.docs.get(e._key),o=new lv(i);return new av(i,o,e._key,s,new Sa(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){Oo=o})(bo),To(new Is("firestore",((s,{instanceIdentifier:o,options:u})=>{const d=s.getProvider("app").getImmediate(),m=new Ku(new Xx(s.getProvider("auth-internal")),new tT(s.getProvider("app-check-internal")),(function(w,x){if(!Object.prototype.hasOwnProperty.apply(w.options,["projectId"]))throw new pe(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ma(w.options.projectId,x)})(d,o),d);return u=Object.assign({useFetchStreams:t},u),m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Ui(pg,"4.7.3",e),Ui(pg,"4.7.3","esm2017")})();const nS={apiKey:void 0,authDomain:void 0,projectId:void 0,storageBucket:void 0,messagingSenderId:void 0,appId:void 0},uv=a0(nS),wu=Kx(uv),sh=Lk(uv),oh=async(i,e="")=>" Cheia API lipsete. Configureaz VITE_GEMINI_API_KEY.",rS={somn:[{title:"Ciclurile REM",content:"Somnul REM este crucial pentru stabilitate emoional. Lipsa lui crete reactivitatea amigdalei cu 60%. (Matthew Walker)"},{title:"Temperatura Optim",content:"18.3C este temperatura ideal n dormitor. Corpul trebuie s i scad temperatura central cu 1C pentru a iniia somnul."},{title:"Regula 10-3-2-1",content:"Fr cofein cu 10h nainte de culcare, fr mncare cu 3h nainte, fr munc cu 2h nainte, fr ecrane cu 1h nainte."},{title:"Lumina de Diminea",content:"Expunerea la soare n primele 30-60 min dup trezire seteaz ceasul circadian i ajut la eliberarea melatoninei cu 16 ore mai trziu. (Huberman Lab)"},{title:"NSDR",content:"Non-Sleep Deep Rest (sau Yoga Nidra) timp de 20 minute poate reface dopamina din ganglionii bazali i reduce oboseala la fel de eficient ca un pui de somn."}],nutritie:[{title:"Glucoza i Energia",content:"Ordinea mncrii conteaz: Fibre -> Proteine/Grsimi -> Carbohidrai. Asta reduce vrful glicemic cu pn la 73%. (Glucose Goddess)"},{title:"Fereastra de Alimentare",content:"Mncatul ntr-o fereastr de 8-10 ore (Time Restricted Feeding) mbuntete sntatea metabolic i activeaz genele longevitii."},{title:"Hidratarea i Creierul",content:"O deshidratare de doar 2% scade performana cognitiv i memoria de scurt durat. Apa cu puin sare dimineaa ajut la absorbie."},{title:"Microbiomul",content:"95% din serotonin este produs n intestin. Consumul de alimente fermentate (kefir, murturi) scade inflamaia sistemic."}],focus:[{title:"Deep Work",content:"Capacitatea de concentrare profund este rar. Multitasking-ul scade IQ-ul temporar cu 10 puncte, echivalentul unei nopi nedormite. (Cal Newport)"},{title:"Regula celor 90 minute",content:"Creierul funcioneaz n cicluri ultradiene de 90 minute. Dup un ciclu de focus intens, ai nevoie de 20 minute de odihn."},{title:"Binaural Beats",content:"Sunetele de 40Hz pot mbunti concentrarea i memoria de lucru prin sincronizarea undelor cerebrale."},{title:"Dopamine Detox",content:"Reducerea stimulilor ieftini (social media, zahr) reseteaz receptorii de dopamin, fcnd munca grea s par mai uoar."}],fericire:[{title:"Paradoxul Hedonic",content:"Fericirea derivat din confort dispare rapid. Fericirea derivat din sens i conexiune (Eudaimonia) este durabil."},{title:"Recunotina",content:"Notarea a 3 lucruri pozitive zilnic timp de 21 de zile rescrie tiparele neuronale spre optimism. (Shawn Achor)"},{title:"Conexiunea Social",content:"Singurtatea cronic este echivalent cu fumatul a 15 igri pe zi din punct de vedere al riscului de mortalitate."},{title:"Voluntariatul",content:`"Helper's High" este real. Actele de buntate elibereaz oxitocin i reduc stresul.`}],longevitate:[{title:"Hormesis",content:"Stresul scurt i controlat (du rece, saun, exerciii intense) activeaz mecanismele de reparare celular i longevitate."},{title:"VO2 Max",content:"Cel mai puternic predictor al longevitii. Creterea VO2 Max prin antrenamente cardio intense reduce riscul de mortalitate din toate cauzele."},{title:"Grip Strength",content:"Fora de prindere a minii este direct corelat cu sntatea sistemului nervos i longevitatea funcional la btrnee."}],ergonomie:[{title:"Regula 20-20-20",content:"La fiecare 20 min, privete la 20 picioare (6m) distan timp de 20 secunde pentru a preveni miopia i oboseala ocular."},{title:"Statul pe Scaun",content:"Statul jos prelungit dezactiveaz enzima LPL (care arde grsimi). Ridic-te 2 minute la fiecare or."},{title:"Tech Neck",content:"Capul aplecat la 60 de grade (uitatul n telefon) pune o presiune de 27 kg pe coloana cervical."}]},En=({children:i,className:e="",onClick:t,noPadding:s})=>v.jsx("div",{onClick:t,className:`bg-white dark:bg-neutral-950 rounded-2xl shadow-sm border border-slate-100 dark:border-neutral-800 ${s?"":"p-6"} ${e}`,children:i}),iS=({score:i,size:e=24})=>{const t=e*1.5,s=2*Math.PI*t,o=s-i/100*s;let u="text-rose-500";return i>40&&(u="text-amber-500"),i>70&&(u="text-blue-500"),i>=90&&(u="text-emerald-500"),v.jsx("div",{className:`relative w-${e*4}px h-${e*4}px flex items-center justify-center`,style:{width:e*4,height:e*4},children:v.jsxs("svg",{className:"transform -rotate-90 w-full h-full",children:[v.jsx("circle",{cx:"50%",cy:"50%",r:t,stroke:"currentColor",strokeWidth:"6",fill:"transparent",className:"text-slate-200 dark:text-neutral-800"}),v.jsx("circle",{cx:"50%",cy:"50%",r:t,stroke:"currentColor",strokeWidth:"6",fill:"transparent",strokeDasharray:s,strokeDashoffset:o,strokeLinecap:"round",className:`${u} transition-all duration-1000 ease-out`})]})})},Eu=()=>({profile:{name:"",age:0,bio:"Biohacker n devenire"},waterIntake:0,waterGoal:2500,waterDate:new Date().toDateString(),breaksTaken:0,breaksTakenDate:new Date().toDateString(),mood:null,moodDate:new Date().toDateString(),dailyHabits:{sleep:!1,nature:!1,reading:!1,gratitude:!1,meditation:!1},dailyHabitsDate:new Date().toDateString(),customHabits:[],challengeConfig:{name:"",reward:"",isConfigured:!1},challengeProgress:Array(30).fill(!1),journalHistory:[],darkMode:!1,disclaimerAccepted:!1});function sS(){const[i,e]=Te.useState(null),[t,s]=Te.useState(!0),[o,u]=Te.useState("login"),[d,m]=Te.useState(""),[g,w]=Te.useState(!1),[x,C]=Te.useState(Eu()),[j,$]=Te.useState(!0),[Y,Z]=Te.useState("dashboard"),[q,ye]=Te.useState(null),[ve,_e]=Te.useState(null),[Ne,Ke]=Te.useState(!1),[Se,N]=Te.useState(!1),[T,S]=Te.useState(0),[R,b]=Te.useState(Date.now()),[D,k]=Te.useState({what:"",when:"",where:""}),[Qe,_t]=Te.useState(1500),[dt,ze]=Te.useState(!1),[ee,de]=Te.useState(null),[ne,O]=Te.useState(""),[H,ce]=Te.useState(null),[Ae,Re]=Te.useState(!1),[Pe,Fe]=Te.useState(!1),[Oe,He]=Te.useState("Inspir"),[mt,Zt]=Te.useState("scale-90"),[Xr,cn]=Te.useState("duration-[4000ms]"),[dn,er]=Te.useState(["","",""]),[Jr,Zr]=Te.useState(null),[Wi,_r]=Te.useState(!1),[Vn,Mn]=Te.useState("Obosit"),[ei,wr]=Te.useState([]),[tr,ti]=Te.useState(""),[ht,at]=Te.useState(!1),Ln=Te.useRef(null);Te.useEffect(()=>{const z=V1(wu,B=>{e(B),s(!1),B||(C(Eu()),$(!1))});return()=>z()},[]),Te.useEffect(()=>{if(!i)return;$(!0);const z=rh(sh,"users",i.uid),B=Zk(z,ue=>{if(ue.exists()){const Ee=ue.data(),lt=new Date().toDateString(),et={...Ee};Ee.waterDate!==lt&&(et.waterIntake=0,et.waterDate=lt),Ee.dailyHabitsDate!==lt&&(et.dailyHabits={sleep:!1,nature:!1,reading:!1,gratitude:!1,meditation:!1},et.dailyHabitsDate=lt),Ee.moodDate!==lt&&(et.mood=null,et.moodDate=lt),Ee.breaksTakenDate!==lt&&(et.breaksTaken=0,et.breaksTakenDate=lt),C(et),N(Ee.darkMode||!1),Ke(!Ee.disclaimerAccepted)}else{const Ee=Eu();Ee.profile.name=i.displayName||"",ih(z,Ee),C(Ee),Ke(!0)}$(!1)});return()=>B()},[i]);const Ft=async z=>{if(i)try{const B=rh(sh,"users",i.uid);await ih(B,z,{merge:!0})}catch(B){console.error("Error saving data:",B)}};Te.useEffect(()=>{Se?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[Se]),Te.useEffect(()=>{let z;return dt&&Qe>0?z=setInterval(()=>{_t(B=>B-1)},1e3):Qe===0&&(ze(!1),kt("Sesiune Complet","Ai terminat sesiunea de focus!","success"),ee&&de(null)),()=>clearInterval(z)},[dt,Qe]),Te.useEffect(()=>{let z,B;if(Pe){const ue=()=>{He("Inspir"),Zt("scale-125"),cn("duration-[4000ms]"),B=setTimeout(()=>{He("ine"),Zt("scale-125"),cn("duration-[7000ms]"),B=setTimeout(()=>{He("Expir"),Zt("scale-90"),cn("duration-[8000ms]")},7e3)},4e3)};ue(),z=setInterval(ue,19100)}else He("Start"),Zt("scale-90"),cn("duration-[4000ms]"),clearTimeout(B);return()=>{clearInterval(z),clearTimeout(B)}},[Pe]),Te.useEffect(()=>{let z=0;z+=Math.min(x.waterIntake/x.waterGoal*20,20),z+=Math.min((x.breaksTaken||0)*5,20),Object.values(x.dailyHabits).forEach(B=>{B&&(z+=10)}),x.mood!==null&&(z+=10),S(Math.round(Math.min(z,100)))},[x]);const nr=z=>{const B=Math.floor(z/60),ue=z%60;return`${B}:${ue<10?"0":""}${ue}`},kt=(z,B,ue="info")=>{ye({title:z,message:B,type:ue}),setTimeout(()=>ye(null),5e3)},Er=z=>{const B={...x.dailyHabits,[z]:!x.dailyHabits[z]},ue={...x,dailyHabits:B,dailyHabitsDate:new Date().toDateString()};C(ue),Ft(ue)},qi=z=>{const B={...x,waterIntake:x.waterIntake+z,waterDate:new Date().toDateString()};C(B),Ft(B)},Ki=z=>{const B={...x,mood:z,moodDate:new Date().toDateString()};C(B),Ft(B)},Gi=()=>{if(D.what&&D.when){const z=[...x.customHabits,{...D,id:Date.now(),completed:!1}],B={...x,customHabits:z};C(B),Ft(B),k({what:"",when:"",where:""}),kt("Protocol Salvat","Sincronizat n cloud!","success")}},Qi=z=>{const B=x.customHabits.filter(Ee=>Ee.id!==z),ue={...x,customHabits:B};C(ue),Ft(ue)},jn=z=>{const B={...x,challengeConfig:z};C(B),Ft(B)},xr=z=>{const B={...x,challengeProgress:z};C(B),Ft(B)},ni=()=>{if(dn.some(z=>z.trim()!=="")){const B=[{id:Date.now(),date:new Date().toLocaleDateString("ro-RO",{weekday:"long",day:"numeric",month:"long",year:"numeric"}),time:new Date().toLocaleTimeString("ro-RO",{hour:"2-digit",minute:"2-digit"}),entries:dn.filter(Ee=>Ee.trim()!=="")},...x.journalHistory],ue={...x,journalHistory:B};C(ue),Ft(ue),er(["","",""]),kt("Jurnal Actualizat","Salvat n cloud!","success")}else kt("Jurnal Gol","Scrie mcar un lucru pentru care eti recunosctor.","info")},ri=()=>{navigator.clipboard.writeText("ncearc BioSync Pro! Am nceput s m simt excelent."),kt("Link Copiat","Trimite-l unui prieten care are nevoie.","success")},en=()=>{const z={...x,disclaimerAccepted:!0};Ke(!1),C(z),Ft(z)},xn=()=>{const z=!Se;N(z);const B={...x,darkMode:z};C(B),Ft(B)},ii=async z=>{z.preventDefault(),m("");const B=new FormData(z.target),ue=B.get("email"),Ee=B.get("password"),lt=B.get("name"),et=parseInt(B.get("age"))||30;try{const Un=await R1(wu,ue,Ee);await b1(Un.user,{displayName:lt});const Sr=Eu();Sr.profile={name:lt,age:et,bio:"Biohacker n devenire"},Sr.waterGoal=et>55?2200:2500;const li=rh(sh,"users",Un.user.uid);await ih(li,Sr),kt(`Bun venit, ${lt}!`,"Contul tu a fost creat cu succes.","success")}catch(Un){console.error("Register error:",Un),Un.code==="auth/email-already-in-use"?m("Acest email este deja folosit."):Un.code==="auth/weak-password"?m("Parola trebuie s aib minim 6 caractere."):m("Eroare la nregistrare. ncearc din nou.")}},Tn=async z=>{z.preventDefault(),m("");const B=new FormData(z.target),ue=B.get("email"),Ee=B.get("password");try{await P1(wu,ue,Ee),kt("Bun venit napoi!","Datele tale sunt sincronizate.","success")}catch(lt){console.error("Login error:",lt),m("Email sau parol incorect.")}},Yi=async()=>{try{await M1(wu),kt("Deconectat","Ne vedem curnd!","info")}catch(z){console.error("Logout error:",z)}},Tr=async()=>{if(!ne.trim())return;Re(!0);const z=`Am n frigider: ${ne}. Genereaz o reet sntoas, rapid, bogat n nutrieni pentru creier. Format scurt.`,B=await oh(z,"Eti un chef nutriionist de top.");ce(B),Re(!1)},si=async()=>{var ue;if(!tr.trim())return;const z=tr;ti(""),wr(Ee=>[...Ee,{role:"user",content:z}]),at(!0);const B=await oh(z,`Eti BioSync AI. Vorbeti cu ${((ue=x.profile)==null?void 0:ue.name)||"utilizatorul"}. Fii empatic, nelept i pozitiv.`);wr(Ee=>[...Ee,{role:"ai",content:B}]),at(!1)},Fn=async()=>{_r(!0);const z=await oh();Zr(z),_r(!1)},Xi=()=>v.jsxs("div",{className:"min-h-screen bg-black flex items-center justify-center p-4 font-sans relative overflow-hidden",children:[v.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[url('https://images.unsplash.com/photo-1519681393784-d120267933ba')] bg-cover opacity-10"}),v.jsxs("div",{className:"max-w-md w-full bg-neutral-900 backdrop-blur-xl border border-white/10 rounded-2xl shadow-2xl p-8 animate-fade-in relative z-10 text-white",children:[v.jsxs("div",{className:"text-center mb-8",children:[v.jsx("div",{className:"w-20 h-20 bg-gradient-to-tr from-indigo-500 to-purple-500 rounded-full mx-auto flex items-center justify-center shadow-lg shadow-indigo-500/50 mb-6 animate-pulse",children:v.jsx(_s,{className:"w-10 h-10 text-white"})}),v.jsx("h1",{className:"text-4xl font-bold mb-2",children:"BioSync Pro"}),v.jsx("p",{className:"text-neutral-400",children:"Arhitectura vieii tale ideale."})]}),v.jsxs("div",{className:"flex bg-neutral-800 rounded-xl p-1 mb-6",children:[v.jsx("button",{onClick:()=>{u("login"),m("")},className:`flex-1 py-2 rounded-lg text-sm font-bold transition ${o==="login"?"bg-indigo-600 text-white":"text-neutral-400"}`,children:"Autentificare"}),v.jsx("button",{onClick:()=>{u("register"),m("")},className:`flex-1 py-2 rounded-lg text-sm font-bold transition ${o==="register"?"bg-indigo-600 text-white":"text-neutral-400"}`,children:"Cont Nou"})]}),d&&v.jsxs("div",{className:"bg-red-500/20 border border-red-500/50 text-red-300 px-4 py-3 rounded-xl mb-4 flex items-center gap-2 text-sm",children:[v.jsx(C_,{className:"w-4 h-4 flex-shrink-0"}),d]}),v.jsxs("form",{onSubmit:o==="login"?Tn:ii,className:"space-y-4",children:[o==="register"&&v.jsxs(v.Fragment,{children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-neutral-300 mb-1",children:"Numele tu"}),v.jsxs("div",{className:"relative",children:[v.jsx(pu,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-neutral-500"}),v.jsx("input",{required:!0,name:"name",type:"text",placeholder:"ex: Alex",className:"w-full pl-12 pr-4 py-4 bg-neutral-800 border border-neutral-700 rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none transition text-white placeholder-neutral-500"})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-neutral-300 mb-1",children:"Vrsta"}),v.jsx("input",{required:!0,name:"age",type:"number",placeholder:"ex: 30",className:"w-full p-4 bg-neutral-800 border border-neutral-700 rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none transition text-white placeholder-neutral-500"})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-neutral-300 mb-1",children:"Email"}),v.jsxs("div",{className:"relative",children:[v.jsx(M_,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-neutral-500"}),v.jsx("input",{required:!0,name:"email",type:"email",placeholder:"email@exemplu.com",className:"w-full pl-12 pr-4 py-4 bg-neutral-800 border border-neutral-700 rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none transition text-white placeholder-neutral-500"})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-neutral-300 mb-1",children:"Parol"}),v.jsxs("div",{className:"relative",children:[v.jsx(O_,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-neutral-500"}),v.jsx("input",{required:!0,name:"password",type:g?"text":"password",placeholder:"",className:"w-full pl-12 pr-12 py-4 bg-neutral-800 border border-neutral-700 rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none transition text-white placeholder-neutral-500"}),v.jsx("button",{type:"button",onClick:()=>w(!g),className:"absolute right-4 top-1/2 -translate-y-1/2 text-neutral-500 hover:text-white transition",children:g?v.jsx(N_,{className:"w-5 h-5"}):v.jsx(b_,{className:"w-5 h-5"})})]})]}),v.jsxs("button",{type:"submit",className:"w-full bg-white text-indigo-900 font-bold py-4 rounded-xl hover:bg-neutral-200 transition shadow-lg flex items-center justify-center gap-2 mt-4",children:[o==="login"?"Intr n cont":"Creeaz cont"," ",v.jsx(Ud,{className:"w-5 h-5"})]})]}),v.jsxs("p",{className:"text-center text-xs text-neutral-500 mt-6",children:[" ",new Date().getFullYear()," Cristian Puravu. Toate drepturile rezervate."]})]})]}),rt=()=>{var z;return v.jsxs("div",{className:"space-y-8 animate-fade-in pb-24 md:pb-0",children:[ve&&v.jsx("div",{className:"fixed inset-0 z-[60] bg-black/90 backdrop-blur-md flex items-center justify-center p-4 animate-fade-in",children:v.jsxs("div",{className:"max-w-md w-full bg-neutral-900 border border-white/10 rounded-3xl p-8 relative",children:[v.jsx("button",{onClick:()=>_e(null),className:"absolute top-4 right-4 p-2 bg-neutral-800 rounded-full text-white hover:bg-neutral-700",children:v.jsx(J_,{className:"w-5 h-5"})}),v.jsxs("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[ve==="morning"?v.jsx(Hd,{className:"text-amber-400"}):v.jsx($d,{className:"text-indigo-400"}),ve==="morning"?"Start Zi":"nchidere Zi"]}),v.jsx("div",{className:"space-y-4",children:(ve==="morning"?["Bea 500ml ap","Vezi lumina natural","F patul","Planific top 3 sarcini"]:["nchide ecranele","Pregtete hainele","Jurnal recunotin","Seteaz alarma"]).map((B,ue)=>v.jsxs("div",{className:"flex items-center gap-4 p-4 bg-neutral-800 rounded-xl cursor-pointer hover:bg-neutral-750 transition group",onClick:Ee=>{Ee.currentTarget.classList.toggle("opacity-50"),Ee.currentTarget.querySelector(".check-icon").classList.toggle("hidden")},children:[v.jsx("div",{className:"w-6 h-6 border-2 border-white/30 rounded-full flex items-center justify-center",children:v.jsx(va,{className:"check-icon w-4 h-4 text-emerald-400 hidden"})}),v.jsx("span",{className:"text-white text-lg",children:B})]},ue))}),v.jsx("button",{onClick:()=>{_e(null),kt("Protocol Complet","Excelent!","success")},className:"w-full mt-8 bg-white text-black font-bold py-3 rounded-xl hover:bg-neutral-200",children:"Finalizeaz"})]})}),v.jsxs("div",{className:"relative rounded-3xl overflow-hidden bg-black text-white shadow-2xl border border-neutral-800",children:[v.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-indigo-600 rounded-full blur-[100px] opacity-20 -translate-y-1/2 translate-x-1/2"}),v.jsx("div",{className:"absolute bottom-0 left-0 w-64 h-64 bg-emerald-600 rounded-full blur-[80px] opacity-10 translate-y-1/2 -translate-x-1/2"}),v.jsxs("div",{className:"relative z-10 p-8 flex flex-col md:flex-row justify-between items-center gap-6",children:[v.jsxs("div",{children:[v.jsx("div",{className:"flex items-center gap-4 mb-4",children:["","","",""].map((B,ue)=>v.jsx("button",{onClick:()=>Ki(ue),className:`text-2xl hover:scale-125 transition ${x.mood===ue?"scale-125 drop-shadow-glow":"opacity-50"}`,children:B},ue))}),v.jsxs("h1",{className:"text-3xl md:text-4xl font-bold mb-2 text-white",children:["Salut, ",((z=x.profile)==null?void 0:z.name)||"Oaspete","!"]}),v.jsxs("div",{className:"flex gap-3 mt-4 mb-6",children:[v.jsxs("button",{onClick:()=>_e("morning"),className:"bg-amber-500/20 text-amber-300 border border-amber-500/30 px-4 py-2 rounded-lg text-sm font-bold flex items-center gap-2 hover:bg-amber-500/30 transition",children:[v.jsx(Hd,{className:"w-4 h-4"})," Start Zi"]}),v.jsxs("button",{onClick:()=>_e("evening"),className:"bg-indigo-500/20 text-indigo-300 border border-indigo-500/30 px-4 py-2 rounded-lg text-sm font-bold flex items-center gap-2 hover:bg-indigo-500/30 transition",children:[v.jsx($d,{className:"w-4 h-4"})," nchidere"]})]}),v.jsxs("div",{className:"flex gap-4 flex-wrap",children:[v.jsxs("div",{className:"flex items-center gap-2 bg-white/5 px-4 py-2 rounded-full border border-white/10 backdrop-blur-md",children:[v.jsx(P_,{className:"w-4 h-4 text-blue-400"}),v.jsxs("span",{className:"font-bold text-neutral-200",children:[x.waterIntake," / ",x.waterGoal," ml"]})]}),v.jsx("div",{className:"flex gap-2",children:[250,500].map(B=>v.jsxs("button",{onClick:()=>qi(B),className:"bg-blue-500/20 text-blue-300 px-3 py-1 rounded-lg text-sm font-bold hover:bg-blue-500/30 transition",children:["+",B,"ml"]},B))}),v.jsxs("div",{className:"flex items-center gap-2 bg-white/5 px-4 py-2 rounded-full border border-white/10 backdrop-blur-md",children:[v.jsx(_a,{className:"w-4 h-4 text-amber-400"}),v.jsxs("span",{className:"font-bold text-neutral-200",children:[T," / 100 Puncte"]})]})]})]}),v.jsxs("div",{className:"relative",children:[v.jsx("span",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-3xl font-bold text-white",children:T}),v.jsx(iS,{score:T,size:32})]})]})]}),v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[v.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[v.jsxs("h3",{className:"font-bold text-slate-800 dark:text-neutral-100 text-xl flex items-center gap-2",children:[v.jsx(K_,{className:"w-6 h-6 text-indigo-600 dark:text-indigo-400"})," Laborator de Obiceiuri"]}),v.jsx(En,{className:"border-l-4 border-l-indigo-500 bg-slate-50 dark:bg-black dark:border-neutral-800 p-6",children:v.jsxs("div",{className:"space-y-5",children:[v.jsxs("div",{children:[v.jsx("label",{className:"text-xs font-bold text-slate-500 dark:text-neutral-500 uppercase mb-2 block tracking-wide",children:"Comportament nou (Voi face...)"}),v.jsxs("div",{className:"flex items-center bg-white dark:bg-neutral-900 border border-slate-200 dark:border-neutral-800 rounded-xl px-4 py-3 focus-within:ring-2 focus-within:ring-indigo-500 transition shadow-sm",children:[v.jsx(_a,{className:"w-5 h-5 text-indigo-500 mr-3 flex-shrink-0"}),v.jsx("input",{value:D.what,onChange:B=>k({...D,what:B.target.value}),placeholder:"ex: Voi citi 10 minute din cartea preferat",className:"w-full outline-none text-sm font-medium bg-transparent dark:text-neutral-100 placeholder-slate-400 dark:placeholder-neutral-600"})]})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"text-xs font-bold text-slate-500 dark:text-neutral-500 uppercase mb-2 block tracking-wide",children:"Momentul (La ora / Dup...)"}),v.jsxs("div",{className:"flex items-center bg-white dark:bg-neutral-900 border border-slate-200 dark:border-neutral-800 rounded-xl px-4 py-3 focus-within:ring-2 focus-within:ring-indigo-500 transition shadow-sm",children:[v.jsx(_s,{className:"w-5 h-5 text-amber-500 mr-3 flex-shrink-0"}),v.jsx("input",{value:D.when,onChange:B=>k({...D,when:B.target.value}),placeholder:"ex: imediat dup cafeaua de diminea",className:"w-full outline-none text-sm font-medium bg-transparent dark:text-neutral-100 placeholder-slate-400 dark:placeholder-neutral-600"})]})]}),v.jsx("div",{className:"flex items-end",children:v.jsxs("button",{onClick:Gi,className:"w-full bg-slate-800 dark:bg-indigo-600 text-white px-6 py-3 rounded-xl font-bold hover:bg-slate-900 dark:hover:bg-indigo-700 transition flex items-center justify-center gap-2 shadow-lg hover:shadow-indigo-500/20",children:[v.jsx(z_,{className:"w-5 h-5"})," Activeaz Protocol"]})})]})]})}),v.jsxs("h3",{className:"font-bold text-slate-800 dark:text-neutral-100 text-xl mt-8 flex items-center gap-2",children:[v.jsx(q_,{className:"w-6 h-6 text-emerald-600 dark:text-emerald-400"})," Protocoale Eseniale"]}),v.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[{id:"sleep",label:"Somn 7-8h",sub:"Refacere Neural",icon:$d,color:"indigo"},{id:"nature",label:"Lumin Solar",sub:"Setare Circadian",icon:Hd,color:"amber"},{id:"reading",label:"Deep Work",sub:"Focus 45 min",icon:zd,color:"emerald"},{id:"alcohol",label:"Zero Toxine",sub:"Fr Alcool",icon:X_,color:"rose"}].map(B=>v.jsxs("div",{onClick:()=>Er(B.id),className:`p-4 rounded-2xl border flex items-center gap-4 cursor-pointer transition-all hover:scale-[1.02] ${x.dailyHabits[B.id]?`bg-${B.color}-50 dark:bg-neutral-900 border-${B.color}-200 dark:border-${B.color}-900/50 shadow-sm`:"bg-white dark:bg-neutral-950 border-slate-100 dark:border-neutral-800 hover:shadow-md dark:hover:border-neutral-700"}`,children:[v.jsx("div",{className:`p-3 rounded-xl ${x.dailyHabits[B.id]?`bg-${B.color}-100 dark:bg-${B.color}-900/30 text-${B.color}-700 dark:text-${B.color}-400`:"bg-slate-50 dark:bg-neutral-900 text-slate-400 dark:text-neutral-500"}`,children:v.jsx(B.icon,{className:"w-6 h-6"})}),v.jsxs("div",{className:"flex-1",children:[v.jsx("div",{className:`font-bold ${x.dailyHabits[B.id]?`text-${B.color}-900 dark:text-${B.color}-100`:"text-slate-700 dark:text-neutral-300"}`,children:B.label}),v.jsx("div",{className:"text-xs text-slate-400 dark:text-neutral-500 uppercase tracking-wide font-medium",children:B.sub})]}),x.dailyHabits[B.id]&&v.jsx(va,{className:`w-6 h-6 text-${B.color}-500 animate-bounce-in`})]},B.id))})]}),v.jsx("div",{className:"space-y-6",children:v.jsxs(En,{className:"bg-gradient-to-b from-indigo-600 to-indigo-800 dark:from-indigo-950 dark:to-black text-white border-none shadow-xl dark:border dark:border-indigo-900/30",children:[v.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[v.jsx(Mm,{className:"w-5 h-5 text-yellow-300"}),v.jsx("h3",{className:"font-bold",children:"AI Coach Instant"})]}),v.jsx("p",{className:"text-indigo-100 dark:text-neutral-400 text-sm mb-6 opacity-90",children:"Simi un blocaj? Las inteligena artificial s i reseteze starea n 3 minute."}),Jr?v.jsxs("div",{className:"bg-white/10 rounded-xl p-4 backdrop-blur-md border border-white/10 animate-fade-in",children:[v.jsx("div",{className:"prose prose-sm text-white whitespace-pre-line text-sm mb-4 font-medium leading-relaxed",children:Jr}),v.jsx("button",{onClick:()=>Zr(null),className:"w-full py-2 text-xs bg-white/10 hover:bg-white/20 rounded-lg transition text-white",children:"nchide"})]}):v.jsxs("div",{className:"space-y-3",children:[v.jsxs("select",{value:Vn,onChange:B=>Mn(B.target.value),className:"w-full bg-white/10 border border-white/20 rounded-xl p-3 text-sm outline-none text-white cursor-pointer hover:bg-white/20 transition dark:bg-neutral-900 dark:border-neutral-800",children:[v.jsx("option",{value:"Obosit",className:"text-black dark:text-white dark:bg-neutral-900",children:" Am nevoie de energie"}),v.jsx("option",{value:"Stresat",className:"text-black dark:text-white dark:bg-neutral-900",children:" Vreau s m calmez"}),v.jsx("option",{value:"Dureri de spate",className:"text-black dark:text-white dark:bg-neutral-900",children:" M doare spatele"}),v.jsx("option",{value:"Lipsit de concentrare",className:"text-black dark:text-white dark:bg-neutral-900",children:" Vreau focus"})]}),v.jsx("button",{onClick:Fn,disabled:Wi,className:"w-full bg-white dark:bg-indigo-600 text-indigo-700 dark:text-white font-bold py-3 rounded-xl hover:bg-indigo-50 dark:hover:bg-indigo-700 transition flex justify-center items-center gap-2 shadow-lg",children:Wi?v.jsx(fu,{className:"w-4 h-4 animate-spin"}):"Genereaz Rutina"})]})]})})]})]})},oi=()=>v.jsxs("div",{className:"max-w-xl mx-auto text-center space-y-8 animate-fade-in py-10",children:[v.jsx("h2",{className:"text-3xl font-bold text-slate-800 dark:text-white",children:"Zona de Focus Zen"}),v.jsxs(En,{className:"flex flex-col items-center justify-center p-12 bg-neutral-900 border-neutral-800 relative overflow-hidden",children:[v.jsx("div",{className:"absolute inset-0 bg-indigo-500/5 animate-pulse-slow"}),v.jsx("div",{className:"relative z-10 text-6xl font-mono font-bold text-white mb-8 tracking-wider",children:nr(Qe)}),v.jsxs("div",{className:"flex gap-4 relative z-10",children:[v.jsx("button",{onClick:()=>ze(!dt),className:"w-16 h-16 bg-indigo-600 rounded-full flex items-center justify-center hover:bg-indigo-500 transition shadow-lg shadow-indigo-500/30",children:dt?v.jsx(j_,{className:"w-8 h-8 text-white"}):v.jsx(U_,{className:"w-8 h-8 text-white ml-1"})}),v.jsx("button",{onClick:()=>{ze(!1),_t(1500)},className:"w-16 h-16 bg-neutral-800 rounded-full flex items-center justify-center hover:bg-neutral-700 transition",children:v.jsx(B_,{className:"w-6 h-6 text-neutral-400"})})]}),v.jsx("div",{className:"mt-12 flex gap-4",children:["rain","forest","white"].map(z=>v.jsxs("button",{onClick:()=>de(z===ee?null:z),className:`px-4 py-2 rounded-full border text-sm font-medium transition flex items-center gap-2 ${ee===z?"bg-indigo-900/50 border-indigo-500 text-indigo-300":"bg-transparent border-neutral-700 text-neutral-500"}`,children:[v.jsx(Q_,{className:"w-4 h-4"})," ",z.charAt(0).toUpperCase()+z.slice(1),ee===z&&v.jsx("div",{className:"w-2 h-2 bg-indigo-400 rounded-full animate-bounce"})]},z))})]})]}),hn=()=>v.jsxs("div",{className:"max-w-3xl mx-auto space-y-8 animate-fade-in",children:[v.jsxs("div",{className:"text-center mb-8",children:[v.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-white mb-2",children:"Nutriie & Energie"}),v.jsx("p",{className:"text-slate-500 dark:text-neutral-400",children:"Combustibil pentru performan mental."})]}),v.jsx(En,{className:"bg-gradient-to-r from-emerald-900 to-teal-900 text-white border-none relative overflow-hidden",children:v.jsx("div",{className:"relative z-10 flex flex-col md:flex-row gap-6 items-center",children:v.jsxs("div",{className:"flex-1",children:[v.jsxs("h2",{className:"text-2xl font-bold mb-2 flex items-center gap-2",children:[v.jsx(Wd,{className:"w-6 h-6"})," Chef AI"]}),v.jsx("p",{className:"text-emerald-100 mb-4 text-sm",children:"Spune-mi ce ingrediente ai, iar eu i voi genera o reet optimizat pentru creier."}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("input",{value:ne,onChange:z=>O(z.target.value),placeholder:"ex: ou, spanac, avocado...",className:"flex-1 bg-white/10 border border-white/20 rounded-xl px-4 py-2 text-sm focus:outline-none text-white placeholder-white/30"}),v.jsx("button",{onClick:Tr,disabled:Ae,className:"bg-white text-emerald-900 px-4 py-2 rounded-xl font-bold hover:bg-emerald-50 transition",children:Ae?v.jsx(fu,{className:"w-5 h-5 animate-spin"}):"Genereaz"})]})]})})}),H&&v.jsxs(En,{className:"animate-fade-in border-l-4 border-l-emerald-500",children:[v.jsx("h3",{className:"font-bold text-lg text-slate-800 dark:text-white mb-3",children:"Reeta Recomandat:"}),v.jsx("div",{className:"prose prose-sm text-slate-600 dark:text-neutral-300 whitespace-pre-line",children:H})]})]}),Ir=()=>v.jsxs("div",{className:"max-w-4xl mx-auto space-y-8 animate-fade-in",children:[v.jsxs("div",{className:"text-center mb-10",children:[v.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-white mb-3",children:"Provocarea de 30 de Zile"}),v.jsx("p",{className:"text-slate-500 dark:text-neutral-400 max-w-lg mx-auto",children:"Transform o dorin ntr-un obicei de fier."})]}),x.challengeConfig.isConfigured?v.jsxs(En,{className:"bg-neutral-900 border-neutral-800 overflow-hidden relative",children:[v.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-rose-600/10 rounded-full blur-[80px] -translate-y-1/2 translate-x-1/2"}),v.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 border-b border-neutral-800 pb-6 relative z-10",children:[v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsx("div",{className:"p-3 bg-gradient-to-br from-rose-500 to-orange-600 rounded-2xl shadow-lg shadow-rose-900/30",children:v.jsx(hu,{className:"w-8 h-8 text-white animate-pulse-slow"})}),v.jsxs("div",{children:[v.jsx("h2",{className:"text-2xl font-bold text-white tracking-tight",children:x.challengeConfig.name}),v.jsxs("div",{className:"flex items-center gap-2 text-rose-300 text-sm mt-1",children:[v.jsx(D_,{className:"w-3 h-3"}),v.jsxs("span",{children:["Recompens: ",x.challengeConfig.reward||"Satisfacie personal"]})]})]})]}),v.jsxs("div",{className:"mt-4 md:mt-0 flex items-center gap-6",children:[v.jsxs("div",{className:"text-right",children:[v.jsxs("div",{className:"text-3xl font-bold text-white leading-none",children:[x.challengeProgress.filter(Boolean).length,v.jsx("span",{className:"text-neutral-600 text-lg",children:"/30"})]}),v.jsx("div",{className:"text-xs text-neutral-500 font-medium uppercase tracking-wider mt-1",children:"Zile Completate"})]}),v.jsxs("div",{className:"text-right border-l border-neutral-800 pl-6",children:[v.jsx("div",{className:"text-3xl font-bold text-white leading-none",children:30-x.challengeProgress.filter(Boolean).length}),v.jsx("div",{className:"text-xs text-neutral-500 font-medium uppercase tracking-wider mt-1",children:"Zile Rmase"})]}),v.jsx("button",{onClick:()=>jn({...x.challengeConfig,isConfigured:!1}),className:"p-2 bg-neutral-800 rounded-lg text-neutral-400 hover:text-white hover:bg-neutral-700 transition ml-2",title:"Editeaz Provocarea",children:v.jsx(F_,{className:"w-4 h-4"})})]})]}),v.jsxs("div",{className:"relative z-10",children:[v.jsx("div",{className:"grid grid-cols-5 sm:grid-cols-6 md:grid-cols-10 gap-3",children:x.challengeProgress.map((z,B)=>v.jsxs("button",{onClick:()=>{const ue=[...x.challengeProgress];ue[B]=!ue[B],xr(ue),ue[B]&&(B+1)%7===0&&kt("Bravo!",`Ai completat sptmna ${Math.ceil((B+1)/7)}!`,"success")},className:`
                                      aspect-square rounded-xl flex flex-col items-center justify-center text-sm font-bold transition-all duration-300 relative overflow-hidden group
                                      ${z?"bg-rose-600 text-white shadow-lg shadow-rose-900/50 scale-105 border border-rose-500":"bg-neutral-800 text-neutral-500 border border-neutral-700 hover:border-neutral-600 hover:bg-neutral-750"}
                                  `,children:[v.jsx("span",{className:`relative z-10 ${z?"text-lg":""}`,children:B+1}),z&&v.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent"}),z&&v.jsx(va,{className:"w-3 h-3 absolute bottom-1 opacity-50"})]},B))}),v.jsx("div",{className:"w-full h-1 bg-neutral-800 mt-8 rounded-full overflow-hidden",children:v.jsx("div",{className:"h-full bg-gradient-to-r from-rose-500 to-orange-500 transition-all duration-1000 ease-out",style:{width:`${x.challengeProgress.filter(Boolean).length/30*100}%`}})}),v.jsx("div",{className:"mt-6 text-center text-neutral-500 text-xs italic",children:'"Nu te opri cnd eti obosit. Oprete-te cnd ai terminat."'})]})]}):v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 items-start",children:[v.jsxs(En,{className:"bg-white dark:bg-neutral-900 border-none shadow-lg",children:[v.jsxs("h3",{className:"font-bold text-slate-800 dark:text-white mb-4 flex items-center gap-2",children:[v.jsx(L_,{className:"w-5 h-5 text-indigo-500"})," Sugestii Populare"]}),v.jsx("div",{className:"space-y-3",children:[{name:"Fr Zahr",reward:"Ten curat & Energie stabil",icon:""},{name:"Duuri Reci",reward:"Dopamin & Imunitate",icon:""},{name:"30 Min Citit",reward:"Claritate mental",icon:""},{name:"Fr Social Media",reward:"Timp rectigat",icon:""},{name:"Alergare Zilnic",reward:"Condiie fizic",icon:""}].map((z,B)=>v.jsxs("div",{onClick:()=>jn({name:z.name,reward:z.reward,isConfigured:!1}),className:"flex items-center justify-between p-3 rounded-xl bg-slate-50 dark:bg-neutral-800 hover:bg-indigo-50 dark:hover:bg-neutral-700 cursor-pointer transition border border-transparent hover:border-indigo-200 group",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("span",{className:"text-xl",children:z.icon}),v.jsxs("div",{children:[v.jsx("div",{className:"font-bold text-sm text-slate-700 dark:text-white",children:z.name}),v.jsx("div",{className:"text-xs text-slate-500 dark:text-neutral-400",children:z.reward})]})]}),v.jsx(Ud,{className:"w-4 h-4 text-slate-300 group-hover:text-indigo-500"})]},B))})]}),v.jsxs(En,{className:"bg-gradient-to-br from-indigo-900 to-slate-900 text-white border-none p-8 relative overflow-hidden",children:[v.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-indigo-500 rounded-full blur-[80px] opacity-20 -mr-16 -mt-16"}),v.jsxs("div",{className:"relative z-10",children:[v.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[v.jsx("div",{className:"p-3 bg-white/10 rounded-xl backdrop-blur-md",children:v.jsx(hu,{className:"w-6 h-6 text-orange-400"})}),v.jsx("h2",{className:"text-xl font-bold",children:"Configureaz"})]}),v.jsxs("div",{className:"space-y-5",children:[v.jsxs("div",{children:[v.jsx("label",{className:"text-xs font-bold text-indigo-200 uppercase tracking-wide mb-2 block",children:"Numele Provocrii"}),v.jsx("input",{placeholder:"ex: Meditaie la 6 AM...",className:"w-full bg-white/10 border border-white/10 rounded-xl p-4 text-white placeholder-indigo-200/50 focus:ring-2 focus:ring-orange-400 outline-none transition",value:x.challengeConfig.name,onChange:z=>jn({...x.challengeConfig,name:z.target.value})})]}),v.jsxs("div",{children:[v.jsx("label",{className:"text-xs font-bold text-indigo-200 uppercase tracking-wide mb-2 block",children:"Recompensa (De ce?)"}),v.jsx("input",{placeholder:"ex: M voi simi invincibil...",className:"w-full bg-white/10 border border-white/10 rounded-xl p-4 text-white placeholder-indigo-200/50 focus:ring-2 focus:ring-orange-400 outline-none transition",value:x.challengeConfig.reward,onChange:z=>jn({...x.challengeConfig,reward:z.target.value})})]}),v.jsxs("button",{disabled:!x.challengeConfig.name,onClick:()=>jn({...x.challengeConfig,isConfigured:!0}),className:"w-full bg-orange-500 hover:bg-orange-600 text-white font-bold py-4 rounded-xl transition shadow-lg shadow-orange-500/30 flex justify-center items-center gap-2 mt-4",children:["Start Aventur ",v.jsx(Ud,{className:"w-5 h-5"})]})]})]})]})]})]}),kr=()=>v.jsxs("div",{className:"max-w-4xl mx-auto space-y-8 animate-fade-in pb-24 md:pb-0",children:[v.jsxs("div",{className:"text-center mb-10",children:[v.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-white mb-2",children:"Sanctuarul Minii"}),v.jsx("p",{className:"text-slate-500 dark:text-neutral-400",children:"Echilibru interior prin respiraie i recunotin."})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[v.jsxs(En,{className:"flex flex-col items-center justify-center min-h-[400px] bg-gradient-to-b from-cyan-50 to-blue-50 dark:from-neutral-900 dark:to-black border-cyan-100 dark:border-neutral-800 relative overflow-hidden",children:[v.jsxs("div",{className:"absolute top-4 right-4 bg-white dark:bg-neutral-800 px-3 py-1 rounded-full text-xs font-bold text-cyan-600 dark:text-cyan-400 shadow-sm flex items-center gap-1",children:[v.jsx(Y_,{className:"w-3 h-3"})," 4-7-8 (Relaxare)"]}),v.jsx("div",{className:`w-48 h-48 rounded-full bg-gradient-to-tr from-cyan-400 to-blue-500 flex items-center justify-center text-white text-2xl font-bold shadow-2xl shadow-cyan-400/40 transition-all ease-in-out ${mt} ${Xr}`,children:Oe}),v.jsx("p",{className:"mt-8 text-slate-600 dark:text-neutral-400 text-center max-w-xs text-sm",children:Pe?Oe==="Inspir"?"Umple plmnii ncet...":Oe==="ine"?"Pstreaz aerul...":"Elibereaz tot aerul...":"Protocol 4-7-8: Inspir 4s, ine 7s, Expir 8s. Reduce anxietatea rapid."}),v.jsx("button",{onClick:()=>Fe(!Pe),className:`mt-6 px-8 py-3 rounded-xl font-bold transition shadow-lg ${Pe?"bg-slate-200 dark:bg-neutral-800 text-slate-600 dark:text-neutral-300":"bg-cyan-600 text-white hover:bg-cyan-700"}`,children:Pe?"Oprete":"ncepe Respiraia"})]}),v.jsxs(En,{className:"bg-gradient-to-b from-rose-50 to-pink-50 dark:from-neutral-900 dark:to-black border-rose-100 dark:border-neutral-800",children:[v.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[v.jsx(Bd,{className:"w-6 h-6 text-rose-500 fill-rose-500"}),v.jsx("h2",{className:"text-xl font-bold text-rose-900 dark:text-neutral-200",children:"Jurnal de Recunotin"})]}),v.jsx("p",{className:"text-sm text-rose-800 dark:text-neutral-400 mb-6 opacity-80",children:"Ce te-a fcut s zmbeti astzi? Scrie sau alege o sugestie."}),v.jsx("div",{className:"space-y-6",children:dn.map((z,B)=>v.jsxs("div",{children:[v.jsxs("div",{className:"relative",children:[v.jsxs("span",{className:"absolute left-4 top-3.5 text-rose-300 dark:text-neutral-500 font-bold",children:[B+1,"."]}),v.jsx("input",{value:z,onChange:ue=>{const Ee=[...dn];Ee[B]=ue.target.value,er(Ee)},placeholder:"Sunt recunosctor pentru...",className:"w-full pl-10 pr-4 py-3 bg-white dark:bg-neutral-900 border border-rose-100 dark:border-neutral-800 rounded-xl text-slate-700 dark:text-neutral-200 focus:ring-2 focus:ring-rose-300 outline-none transition placeholder-rose-200 dark:placeholder-neutral-600"})]}),z===""&&v.jsx("div",{className:"flex gap-2 mt-2 flex-wrap",children:["Un apus frumos","O cafea bun","Sntatea mea","Un prieten drag","Muzica preferat"].map(ue=>v.jsx("button",{onClick:()=>{const Ee=[...dn];Ee[B]=ue,er(Ee)},className:"text-xs bg-white/50 dark:bg-neutral-900/50 px-3 py-1 rounded-full text-rose-600 dark:text-rose-400 hover:bg-rose-100 dark:hover:bg-neutral-800 transition",children:ue},ue))})]},B))}),v.jsxs("button",{onClick:ni,className:"w-full mt-6 bg-rose-500 hover:bg-rose-600 text-white font-bold py-3 rounded-xl transition shadow-lg shadow-rose-500/20 flex items-center justify-center gap-2",children:[v.jsx(Om,{className:"w-4 h-4"})," Salveaz n Jurnal"]})]})]}),x.journalHistory.length>0&&v.jsxs("div",{className:"mt-12",children:[v.jsxs("h3",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-6 flex items-center gap-2",children:[v.jsx(Om,{className:"w-6 h-6 text-indigo-500"})," Memoriile Tale"]}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:x.journalHistory.map(z=>v.jsxs(En,{className:"relative group hover:shadow-md transition",children:[v.jsx("div",{className:"flex justify-between items-start mb-4",children:v.jsxs("div",{children:[v.jsxs("div",{className:"font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[v.jsx(A_,{className:"w-4 h-4 text-indigo-500"})," ",z.date]}),v.jsxs("div",{className:"text-xs text-slate-500 dark:text-neutral-500 flex items-center gap-1 mt-1",children:[v.jsx(R_,{className:"w-3 h-3"})," ",z.time]})]})}),v.jsx("ul",{className:"space-y-2",children:z.entries.map((B,ue)=>v.jsxs("li",{className:"text-sm text-slate-600 dark:text-neutral-300 flex items-start gap-2",children:[v.jsx("span",{className:"text-rose-400 mt-1",children:""})," ",typeof B=="string"?B:JSON.stringify(B)]},ue))})]},z.id))})]})]}),ai=()=>{var z,B;return v.jsxs("div",{className:"max-w-3xl mx-auto space-y-8 animate-fade-in pb-24 md:pb-0",children:[v.jsxs("div",{className:"relative",children:[v.jsx("div",{className:"h-32 bg-gradient-to-r from-indigo-600 to-purple-600 rounded-t-3xl"}),v.jsxs("div",{className:"bg-white dark:bg-neutral-950 rounded-b-3xl shadow-sm border border-slate-100 dark:border-neutral-800 p-6 pt-0 relative",children:[v.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-end -mt-12 mb-4 gap-4",children:[v.jsx("div",{className:"w-24 h-24 bg-slate-100 dark:bg-neutral-900 rounded-full border-4 border-white dark:border-neutral-950 shadow-md flex items-center justify-center overflow-hidden",children:v.jsx(pu,{className:"w-10 h-10 text-slate-300 dark:text-neutral-600"})}),v.jsxs("div",{className:"text-center md:text-left flex-1",children:[v.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:((z=x.profile)==null?void 0:z.name)||"Utilizator"}),v.jsxs("p",{className:"text-slate-500 dark:text-neutral-400 text-sm",children:["Biohacker Level 3  ",((B=x.profile)==null?void 0:B.age)||0," ani"]}),v.jsx("p",{className:"text-xs text-slate-400 dark:text-neutral-500 mt-1",children:i==null?void 0:i.email})]}),v.jsxs("button",{onClick:ri,className:"bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600 dark:text-indigo-400 px-4 py-2 rounded-lg font-bold text-sm hover:bg-indigo-100 dark:hover:bg-indigo-900/40 transition flex items-center gap-2",children:[v.jsx(W_,{className:"w-4 h-4"})," Recomand App"]})]}),v.jsxs("div",{className:"grid grid-cols-3 gap-4 border-t border-slate-100 dark:border-neutral-800 pt-6 text-center",children:[v.jsxs("div",{children:[v.jsx("div",{className:"font-bold text-xl text-slate-800 dark:text-white",children:T}),v.jsx("div",{className:"text-xs text-slate-400 uppercase tracking-wide",children:"Scor Azi"})]}),v.jsxs("div",{children:[v.jsx("div",{className:"font-bold text-xl text-slate-800 dark:text-white",children:x.customHabits.length}),v.jsx("div",{className:"text-xs text-slate-400 uppercase tracking-wide",children:"Protocoale"})]}),v.jsxs("div",{children:[v.jsx("div",{className:"font-bold text-xl text-slate-800 dark:text-white",children:x.challengeProgress.filter(Boolean).length}),v.jsx("div",{className:"text-xs text-slate-400 uppercase tracking-wide",children:"Zile Provocare"})]})]})]})]}),v.jsxs("div",{children:[v.jsxs("h3",{className:"font-bold text-slate-800 dark:text-white mb-4 flex items-center gap-2 text-lg",children:[v.jsx(_s,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"})," Protocoalele Tale Active"]}),x.customHabits.length===0?v.jsxs("div",{className:"text-center p-8 bg-slate-50 dark:bg-neutral-900 rounded-2xl border border-dashed border-slate-300 dark:border-neutral-700",children:[v.jsx("p",{className:"text-slate-500 dark:text-neutral-400",children:"Nu ai definit nc niciun protocol personalizat."}),v.jsx("button",{onClick:()=>Z("dashboard"),className:"text-indigo-600 dark:text-indigo-400 font-bold text-sm mt-2 hover:underline",children:"Mergi la Laborator"})]}):v.jsx("div",{className:"space-y-3",children:x.customHabits.map(ue=>v.jsxs("div",{className:"bg-white dark:bg-neutral-950 p-4 rounded-xl border border-slate-100 dark:border-neutral-800 flex items-center justify-between shadow-sm hover:shadow-md transition",children:[v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsx("div",{className:"w-10 h-10 rounded-full bg-indigo-50 dark:bg-indigo-900 flex items-center justify-center text-indigo-600 dark:text-indigo-300 font-bold",children:ue.what[0].toUpperCase()}),v.jsxs("div",{children:[v.jsx("div",{className:"font-bold text-slate-800 dark:text-white",children:ue.what}),v.jsx("div",{className:"text-xs text-slate-500 dark:text-neutral-400 flex gap-2",children:v.jsx("span",{className:"bg-slate-100 dark:bg-neutral-900 px-2 py-0.5 rounded text-slate-500 dark:text-neutral-400",children:ue.when})})]})]}),v.jsx("button",{onClick:()=>Qi(ue.id),className:"p-2 text-slate-300 hover:text-red-500 transition",children:v.jsx(G_,{className:"w-5 h-5"})})]},ue.id))})]}),v.jsxs("div",{children:[v.jsxs("h3",{className:"font-bold text-slate-800 dark:text-white mb-4 flex items-center gap-2 text-lg",children:[v.jsx(H_,{className:"w-5 h-5 text-slate-600 dark:text-neutral-400"})," Setri Cont"]}),v.jsxs(En,{className:"space-y-4",children:[v.jsxs("div",{onClick:xn,className:"flex justify-between items-center p-2 hover:bg-slate-50 dark:hover:bg-neutral-900 rounded-lg transition cursor-pointer",children:[v.jsx("span",{className:"text-slate-700 dark:text-neutral-200 font-medium",children:"Mod ntunecat"}),v.jsx("div",{className:`w-10 h-5 rounded-full relative transition-colors duration-300 ${Se?"bg-indigo-600":"bg-slate-200"}`,children:v.jsx("div",{className:`absolute top-1 w-3 h-3 bg-white rounded-full shadow-sm transition-all duration-300 ${Se?"left-6":"left-1"}`})})]}),v.jsxs("div",{className:"flex justify-between items-center p-2",children:[v.jsx("span",{className:"text-slate-700 dark:text-neutral-200 font-medium",children:"Sincronizare Cloud"}),v.jsxs("span",{className:"text-xs bg-emerald-100 dark:bg-emerald-900/30 text-emerald-600 dark:text-emerald-400 px-2 py-1 rounded-full font-bold flex items-center gap-1",children:[v.jsx(va,{className:"w-3 h-3"})," Activ"]})]}),v.jsx("div",{className:"pt-4 border-t border-slate-100 dark:border-neutral-800",children:v.jsxs("button",{onClick:Yi,className:"text-red-500 text-sm font-bold flex items-center gap-2 hover:bg-red-50 dark:hover:bg-red-900/20 p-2 rounded-lg transition w-full",children:[v.jsx(V_,{className:"w-4 h-4"})," Deconectare"]})})]})]})]})},fn=()=>v.jsxs("div",{className:"space-y-6 pb-24 md:pb-0 animate-fade-in",children:[v.jsxs("div",{className:"bg-indigo-900 dark:bg-black text-white p-10 rounded-3xl relative overflow-hidden shadow-xl border border-transparent dark:border-neutral-800",children:[v.jsxs("div",{className:"relative z-10 max-w-2xl",children:[v.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Cunoaterea este Putere"}),v.jsx("p",{className:"text-indigo-200 text-lg",children:"Exploreaz mecanismele biologice care i controleaz energia, fericirea i productivitatea."})]}),v.jsx(zd,{className:"absolute -right-6 -bottom-6 w-48 h-48 text-indigo-950 dark:text-neutral-900 opacity-50"}),v.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-purple-500 rounded-full blur-[100px] opacity-20"})]}),Object.entries(rS).map(([z,B])=>v.jsxs("div",{children:[v.jsxs("h3",{className:"text-xl font-bold text-slate-800 dark:text-white capitalize mb-4 ml-2 flex items-center gap-2",children:[v.jsx("span",{className:"w-2 h-2 bg-indigo-500 rounded-full"})," ",z]}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:B.map((ue,Ee)=>v.jsxs(En,{className:"hover:shadow-lg transition hover:-translate-y-1 duration-300 border-l-4 border-l-transparent hover:border-l-indigo-500",children:[v.jsx("h4",{className:"font-bold text-slate-800 dark:text-white mb-2",children:ue.title}),v.jsx("p",{className:"text-sm text-slate-600 dark:text-neutral-400 leading-relaxed",children:ue.content})]},Ee))})]},z))]}),Ji=()=>v.jsxs("div",{className:"h-[85vh] flex flex-col bg-white dark:bg-neutral-950 rounded-3xl shadow-2xl overflow-hidden animate-fade-in border border-slate-100 dark:border-neutral-800 max-w-4xl mx-auto",children:[v.jsx("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 dark:from-neutral-900 dark:to-neutral-950 p-6 text-white flex justify-between items-center shadow-md z-10 dark:border-b dark:border-neutral-800",children:v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsx("div",{className:"p-3 bg-white/20 backdrop-blur-sm rounded-xl",children:v.jsx(_a,{className:"w-6 h-6"})}),v.jsxs("div",{children:[v.jsx("h2",{className:"font-bold text-lg",children:"BioSync Mentor"}),v.jsx("p",{className:"text-xs text-indigo-100 dark:text-neutral-400 font-medium",children:"Inteligen Artificial & Neurotiin"})]})]})}),v.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6 bg-slate-50 dark:bg-black",children:[ei.length===0&&v.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-slate-400",children:[v.jsx(Mm,{className:"w-16 h-16 mb-4 text-indigo-200 dark:text-neutral-800 animate-pulse"}),v.jsx("p",{className:"font-medium text-lg text-slate-600 dark:text-neutral-500",children:"Cum te pot ajuta astzi?"}),v.jsxs("div",{className:"flex gap-2 mt-4",children:[v.jsx("span",{className:"text-xs bg-white dark:bg-neutral-900 px-3 py-1 rounded-full border border-slate-200 dark:border-neutral-800 text-slate-600 dark:text-neutral-400",children:"Somn"}),v.jsx("span",{className:"text-xs bg-white dark:bg-neutral-900 px-3 py-1 rounded-full border border-slate-200 dark:border-neutral-800 text-slate-600 dark:text-neutral-400",children:"Stres"}),v.jsx("span",{className:"text-xs bg-white dark:bg-neutral-900 px-3 py-1 rounded-full border border-slate-200 dark:border-neutral-800 text-slate-600 dark:text-neutral-400",children:"Nutriie"})]})]}),ei.map((z,B)=>v.jsx("div",{className:`flex ${z.role==="user"?"justify-end":"justify-start"}`,children:v.jsx("div",{className:`p-5 rounded-2xl max-w-[85%] text-sm leading-relaxed shadow-sm ${z.role==="user"?"bg-indigo-600 text-white rounded-br-none":"bg-white dark:bg-neutral-900 border border-slate-100 dark:border-neutral-800 text-slate-700 dark:text-neutral-300 rounded-bl-none"}`,children:z.content})},B)),ht&&v.jsx("div",{className:"flex justify-start",children:v.jsxs("div",{className:"bg-white dark:bg-neutral-900 border border-slate-200 dark:border-neutral-800 px-4 py-3 rounded-2xl rounded-bl-none shadow-sm flex gap-1 items-center",children:[v.jsx("span",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce"}),v.jsx("span",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce delay-75"}),v.jsx("span",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce delay-150"})]})}),v.jsx("div",{ref:Ln})]}),v.jsx("div",{className:"p-4 bg-white dark:bg-neutral-950 border-t border-slate-100 dark:border-neutral-800",children:v.jsxs("div",{className:"flex gap-3 bg-slate-50 dark:bg-neutral-900 p-2 rounded-2xl border border-slate-200 dark:border-neutral-800 focus-within:ring-2 focus-within:ring-indigo-100 dark:focus-within:ring-neutral-700 transition-all",children:[v.jsx("input",{value:tr,onChange:z=>ti(z.target.value),onKeyPress:z=>z.key==="Enter"&&si(),placeholder:"Scrie mesajul tu...",className:"flex-1 bg-transparent border-none px-4 py-2 text-sm focus:outline-none text-slate-800 dark:text-neutral-200 placeholder-slate-400 dark:placeholder-neutral-600"}),v.jsx("button",{onClick:si,className:"bg-indigo-600 hover:bg-indigo-700 text-white p-3 rounded-xl transition shadow-md",children:v.jsx($_,{className:"w-5 h-5"})})]})})]});return t?v.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"w-16 h-16 bg-gradient-to-tr from-indigo-500 to-purple-500 rounded-full mx-auto flex items-center justify-center shadow-lg shadow-indigo-500/50 mb-4 animate-pulse",children:v.jsx(_s,{className:"w-8 h-8 text-white"})}),v.jsx(fu,{className:"w-6 h-6 text-indigo-400 animate-spin mx-auto"})]})}):i?j?v.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:v.jsxs("div",{className:"text-center",children:[v.jsx(fu,{className:"w-8 h-8 text-indigo-400 animate-spin mx-auto mb-4"}),v.jsx("p",{className:"text-neutral-400",children:"Se ncarc datele tale..."})]})}):v.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-black font-sans text-slate-900 dark:text-neutral-100 flex flex-col md:flex-row transition-colors duration-300",children:[Ne&&v.jsx("div",{className:"fixed inset-0 z-[100] bg-black/90 backdrop-blur-md flex items-center justify-center p-4 animate-fade-in",children:v.jsxs("div",{className:"max-w-lg w-full bg-white dark:bg-neutral-900 rounded-3xl p-8 shadow-2xl border border-slate-200 dark:border-neutral-800",children:[v.jsxs("div",{className:"text-center mb-6",children:[v.jsx("div",{className:"w-16 h-16 bg-gradient-to-tr from-indigo-500 to-purple-500 rounded-2xl mx-auto flex items-center justify-center shadow-lg shadow-indigo-500/30 mb-4",children:v.jsx(Bd,{className:"w-8 h-8 text-white"})}),v.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-2",children:"Bun venit n BioSync Pro!"}),v.jsx("p",{className:"text-slate-500 dark:text-neutral-400 text-sm",children:"Creat cu pasiune de Cristian Puravu"})]}),v.jsxs("div",{className:"bg-slate-50 dark:bg-neutral-800 rounded-xl p-4 mb-6 text-sm text-slate-600 dark:text-neutral-300 space-y-3",children:[v.jsx("p",{children:v.jsx("strong",{className:"text-slate-800 dark:text-white",children:" Disclaimer Important:"})}),v.jsxs("p",{children:["Aceast aplicaie este creat n scop educaional i de uz personal. Informaiile oferite ",v.jsx("strong",{children:"nu constituie sfaturi medicale, nutriionale sau psihologice"})," profesionale."]}),v.jsx("p",{children:"Consult ntotdeauna un specialist calificat nainte de a face schimbri semnificative n stilul tu de via, diet sau rutin de sntate."}),v.jsx("p",{children:"Utilizarea aplicaiei se face pe propria rspundere. Creatorul nu i asum responsabilitatea pentru deciziile luate pe baza informaiilor prezentate."})]}),v.jsxs("button",{onClick:en,className:"w-full bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-bold py-4 rounded-xl hover:from-indigo-700 hover:to-purple-700 transition shadow-lg flex items-center justify-center gap-2",children:[v.jsx(va,{className:"w-5 h-5"})," Am neles, continu"]}),v.jsxs("p",{className:"text-center text-xs text-slate-400 dark:text-neutral-500 mt-4",children:[" ",new Date().getFullYear()," Cristian Puravu. Toate drepturile rezervate."]})]})}),v.jsxs("nav",{className:"bg-white dark:bg-black border-r border-slate-200 dark:border-neutral-800 w-20 lg:w-64 h-screen fixed hidden md:flex flex-col z-50 shadow-sm transition-colors duration-300",children:[v.jsx("div",{className:"p-6",children:v.jsxs("div",{className:"flex items-center gap-3 text-indigo-700 dark:text-indigo-400 font-bold text-xl",children:[v.jsx("div",{className:"w-10 h-10 bg-gradient-to-tr from-indigo-600 to-violet-600 rounded-xl flex items-center justify-center text-white shadow-lg shadow-indigo-500/30",children:v.jsx(_s,{className:"w-6 h-6"})}),v.jsx("span",{className:"hidden lg:block tracking-tight",children:"BioSync"})]})}),v.jsx("div",{className:"flex-1 px-4 space-y-2 mt-4 overflow-y-auto scrollbar-hide",children:[{id:"dashboard",label:"Dashboard",icon:_s},{id:"focus",label:"Focus Zen",icon:Lm},{id:"nutrition",label:"Nutriie AI",icon:Wd},{id:"challenges",label:"Provocri",icon:hu},{id:"mindfulness",label:"Minte & Suflet",icon:Vm},{id:"knowledge",label:"Bibliotec",icon:zd},{id:"profile",label:"Profilul Meu",icon:pu},{id:"ai-coach",label:"AI Coach",icon:_a}].map(z=>v.jsxs("button",{onClick:()=>Z(z.id),className:`w-full flex items-center gap-3 p-3.5 rounded-xl transition-all duration-300 group ${Y===z.id?"bg-indigo-50 dark:bg-neutral-900 text-indigo-700 dark:text-indigo-400 font-bold shadow-sm":"text-slate-500 dark:text-neutral-400 hover:bg-slate-50 dark:hover:bg-neutral-900 hover:text-slate-900 dark:hover:text-neutral-200"}`,children:[v.jsx(z.icon,{className:`w-5 h-5 ${Y===z.id?"stroke-[2.5px]":""}`}),v.jsx("span",{className:"hidden lg:block text-sm font-medium",children:z.label}),Y===z.id&&v.jsx("div",{className:"ml-auto w-1.5 h-1.5 rounded-full bg-indigo-500 hidden lg:block"})]},z.id))})]}),v.jsx("nav",{className:"md:hidden fixed bottom-0 w-full bg-white/90 dark:bg-black/90 backdrop-blur-lg border-t border-slate-200 dark:border-neutral-800 z-50 pb-safe shadow-[0_-5px_15px_rgba(0,0,0,0.02)] transition-colors duration-300",children:v.jsx("div",{className:"flex justify-start overflow-x-auto p-2 gap-2 scrollbar-hide",children:[{id:"dashboard",icon:_s},{id:"focus",icon:Lm},{id:"nutrition",icon:Wd},{id:"challenges",icon:hu},{id:"mindfulness",icon:Vm},{id:"ai-coach",icon:_a},{id:"profile",icon:pu}].map(z=>v.jsx("button",{onClick:()=>Z(z.id),className:`p-3 rounded-2xl flex-shrink-0 transition-all ${Y===z.id?"text-indigo-600 dark:text-indigo-400 bg-indigo-50 dark:bg-neutral-900 scale-110":"text-slate-400 dark:text-neutral-500"}`,children:v.jsx(z.icon,{className:"w-6 h-6"})},z.id))})}),v.jsx("main",{className:"flex-1 md:ml-20 lg:ml-64 p-4 md:p-8 min-h-screen bg-slate-50/50 dark:bg-black transition-colors duration-300",children:v.jsxs("div",{className:"max-w-6xl mx-auto",children:[Y==="dashboard"&&rt(),Y==="focus"&&oi(),Y==="nutrition"&&hn(),Y==="challenges"&&Ir(),Y==="mindfulness"&&kr(),Y==="profile"&&ai(),Y==="knowledge"&&fn(),Y==="ai-coach"&&Ji(),v.jsx("footer",{className:"mt-16 mb-24 md:mb-8 py-8 border-t border-slate-200 dark:border-neutral-800 text-center",children:v.jsxs("div",{className:"flex flex-col items-center gap-3",children:[v.jsxs("div",{className:"flex items-center gap-2 text-slate-400 dark:text-neutral-500 text-sm",children:[v.jsx(Bd,{className:"w-4 h-4 text-rose-400 fill-rose-400"}),v.jsxs("span",{children:["Creat cu pasiune de ",v.jsx("strong",{className:"text-slate-600 dark:text-neutral-300",children:"Cristian Puravu"})]})]}),v.jsxs("p",{className:"text-xs text-slate-400 dark:text-neutral-600",children:[" ",new Date().getFullYear()," BioSync Pro. Toate drepturile rezervate."]}),v.jsx("p",{className:"text-xs text-slate-400 dark:text-neutral-600 max-w-md",children:"Informaiile din aceast aplicaie sunt n scop educaional i nu nlocuiesc sfatul medical profesional."})]})})]})})]}):Xi()}T_.createRoot(document.getElementById("root")).render(v.jsx(g_.StrictMode,{children:v.jsx(sS,{})}));
